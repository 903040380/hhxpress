<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EASYPRESS</title>
  <link rel="stylesheet" href="/assets/client-entry-CEv_5302.css">
  <body>
    <div id="root"><header class="fixed left-0 top-0 z-10 w-full"><div class="border-divider bg-bg-default h-nav border-b px-[12px] pt-px transition-colors duration-300"><div class="flex h-full items-center justify-between"><div class="flex h-full justify-start"><div class="h-full"><nav class="mx-[12px] flex h-full items-center"><a href="/"><img src="/favicon.jpg" class="h-[24px] w-[24px]"/></a></nav></div></div><div class="flex h-full justify-end"><div class="h-full"><nav class="mx-[12px] h-full justify-end"><a href="/" class="text-text-2 text-hover flex h-full items-center whitespace-nowrap text-[14px] font-[500]">主页</a></nav></div><div class="h-full"><nav class="mx-[12px] h-full justify-end"><a href="/dir/markx" class="text-brand text-hover flex h-full items-center whitespace-nowrap text-[14px] font-[500]">指南</a></nav></div><div class="h-full"><nav class="mx-[4px] flex h-full items-center"><button class="bg-bg-switch border-divider hover:border-gray-1 relative h-[22px] w-[40px] rounded-[11px] border transition-colors duration-300"><div class="bg-bg-inverse shadow-1 absolute left-px top-px h-[18px] w-[18px] overflow-hidden rounded-[50%] transition-all duration-300 dark:translate-x-[18px]"><span class="*:text-text-2 *:absolute *:left-[3px] *:top-[3px] *:h-[12px] *:w-[12px] *:transition-opacity *:duration-300"><div class="icon-[carbon--sun] opacity-100 dark:opacity-0"></div><div class="icon-[carbon--moon] opacity-0 dark:opacity-100"></div></span></div></button></nav></div><div class="h-full"><nav class="mx-[12px] h-full"><a href="https://github.com/houhongxu/hhxpress" class="text-text-2 text-hover flex  h-full items-center"><span class="icon-[carbon--logo-github] h-[24px] w-[24px]"></span></a></nav></div></div></div></div></header><div class="pt-nav"><aside class="mt-nav w-sidebar border-divider bg-bg-sidebar pc:-translate-x-0 fixed inset-y-0 left-0 -translate-x-full overflow-y-auto border-r px-[28px] py-[16px] transition-transform duration-300"><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>测试mdx</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:175px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a href="/dir/markx" class="text-brand text-hover p-[2px] text-[14px]">mdx</a><a href="/dir/count" class="text-text-2 text-hover p-[2px] text-[14px]">计数器</a><a href="/dir/count1" class="text-text-2 text-hover p-[2px] text-[14px]">计数器1</a><a href="/dir/count2" class="text-text-2 text-hover p-[2px] text-[14px]">计数器2</a><a href="/dir/count3" class="text-text-2 text-hover p-[2px] text-[14px]">计数器3</a><a href="/dir/count4" class="text-text-2 text-hover p-[2px] text-[14px]">计数器4</a><a href="/dir/count5" class="text-text-2 text-hover p-[2px] text-[14px]">计数器5</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>测试mdx2</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:125px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a href="/dir/count1" class="text-text-2 text-hover p-[2px] text-[14px]">计数器1</a><a href="/dir/count2" class="text-text-2 text-hover p-[2px] text-[14px]">计数器2</a><a href="/dir/count3" class="text-text-2 text-hover p-[2px] text-[14px]">计数器3</a><a href="/dir/count4" class="text-text-2 text-hover p-[2px] text-[14px]">计数器4</a><a href="/dir/count5" class="text-text-2 text-hover p-[2px] text-[14px]">计数器5</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>测试mdx3</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:125px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a href="/dir/count1" class="text-text-2 text-hover p-[2px] text-[14px]">计数器1</a><a href="/dir/count2" class="text-text-2 text-hover p-[2px] text-[14px]">计数器2</a><a href="/dir/count3" class="text-text-2 text-hover p-[2px] text-[14px]">计数器3</a><a href="/dir/count4" class="text-text-2 text-hover p-[2px] text-[14px]">计数器4</a><a href="/dir/count5" class="text-text-2 text-hover p-[2px] text-[14px]">计数器5</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>测试mdx4</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:125px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a href="/dir/汉字" class="text-text-2 text-hover p-[2px] text-[14px]">汉字</a><a href="/dir/count2" class="text-text-2 text-hover p-[2px] text-[14px]">计数器2</a><a href="/dir/count3" class="text-text-2 text-hover p-[2px] text-[14px]">计数器3</a><a href="/dir/count4" class="text-text-2 text-hover p-[2px] text-[14px]">计数器4</a><a href="/dir/count5" class="text-text-2 text-hover p-[2px] text-[14px]">计数器5</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>测试mdx5</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:125px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a href="/dir/count1" class="text-text-2 text-hover p-[2px] text-[14px]">计数器1</a><a href="/dir/count2" class="text-text-2 text-hover p-[2px] text-[14px]">计数器2</a><a href="/dir/count3" class="text-text-2 text-hover p-[2px] text-[14px]">计数器3</a><a href="/dir/count4" class="text-text-2 text-hover p-[2px] text-[14px]">计数器4</a><a href="/dir/count5" class="text-text-2 text-hover p-[2px] text-[14px]">计数器5</a></div></div></aside><div class="pc:ml-sidebar ml-0 flex justify-between"><div class="doc mx-auto w-full max-w-[768px] p-[48px] transition-[margin] duration-300"><h1 id="markx"><a class="autolink-headings" href="#markx"><span style="margin-right:4px">#</span></a>markx</h1>
<!-- -->
<div><p>0</p><button>点击加1</button></div>
<div style="background:red;margin:10px">我是jsx的div</div>
<h2 id="gfm"><a class="autolink-headings" href="#gfm"><span style="margin-right:4px">#</span></a>GFM</h2>
<p>执行上下文就是 JavaScript 执行一段代码时的运行环境</p>
<p>执行上下文种类分为：</p>
<p>全局执行上下文
函数执行上下文
块级执行上下文 （es6 后出现）
eval 执行上下文 (暂不考虑)
注意，全局执行上下文是在编译阶段就生成并存储在执行上下文栈中的</p>
<p>每一次执行到**(函数/代码块)时，就会创建(函数/块级)执行上下文，然后放入执行上下文栈**中，执行完后弹出</p>
<p>所以全局执行上下文直到程序终止前都会存在 当递归调用函数时，没有终止条件就一直入栈，会产生著名的栈溢出(Stack Overflow)</p>
<p>执行上下文创建时，会：</p>
<p>为了新增块级作用域并兼容变量提升等旧特性，出现了新的定义比如词法环境和变量环境，本质并没有太大变化，但是尽量以 es3 为基础理解，以 es2018 为基础应用</p>
<p>es3:</p>
<p>创建变量对象 VO(作用域)：存储变量声明+函数声明+函数参数名(全局创建全局对象 GO，函数创建活动对象 AO 并初始化 arguments)
创建作用域链 Scope：有序链表，包括自身变量对象+父级作用域[[scope]]
确定 this 的指向
es6:</p>
<p>创建词法环境：环境记录（变量对象）+ 外部环境引用 outer(作用域链) (存储变量 let/const 的内容)
创建变量环境：与词法环境类似 (存储变量提升的内容)
确定 this 的指向
es2018:</p>
<p>创建词法环境：环境记录（变量对象）+ 外部环境引用 outer(作用域链) + this (存储变量 let/const 的内容)
创建变量环境：与词法环境类似 (存储变量提升的内容)
很多其他环境暂时不关注
执行上下文栈是按执行顺序压入的，但是代码作用域往往不同于调用的顺序，所以作用域是通过作用域链来控制代码可以访问的变量等内容</p>
<h2 id="22222如果我是汉字-标题的id是什么呢-autolink-literals"><a class="autolink-headings" href="#22222如果我是汉字-标题的id是什么呢-autolink-literals"><span style="margin-right:4px">#</span></a>22222如果我是汉字 标题的id是什么呢 Autolink literals</h2>
<p>作用域和作用域链
作用域是 es3 的知识了，我们拓展到 2018 进行理解</p>
<p>JavaScript 采用词法(静态)作用域，就是指作用域是由代码中函数(代码块)声明的位置来决定的</p>
<p>作用域种类分为：</p>
<p>全局作用域（es3 全局对象 GO）(es2018 (词法/变量)环境的一部分)
函数作用域（es3 活动对象 AO）(es2018 (词法/变量)环境的一部分)
块级作用域 (es2018 词法环境的一部分)
es3 执行阶段先看自身作用域再看父级作用域[[scope]]，注意[[scope]]是我们无法看到的</p>
<p>es2018 执行阶段先查找词法环境再查找变量环境再查找 outer，即先看块级作用域再看函数作用域再看父级作用域，通过这种方式解决了新增 let/const 的块级作用域的问题</p>
<p>作用域和作用域链
作用域是 es3 的知识了，我们拓展到 2018 进行理解</p>
<p>JavaScript 采用词法(静态)作用域，就是指作用域是由代码中函数(代码块)声明的位置来决定的</p>
<p>作用域种类分为：</p>
<p>全局作用域（es3 全局对象 GO）(es2018 (词法/变量)环境的一部分)
函数作用域（es3 活动对象 AO）(es2018 (词法/变量)环境的一部分)
块级作用域 (es2018 词法环境的一部分)
es3 执行阶段先看自身作用域再看父级作用域[[scope]]，注意[[scope]]是我们无法看到的</p>
<p>es2018 执行阶段先查找词法环境再查找变量环境再查找 outer，即先看块级作用域再看函数作用域再看父级作用域，通过这种方式解决了新增 let/const 的块级作用域的问题</p>
<p><a href="http://www.example.com">www.example.com</a>, <a href="https://example.com">https://example.com</a>, and <a href="mailto:contact@example.com">contact@example.com</a>.</p>
<h2 id="footnote3333"><a class="autolink-headings" href="#footnote3333"><span style="margin-right:4px">#</span></a>Footnote3333</h2>
<p>闭包是一个包含环境的函数</p>
<p>环境指的是内部函数引用外部函数的变量的集合</p>
<p>根据词法作用域的规则，内部函数总是可以访问它们的外部函数中的变量</p>
<p>当外部函数执行完时，内部函数引用的外包函数的变量依然保存在内存中</p>
<p>也有人称保存的这些变量的集合叫闭包</p>
<p>在 chrome 控制台就可以看到闭包的特性</p>
<p>chorme 控制台的[[Scopes]]
[[Scopes]] 不是内部 JavaScript 属性，它是 Chromium 调试器创建的功能</p>
<p>见 stackoverflow</p>
<p>[[Scopes]]在 chrome 版本 114.0.5735.198（正式版本） (arm64) 浏览器内可以观察闭包</p>
<p>在控制台可以通过console.dir看到属性[[Scopes]]</p>
<p>[[Scopes]]是一个类数组的栈结构，[Closure,Script,Global]</p>
<p>Closure：闭包作用域
Script：Script 标签的作用域（控制台没有标签则没有变量内容)
Global：全局作用域</p>
<h4 id="four"><a class="autolink-headings" href="#four"><span style="margin-right:4px">#</span></a>four</h4>
<p>所以就有了 this 机制，</p>
<p>上面创建执行上下文的时候也创建了 this，所以 this 也是分为：</p>
<p>全局执行上下文 this
函数执行上下文 this
eval 执行上下文 this (暂不考虑)
而他们都是一种指向：</p>
<p>直接调用：在浏览器中，指向 window，严格模式指向 undefined。node 中则指向 global，严格模式指向 undefined
也有方法使 this 指向不同值：</p>
<p>对象方法调用：this 指向调用它的对象</p>
<h5 id="five"><a class="autolink-headings" href="#five"><span style="margin-right:4px">#</span></a>five</h5>
<p>memo 通过浅比较 props 的每个值 来判断是否需要重新渲染子组件，而且可以指定具体渲染条件</p>
<p>这个浅比较很关键，当属性是基本类型变量时，比较是是其本身的值，当属性是函数等引用类型变量时，比较的是引用的地址</p>
<p>属性在父组件是否是状态也很关键，如果是状态，就算是引用类型变量比如对象，那地址也是不随父组件每次渲染而刷新的</p>
<p>所以，需要严格关注引用类型变量在父组件的情况</p>
<p>比如 这里子组件属性是 right，那么当 right 值不变时，子组件就不随父组件渲染</p>
<p>如果这里子组件属性是 handleClick，因为 handleClick 在父组件不是状态，所以父组件每次渲染都刷新其地址，所以 memo 也没有效果，需要配合 useCallback</p>
<p>所以 memo 在属性不仅仅是基本类型变量时，需要配合一些 hook 使用</p>
<p>如果子组件渲染性能消耗不是很多的话就没必要使用 memo，因为缓存本身就消耗性能， useCallback 或 useMemo 同理</p>
<p>当 props 在父组件都是状态时
无需额外考虑</p>
<h6 id="six"><a class="autolink-headings" href="#six"><span style="margin-right:4px">#</span></a>six</h6>
<p>请求页面的来源地址</p>
<p>服务器通过 referer 记录的来源来判断是否是内部域名</p>
<p>例如：但是可以直接复制链接打开<a href="https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png">https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png</a></p>
<p>因为直接访问没有 Referer 请求头
请求页面的来源地址</p>
<p>服务器通过 referer 记录的来源来判断是否是内部域名</p>
<p>例如：但是可以直接复制链接打开<a href="https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png">https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png</a></p>
<p>因为直接访问没有 Referer 请求头
请求页面的来源地址</p>
<p>服务器通过 referer 记录的来源来判断是否是内部域名</p>
<p>例如：但是可以直接复制链接打开<a href="https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png">https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png</a></p>
<p>因为直接访问没有 Referer 请求头
请求页面的来源地址</p>
<p>服务器通过 referer 记录的来源来判断是否是内部域名</p>
<p>例如：但是可以直接复制链接打开<a href="https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png">https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png</a></p>
<p>因为直接访问没有 Referer 请求头
请求页面的来源地址</p>
<p>服务器通过 referer 记录的来源来判断是否是内部域名</p>
<p>例如：但是可以直接复制链接打开<a href="https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png">https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png</a></p>
<p>因为直接访问没有 Referer 请求头
请求页面的来源地址</p>
<p>服务器通过 referer 记录的来源来判断是否是内部域名</p>
<p>例如：但是可以直接复制链接打开<a href="https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png">https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png</a></p>
<p>因为直接访问没有 Referer 请求头
请求页面的来源地址</p>
<p>服务器通过 referer 记录的来源来判断是否是内部域名</p>
<p>例如：但是可以直接复制链接打开<a href="https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png">https://i0.hdslb.com/bfs/banner/728f45f115c9b99752bb162664600a183b23c8da.png</a></p>
<p>因为直接访问没有 Referer 请求头</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="ts" data-theme="github-light"><code data-language="ts" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> createRuntimeDevServer</span><span style="color:#24292E">({</span></span>
<span data-line=""><span style="color:#E36209">  root</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> process.</span><span style="color:#6F42C1">cwd</span><span style="color:#24292E">(),</span></span>
<span data-line=""><span style="color:#E36209">  siteConfig</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#E36209">  restartRuntimeDevServer</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#24292E">}</span><span style="color:#D73A49">:</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#E36209">  root</span><span style="color:#D73A49">?:</span><span style="color:#005CC5"> string</span></span>
<span data-line=""><span style="color:#E36209">  siteConfig</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> SiteConfig</span></span>
<span data-line=""><span style="color:#6F42C1">  restartRuntimeDevServer</span><span style="color:#D73A49">:</span><span style="color:#24292E"> () </span><span style="color:#D73A49">=&gt;</span><span style="color:#6F42C1"> Promise</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">void</span><span style="color:#24292E">&gt;</span></span>
<span data-line=""><span style="color:#24292E">}) {</span></span>
<span data-line=""><span style="color:#D73A49">  return</span><span style="color:#6F42C1"> createServer</span><span style="color:#24292E">({</span></span>
<span data-line=""><span style="color:#24292E">    root: </span><span style="color:#005CC5">ROOT_PATH</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#24292E">    server: {</span></span>
<span data-line=""><span style="color:#24292E">      host: </span><span style="color:#005CC5">true</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#24292E">    },</span></span>
<span data-line=""><span style="color:#24292E">    plugins: </span><span style="color:#6F42C1">createPlugins</span><span style="color:#24292E">({ root, restartRuntimeDevServer, siteConfig }),</span></span>
<span data-line=""><span style="color:#24292E">  })</span></span>
<span data-line=""><span style="color:#24292E">}</span></span></code></pre></figure><footer class="mt-[32px]"><div class="border-divider flex justify-between border-t pt-[24px]"><div class="w-[calc(50%-4px)]"></div><div class="w-[calc(50%-4px)]"><a href="/dir/count" class="border-divider hover:border-brand group block h-full w-full rounded-[8px] border px-[16px] py-[8px] transition-colors duration-300"><div class="text-text-2 text-[12px] font-[500] leading-[20px]">下一页</div><div class="text-text-2 group-hover:text-brand text-[14px] font-[500] leading-[20px] transition-colors duration-300">计数器</div></a></div></div></footer></div><aside class="w-toc full:flex sticky top-[calc(theme(spacing.nav)+48px)] hidden h-full flex-col"><div class="border-divider border-l px-[16px] font-[500]"><div class="bg-brand absolute left-0 h-[18px] w-px transition-[opacity,top] duration-300" style="top:33px;opacity:0"></div><div class="text-[14px] font-[600] leading-[28px]">本页目录</div><div><div><a href="#gfm" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">GFM</a></div><div><a href="#22222如果我是汉字-标题的id是什么呢-autolink-literals" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">22222如果我是汉字 标题的id是什么呢 Autolink literals</a></div><div><a href="#footnote3333" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">Footnote3333</a></div><div><a href="#four" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:2rem">four</a></div><div><a href="#five" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:3rem">five</a></div><div><a href="#six" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:4rem">six</a></div></div></div></aside></div></div></div>
  
    <script type="module" src="/client-entry.js"></script>
    </body>
    
</html>
