function Eu(l,e){for(var s=0;s<e.length;s++){const t=e[s];if(typeof t!="string"&&!Array.isArray(t)){for(const r in t)if(r!=="default"&&!(r in l)){const o=Object.getOwnPropertyDescriptor(t,r);o&&Object.defineProperty(l,r,o.get?o:{enumerable:!0,get:()=>t[r]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}function Nc(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Bc={exports:{}},xt={},Lc={exports:{}},N={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=Symbol.for("react.element"),gu=Symbol.for("react.portal"),Cu=Symbol.for("react.fragment"),vu=Symbol.for("react.strict_mode"),Au=Symbol.for("react.profiler"),Du=Symbol.for("react.provider"),_u=Symbol.for("react.context"),ku=Symbol.for("react.forward_ref"),Fu=Symbol.for("react.suspense"),wu=Symbol.for("react.memo"),Su=Symbol.for("react.lazy"),ti=Symbol.iterator;function Tu(l){return l===null||typeof l!="object"?null:(l=ti&&l[ti]||l["@@iterator"],typeof l=="function"?l:null)}var $c={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oc=Object.assign,Ic={};function pl(l,e,s){this.props=l,this.context=e,this.refs=Ic,this.updater=s||$c}pl.prototype.isReactComponent={};pl.prototype.setState=function(l,e){if(typeof l!="object"&&typeof l!="function"&&l!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,l,e,"setState")};pl.prototype.forceUpdate=function(l){this.updater.enqueueForceUpdate(this,l,"forceUpdate")};function zc(){}zc.prototype=pl.prototype;function so(l,e,s){this.props=l,this.context=e,this.refs=Ic,this.updater=s||$c}var to=so.prototype=new zc;to.constructor=so;Oc(to,pl.prototype);to.isPureReactComponent=!0;var ri=Array.isArray,Gc=Object.prototype.hasOwnProperty,ro={current:null},bc={key:!0,ref:!0,__self:!0,__source:!0};function Uc(l,e,s){var t,r={},o=null,i=null;if(e!=null)for(t in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)Gc.call(e,t)&&!bc.hasOwnProperty(t)&&(r[t]=e[t]);var a=arguments.length-2;if(a===1)r.children=s;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];r.children=c}if(l&&l.defaultProps)for(t in a=l.defaultProps,a)r[t]===void 0&&(r[t]=a[t]);return{$$typeof:os,type:l,key:o,ref:i,props:r,_owner:ro.current}}function Pu(l,e){return{$$typeof:os,type:l.type,key:e,ref:l.ref,props:l.props,_owner:l._owner}}function oo(l){return typeof l=="object"&&l!==null&&l.$$typeof===os}function Mu(l){var e={"=":"=0",":":"=2"};return"$"+l.replace(/[=:]/g,function(s){return e[s]})}var oi=/\/+/g;function Lt(l,e){return typeof l=="object"&&l!==null&&l.key!=null?Mu(""+l.key):e.toString(36)}function Ps(l,e,s,t,r){var o=typeof l;(o==="undefined"||o==="boolean")&&(l=null);var i=!1;if(l===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(l.$$typeof){case os:case gu:i=!0}}if(i)return i=l,r=r(i),l=t===""?"."+Lt(i,0):t,ri(r)?(s="",l!=null&&(s=l.replace(oi,"$&/")+"/"),Ps(r,e,s,"",function(d){return d})):r!=null&&(oo(r)&&(r=Pu(r,s+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(oi,"$&/")+"/")+l)),e.push(r)),1;if(i=0,t=t===""?".":t+":",ri(l))for(var a=0;a<l.length;a++){o=l[a];var c=t+Lt(o,a);i+=Ps(o,e,s,c,r)}else if(c=Tu(l),typeof c=="function")for(l=c.call(l),a=0;!(o=l.next()).done;)o=o.value,c=t+Lt(o,a++),i+=Ps(o,e,s,c,r);else if(o==="object")throw e=String(l),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function xs(l,e,s){if(l==null)return l;var t=[],r=0;return Ps(l,t,"","",function(o){return e.call(s,o,r++)}),t}function Ru(l){if(l._status===-1){var e=l._result;e=e(),e.then(function(s){(l._status===0||l._status===-1)&&(l._status=1,l._result=s)},function(s){(l._status===0||l._status===-1)&&(l._status=2,l._result=s)}),l._status===-1&&(l._status=0,l._result=e)}if(l._status===1)return l._result.default;throw l._result}var he={current:null},Ms={transition:null},Nu={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:Ms,ReactCurrentOwner:ro};N.Children={map:xs,forEach:function(l,e,s){xs(l,function(){e.apply(this,arguments)},s)},count:function(l){var e=0;return xs(l,function(){e++}),e},toArray:function(l){return xs(l,function(e){return e})||[]},only:function(l){if(!oo(l))throw Error("React.Children.only expected to receive a single React element child.");return l}};N.Component=pl;N.Fragment=Cu;N.Profiler=Au;N.PureComponent=so;N.StrictMode=vu;N.Suspense=Fu;N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nu;N.cloneElement=function(l,e,s){if(l==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+l+".");var t=Oc({},l.props),r=l.key,o=l.ref,i=l._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=ro.current),e.key!==void 0&&(r=""+e.key),l.type&&l.type.defaultProps)var a=l.type.defaultProps;for(c in e)Gc.call(e,c)&&!bc.hasOwnProperty(c)&&(t[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)t.children=s;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];t.children=a}return{$$typeof:os,type:l.type,key:r,ref:o,props:t,_owner:i}};N.createContext=function(l){return l={$$typeof:_u,_currentValue:l,_currentValue2:l,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},l.Provider={$$typeof:Du,_context:l},l.Consumer=l};N.createElement=Uc;N.createFactory=function(l){var e=Uc.bind(null,l);return e.type=l,e};N.createRef=function(){return{current:null}};N.forwardRef=function(l){return{$$typeof:ku,render:l}};N.isValidElement=oo;N.lazy=function(l){return{$$typeof:Su,_payload:{_status:-1,_result:l},_init:Ru}};N.memo=function(l,e){return{$$typeof:wu,type:l,compare:e===void 0?null:e}};N.startTransition=function(l){var e=Ms.transition;Ms.transition={};try{l()}finally{Ms.transition=e}};N.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};N.useCallback=function(l,e){return he.current.useCallback(l,e)};N.useContext=function(l){return he.current.useContext(l)};N.useDebugValue=function(){};N.useDeferredValue=function(l){return he.current.useDeferredValue(l)};N.useEffect=function(l,e){return he.current.useEffect(l,e)};N.useId=function(){return he.current.useId()};N.useImperativeHandle=function(l,e,s){return he.current.useImperativeHandle(l,e,s)};N.useInsertionEffect=function(l,e){return he.current.useInsertionEffect(l,e)};N.useLayoutEffect=function(l,e){return he.current.useLayoutEffect(l,e)};N.useMemo=function(l,e){return he.current.useMemo(l,e)};N.useReducer=function(l,e,s){return he.current.useReducer(l,e,s)};N.useRef=function(l){return he.current.useRef(l)};N.useState=function(l){return he.current.useState(l)};N.useSyncExternalStore=function(l,e,s){return he.current.useSyncExternalStore(l,e,s)};N.useTransition=function(){return he.current.useTransition()};N.version="18.2.0";Lc.exports=N;var F=Lc.exports;const k=Nc(F),Bu=Eu({__proto__:null,default:k},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu=F,$u=Symbol.for("react.element"),Ou=Symbol.for("react.fragment"),Iu=Object.prototype.hasOwnProperty,zu=Lu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gu={key:!0,ref:!0,__self:!0,__source:!0};function Vc(l,e,s){var t,r={},o=null,i=null;s!==void 0&&(o=""+s),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(t in e)Iu.call(e,t)&&!Gu.hasOwnProperty(t)&&(r[t]=e[t]);if(l&&l.defaultProps)for(t in e=l.defaultProps,e)r[t]===void 0&&(r[t]=e[t]);return{$$typeof:$u,type:l,key:o,ref:i,props:r,_owner:zu.current}}xt.Fragment=Ou;xt.jsx=Vc;xt.jsxs=Vc;Bc.exports=xt;var n=Bc.exports;const ii={docs:"docs",title:"ZEROPRESS",description:"SSG Framework",themeConfig:{nav:[{text:"笔记",link:"/%E7%AC%94%E8%AE%B0/0%E4%BB%8B%E7%BB%8D/intro"},{img:"/favicon.jpg",link:"/",position:"left"},{dark:!0,link:"/"},{logo:"github",link:"https://github.com/houhongxu/hhxpress"}],sidebar:{"/%E7%AC%94%E8%AE%B0":[{text:"介绍",items:[{text:"intro",link:"/%E7%AC%94%E8%AE%B0/0%E4%BB%8B%E7%BB%8D/intro"}]},{text:"git",items:[{text:"常用命令",link:"/%E7%AC%94%E8%AE%B0/1git/0%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"},{text:"版本控制系统VCS",link:"/%E7%AC%94%E8%AE%B0/1git/1%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9FVCS"},{text:"分布式版本控制系统DVCS",link:"/%E7%AC%94%E8%AE%B0/1git/2%E5%88%86%E5%B8%83%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9FDVCS"},{text:"HEAD与master与branch",link:"/%E7%AC%94%E8%AE%B0/1git/3HEAD%E4%B8%8Emaster%E4%B8%8Ebranch"},{text:"push",link:"/%E7%AC%94%E8%AE%B0/1git/4push"},{text:"merge",link:"/%E7%AC%94%E8%AE%B0/1git/5merge"},{text:"feature branch",link:"/%E7%AC%94%E8%AE%B0/1git/6feature%20branch"},{text:"rebase",link:"/%E7%AC%94%E8%AE%B0/1git/7rebase"},{text:"revert",link:"/%E7%AC%94%E8%AE%B0/1git/8revert"},{text:"reset",link:"/%E7%AC%94%E8%AE%B0/1git/9reset"},{text:"checkout",link:"/%E7%AC%94%E8%AE%B0/1git/10checkout"},{text:"stash",link:"/%E7%AC%94%E8%AE%B0/1git/11stash"},{text:"log与reflog",link:"/%E7%AC%94%E8%AE%B0/1git/12log%E4%B8%8Ereflog"},{text:"cherry-pick",link:"/%E7%AC%94%E8%AE%B0/1git/13cherry-pick"},{text:"readme",link:"/%E7%AC%94%E8%AE%B0/1git/99readme"}]},{text:"浏览器",items:[{text:"浏览器进程",link:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/1%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BF%9B%E7%A8%8B"},{text:"TCP协议",link:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/2TCP%E5%8D%8F%E8%AE%AE"},{text:"HTTP协议",link:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/3HTTP%E5%8D%8F%E8%AE%AE"},{text:"浏览器缓存",link:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/4%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98"},{text:"导航流程",link:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/5%E5%AF%BC%E8%88%AA%E6%B5%81%E7%A8%8B"},{text:"渲染流程",link:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/6%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B"},{text:"内存",link:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/13%E5%86%85%E5%AD%98"},{text:"消息队列和事件循环",link:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/16%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E5%92%8C%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF"},{text:"浏览器的dns缓存",link:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/98%20%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84dns%E7%BC%93%E5%AD%98"},{text:"readme",link:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/99readme"}]},{text:"http",items:[{text:"readme",link:"/%E7%AC%94%E8%AE%B0/3http/99readme"}]},{text:"javascript",items:[{text:"引用",link:"/%E7%AC%94%E8%AE%B0/4javascript/1%E5%BC%95%E7%94%A8"},{text:"运算符",link:"/%E7%AC%94%E8%AE%B0/4javascript/2%E8%BF%90%E7%AE%97%E7%AC%A6"},{text:"lodash手写",link:"/%E7%AC%94%E8%AE%B0/4javascript/3lodash%E6%89%8B%E5%86%99"}]},{text:"webpack",items:[{text:"使用 node api 学习 webpack",link:"/%E7%AC%94%E8%AE%B0/5webpack/1%E4%BD%BF%E7%94%A8%20node%20api%20%E5%AD%A6%E4%B9%A0%20webpack"},{text:"cjs运行时分析",link:"/%E7%AC%94%E8%AE%B0/5webpack/2cjs%E8%BF%90%E8%A1%8C%E6%97%B6%E5%88%86%E6%9E%90"},{text:"cjs模块收集与ast",link:"/%E7%AC%94%E8%AE%B0/5webpack/3cjs%E6%A8%A1%E5%9D%97%E6%94%B6%E9%9B%86%E4%B8%8East"},{text:"文件名中的hash",link:"/%E7%AC%94%E8%AE%B0/5webpack/4%E6%96%87%E4%BB%B6%E5%90%8D%E4%B8%AD%E7%9A%84hash"},{text:"cjs与esm",link:"/%E7%AC%94%E8%AE%B0/5webpack/5cjs%E4%B8%8Eesm"},{text:"esm to cjs",link:"/%E7%AC%94%E8%AE%B0/5webpack/6esm%20to%20cjs"},{text:"code spliting运行时分析",link:"/%E7%AC%94%E8%AE%B0/5webpack/7code%20spliting%E8%BF%90%E8%A1%8C%E6%97%B6%E5%88%86%E6%9E%90"},{text:"magic comment",link:"/%E7%AC%94%E8%AE%B0/5webpack/8magic%20comment"},{text:"hash 的增强",link:"/%E7%AC%94%E8%AE%B0/5webpack/9hash%20%E7%9A%84%E5%A2%9E%E5%BC%BA"},{text:"module与chunk与asset",link:"/%E7%AC%94%E8%AE%B0/5webpack/10module%E4%B8%8Echunk%E4%B8%8Easset"},{text:"bundle spliting",link:"/%E7%AC%94%E8%AE%B0/5webpack/11bundle%20spliting"},{text:"高效分包",link:"/%E7%AC%94%E8%AE%B0/5webpack/12%E9%AB%98%E6%95%88%E5%88%86%E5%8C%85"},{text:"loader初识",link:"/%E7%AC%94%E8%AE%B0/5webpack/13loader%E5%88%9D%E8%AF%86"},{text:"json处理",link:"/%E7%AC%94%E8%AE%B0/5webpack/14json%E5%A4%84%E7%90%86"},{text:"import assertions",link:"/%E7%AC%94%E8%AE%B0/5webpack/15import%20assertions"},{text:"html处理",link:"/%E7%AC%94%E8%AE%B0/5webpack/16html%E5%A4%84%E7%90%86"},{text:"图片处理",link:"/%E7%AC%94%E8%AE%B0/5webpack/17%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86"},{text:"小图片处理",link:"/%E7%AC%94%E8%AE%B0/5webpack/18%E5%B0%8F%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86"},{text:"svg图片处理",link:"/%E7%AC%94%E8%AE%B0/5webpack/19svg%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86"},{text:"简单样式处理",link:"/%E7%AC%94%E8%AE%B0/5webpack/20%E7%AE%80%E5%8D%95%E6%A0%B7%E5%BC%8F%E5%A4%84%E7%90%86"},{text:"readme",link:"/%E7%AC%94%E8%AE%B0/5webpack/99readme"}]},{text:"ahooks",items:[{text:"useLocalStorageState与useSessionStorageState",link:"/%E7%AC%94%E8%AE%B0/6ahooks/1useLocalStorageState%E4%B8%8EuseSessionStorageState"},{text:"useUpdateEffect 与 useUpdateLayoutEffectt",link:"/%E7%AC%94%E8%AE%B0/6ahooks/2useUpdateEffect%20%E4%B8%8E%20useUpdateLayoutEffectt"},{text:"useLatest与useMemoizedFn",link:"/%E7%AC%94%E8%AE%B0/6ahooks/3useLatest%E4%B8%8EuseMemoizedFn"},{text:"use(Raf)Timeout与use(Raf)Interval与useCountDown",link:"/%E7%AC%94%E8%AE%B0/6ahooks/4use(Raf)Timeout%E4%B8%8Euse(Raf)Interval%E4%B8%8EuseCountDown"},{text:"useRequest",link:"/%E7%AC%94%E8%AE%B0/6ahooks/5useRequest"},{text:"useMount与useUnMount与useMountedRefx.md",link:"/%E7%AC%94%E8%AE%B0/6ahooks/6useMount%E4%B8%8EuseUnMount%E4%B8%8EuseMountedRefx.md"},{text:"useUpdate",link:"/%E7%AC%94%E8%AE%B0/6ahooks/7useUpdate"},{text:"useCreation",link:"/%E7%AC%94%E8%AE%B0/6ahooks/8useCreation"},{text:"useDeepCompareEffect",link:"/%E7%AC%94%E8%AE%B0/6ahooks/9useDeepCompareEffect"},{text:"useAnimationFrame和计时器",link:"/%E7%AC%94%E8%AE%B0/6ahooks/97useAnimationFrame%E5%92%8C%E8%AE%A1%E6%97%B6%E5%99%A8"},{text:"工具函数",link:"/%E7%AC%94%E8%AE%B0/6ahooks/98.%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0"}]}]},autoNav:!0,autoSidebar:!0},vite:{}},bu="modulepreload",Uu=function(l){return"/"+l},ai={},w=function(e,s,t){let r=Promise.resolve();if(s&&s.length>0){const o=document.getElementsByTagName("link");r=Promise.all(s.map(i=>{if(i=Uu(i),i in ai)return;ai[i]=!0;const a=i.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!t)for(let x=o.length-1;x>=0;x--){const y=o[x];if(y.href===i&&(!a||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${c}`))return;const j=document.createElement("link");if(j.rel=a?"stylesheet":bu,a||(j.as="script",j.crossOrigin=""),j.href=i,document.head.appendChild(j),a)return new Promise((x,y)=>{j.addEventListener("load",x),j.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${i}`)))})}))}return r.then(()=>e()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},Vu=()=>[],Hu={pageType:"home"};function ci(l){return n.jsx(n.Fragment,{})}function Hc(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(ci,{...l})}):ci()}const Xu=()=>Hu,Wu=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Xu,GetToc:Vu,default:Hc},Symbol.toStringTag,{value:"Module"})),Qu=()=>[],Ku=void 0;function di(l){const e={a:"a",h1:"h1",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"笔记",children:[n.jsx(e.a,{className:"autolink-headings",href:"#笔记",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"笔记"]}),`
`,n.jsx(e.p,{children:"温故知新"}),`
`,n.jsx(e.p,{children:"一开始的笔记都是机械的复制关键点重组，记忆很浅，仅方便查阅"}),`
`,n.jsx(e.p,{children:"现在可以希望用疑问->解决->复述的方式加深记忆"})]})}function Xc(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(di,{...l})}):di(l)}const qu=()=>Ku,Yu=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:qu,GetToc:Qu,default:Xc},Symbol.toStringTag,{value:"Module"})),Ju=()=>[],Zu=void 0;function hi(l){const e={a:"a",h1:"h1",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"参考",children:[n.jsx(e.a,{className:"autolink-headings",href:"#参考",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"参考"]}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://q.shanyue.tech/",children:"山月"})})]})}function Wc(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(hi,{...l})}):hi(l)}const ex=()=>Zu,nx=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:ex,GetToc:Ju,default:Wc},Symbol.toStringTag,{value:"Module"})),lx=()=>[{id:"c",text:"c++",depth:2},{id:"js",text:"js",depth:2}],sx=void 0;function pi(l){const e={a:"a",h1:"h1",h2:"h2",li:"li",p:"p",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"引用",children:[n.jsx(e.a,{className:"autolink-headings",href:"#引用",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"引用"]}),`
`,n.jsxs(e.h2,{id:"c",children:[n.jsx(e.a,{className:"autolink-headings",href:"#c",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"c++"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"指针：指向的内存地址，直接访问是内存地址，通过*访问值"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"指针常量（引用） int * const p：是指针的常量，不能切换指向，和 js 无可比性"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"常量指针 const int * p：指向常量的指针"}),`
`]}),`
`]}),`
`,n.jsxs(e.h2,{id:"js",children:[n.jsx(e.a,{className:"autolink-headings",href:"#js",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"js"]}),`
`,n.jsx(e.p,{children:"js 没有指针"}),`
`,n.jsx(e.p,{children:"js 的引用可以对比 c++的指针，同样是指向内存地址，但是 js 直接访问就是值"})]})}function Qc(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(pi,{...l})}):pi(l)}const tx=()=>sx,rx=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:tx,GetToc:lx,default:Qc},Symbol.toStringTag,{value:"Module"})),ox=()=>[],ix=void 0;function ui(l){const e={a:"a",h1:"h1",li:"li",p:"p",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"运算符",children:[n.jsx(e.a,{className:"autolink-headings",href:"#运算符",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"运算符"]}),`
`,n.jsx(e.p,{children:"赋值运算符"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"优先级"}),`
`,n.jsx(e.li,{children:`结合性，只有在优先级相同时，结合性才发挥作用
赋值运算符=是右结合，即从右开始加括号，如 a = b = c = 3 为 a = (b = (c = 3))`}),`
`]})]})}function Kc(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(ui,{...l})}):ui(l)}const ax=()=>ix,cx=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:ax,GetToc:ox,default:Kc},Symbol.toStringTag,{value:"Module"})),dx=()=>[{id:"keyby",text:"keyBy",depth:2},{id:"mapkeys",text:"mapKeys",depth:3},{id:"merge",text:"merge",depth:3}],hx=void 0;function xi(l){const e={a:"a",code:"code",figure:"figure",h1:"h1",h2:"h2",h3:"h3",pre:"pre",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"loadash-手写",children:[n.jsx(e.a,{className:"autolink-headings",href:"#loadash-手写",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"loadash 手写"]}),`
`,n.jsxs(e.h2,{id:"keyby",children:[n.jsx(e.a,{className:"autolink-headings",href:"#keyby",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"keyBy"]}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" keyBy"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"K"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" extends"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" keyof"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" T"}),n.jsx(e.span,{style:{color:"#24292E"},children:">("}),n.jsx(e.span,{style:{color:"#E36209"},children:"arr"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" T"}),n.jsx(e.span,{style:{color:"#24292E"},children:"[], "}),n.jsx(e.span,{style:{color:"#E36209"},children:"key"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" K"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" arr."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"reduce"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(("}),n.jsx(e.span,{style:{color:"#E36209"},children:"pre"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#E36209"},children:"cur"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" itemKey"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" cur[key];"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" itemKey "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#032F62"},children:' "string"'}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ||"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" itemKey "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#032F62"},children:' "number"'}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      pre[itemKey "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"as"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" string"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#24292E"},children:"] "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" cur;"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" pre;"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  }, {} "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"as"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Record"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#005CC5"},children:"string"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#24292E"},children:">);"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})}),`
`,n.jsxs(e.h3,{id:"mapkeys",children:[n.jsx(e.a,{className:"autolink-headings",href:"#mapkeys",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"mapKeys"]}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsx(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:n.jsx(e.span,{"data-line":"",children:" "})})})}),`
`,n.jsxs(e.h3,{id:"merge",children:[n.jsx(e.a,{className:"autolink-headings",href:"#merge",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"merge"]})]})}function qc(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(xi,{...l})}):xi(l)}const px=()=>hx,ux=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:px,GetToc:dx,default:qc},Symbol.toStringTag,{value:"Module"})),xx=()=>[{id:"moduletype",text:"moduleType",depth:2},{id:"chunk",text:"chunk",depth:2}],jx=void 0;function ji(l){const e={a:"a",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"modulechunkasset",children:[n.jsx(e.a,{className:"autolink-headings",href:"#modulechunkasset",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"module/chunk/asset"]}),`
`,n.jsxs(e.h2,{id:"moduletype",children:[n.jsx(e.a,{className:"autolink-headings",href:"#moduletype",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"moduleType"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"javascript/auto：我们在项目内引入的 ESM/CommonJS 的模块 (ESM 模块要看 loader 是如何处理的，也有可能是 javascript/esm 类型，不必深究)"}),`
`,n.jsx(e.li,{children:"javascript/esm：我们在项目内引入的 ESM Package，比如 html-to-image，在其 package.json 中含有 module 字段"}),`
`,n.jsx(e.li,{children:"javascript/dynamic：require('./src' + xxx)，动态加载"}),`
`,n.jsx(e.li,{children:"asset：图片等资源"}),`
`,n.jsx(e.li,{children:"asset/resource：图片等资源"}),`
`,n.jsx(e.li,{children:"runtime：webpack_require 下挂载的诸多方法"}),`
`]}),`
`,n.jsxs(e.h2,{id:"chunk",children:[n.jsx(e.a,{className:"autolink-headings",href:"#chunk",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"chunk"]}),`
`,n.jsx(e.p,{children:"一个 chunk 包含以下属性"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"initial：是否是 initial chunk，即首次 HTML 必须加载的模块"}),`
`,n.jsx(e.li,{children:"entry：是否是 entry chunk"}),`
`,n.jsx(e.li,{children:"hash：chunkhash"}),`
`]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"分析你们项目中打包后 stats 对象的 module/chunk/asset"}),`
`,n.jsx(e.p,{children:"分析"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"contenthash 与 chunkhash 有何区别"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"chunkhash：对应 chunk 的 hash"}),`
`,n.jsx(e.li,{children:"contenthash：对应 chunk 中每个 content 的 hash，比如一个 chunk 中既包含 js，又包含 css 时"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"什么是 Concatenated Module"}),`
`,n.jsx(e.p,{children:"将多个模块打包为 webpack 的一个模块"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"什么是 initial chunk"}),`
`,n.jsx(e.p,{children:"首次 HTML 必须加载的模块"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"output.filename 与 output.chunkFilename 的区别是什么"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"filename：initial chunk 的文件名"}),`
`,n.jsx(e.li,{children:"chunkFilename：非 initial chunk 的文件名"}),`
`]}),`
`]}),`
`]})]})}function Yc(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(ji,{...l})}):ji(l)}const yx=()=>jx,fx=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:yx,GetToc:xx,default:Yc},Symbol.toStringTag,{value:"Module"})),mx=()=>[],Ex=void 0;function yi(l){const e={a:"a",h1:"h1",li:"li",ol:"ol",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"bundle-spliting",children:[n.jsx(e.a,{className:"autolink-headings",href:"#bundle-spliting",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"bundle spliting"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"将示例一中的 common.js 抽出来进行单独打包"}),`
`,n.jsx(e.li,{children:"optimization.splitChunks 中 chunks、minChunks、minSize 各参数代表什么"}),`
`,n.jsx(e.li,{children:"如果将示例一中的 common.js 在 index.js 中引用，即被 initial chunk 引用，打包会发生什么"}),`
`,n.jsx(e.li,{children:"如果将示例二中的 lodash.js 在 index.js 中引用，即被 initial chunk 引用，打包会发生什么"}),`
`]})]})}function Jc(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(yi,{...l})}):yi(l)}const gx=()=>Ex,Cx=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:gx,GetToc:mx,default:Jc},Symbol.toStringTag,{value:"Module"})),vx=()=>[],Ax=void 0;function fi(l){const e={a:"a",h1:"h1",span:"span",...l.components};return n.jsxs(e.h1,{id:"高效分包",children:[n.jsx(e.a,{className:"autolink-headings",href:"#高效分包",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"高效分包"]})}function Zc(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(fi,{...l})}):fi(l)}const Dx=()=>Ax,_x=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Dx,GetToc:vx,default:Zc},Symbol.toStringTag,{value:"Module"})),kx=()=>[],Fx=void 0;function mi(l){return n.jsx(n.Fragment,{})}function ed(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(mi,{...l})}):mi()}const wx=()=>Fx,Sx=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:wx,GetToc:kx,default:ed},Symbol.toStringTag,{value:"Module"})),Tx=()=>[],Px=void 0;function Ei(l){return n.jsx(n.Fragment,{})}function nd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Ei,{...l})}):Ei()}const Mx=()=>Px,Rx=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Mx,GetToc:Tx,default:nd},Symbol.toStringTag,{value:"Module"})),Nx=()=>[],Bx=void 0;function gi(l){return n.jsx(n.Fragment,{})}function ld(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(gi,{...l})}):gi()}const Lx=()=>Bx,$x=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Lx,GetToc:Nx,default:ld},Symbol.toStringTag,{value:"Module"})),Ox=()=>[],Ix=void 0;function Ci(l){return n.jsx(n.Fragment,{})}function sd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Ci,{...l})}):Ci()}const zx=()=>Ix,Gx=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:zx,GetToc:Ox,default:sd},Symbol.toStringTag,{value:"Module"})),bx=()=>[],Ux=void 0;function vi(l){return n.jsx(n.Fragment,{})}function td(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(vi,{...l})}):vi()}const Vx=()=>Ux,Hx=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Vx,GetToc:bx,default:td},Symbol.toStringTag,{value:"Module"})),Xx=()=>[],Wx=void 0;function Ai(l){return n.jsx(n.Fragment,{})}function rd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Ai,{...l})}):Ai()}const Qx=()=>Wx,Kx=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Qx,GetToc:Xx,default:rd},Symbol.toStringTag,{value:"Module"})),qx=()=>[],Yx=void 0;function Di(l){return n.jsx(n.Fragment,{})}function od(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Di,{...l})}):Di()}const Jx=()=>Yx,Zx=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Jx,GetToc:qx,default:od},Symbol.toStringTag,{value:"Module"})),ej=()=>[],nj=void 0;function _i(l){const e={a:"a",h1:"h1",img:"img",li:"li",ol:"ol",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"使用-node-api-学习-webpack",children:[n.jsx(e.a,{className:"autolink-headings",href:"#使用-node-api-学习-webpack",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"使用 node api 学习 webpack​"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"使用 webpack api 打包一个最简的 js 资源"}),`
`,n.jsx(e.p,{children:n.jsx(e.img,{src:"/img/note/5/z-1-1.jpg",alt:"z-1-1"})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"你所使用含有 webpack 的项目中，webpack 是通过 webpack-cli 打包的吗？"}),`
`,n.jsx(e.p,{children:"是，nextjs 和 umijs 2.直播后明白并不是，nextjs 和 umijsj 将 webpack 包直接放入 compiled 文件夹 ，防止依赖更新带来的问题，所以是 api 打包的"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"如何计算每次 webpack 构建时间"}),`
`,n.jsx(e.p,{children:`stat.toJson().time
stat.endTime - stat.statTime`}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"断点调试 webpack 源码，了解其编译时间（startTime/endTime）是如何计算的"}),`
`,n.jsxs(e.p,{children:[`首先进入 run 函数
`,n.jsx(e.img,{src:"/img/note/5/z-1-2.jpg",alt:"z-1-2"}),`
可以看到直接定义了 startTime
下面是要找 endTime
先看最后的调用逻辑
`,n.jsx(e.img,{src:"/img/note/5/z-1-3.jpg",alt:"z-1-3"})]}),`
`,n.jsxs(e.p,{children:[`如果是判断是否闲置，两种情况都执行内部的 run 函数
`,n.jsx(e.img,{src:"/img/note/5/z-1-4.jpg",alt:"z-1-4"})]}),`
`,n.jsxs(e.p,{children:[`再看 run 函数，如果错误执行的 finalCallback 把 err 传给用户，没有错误则执行 onCompiled 函数
`,n.jsx(e.img,{src:"/img/note/5/z-1-5.jpg",alt:"z-1-5"})]}),`
`,n.jsxs(e.p,{children:[`这里便赋值了 startTime 和 endTime，compilation 对象是在调用 onCompiled 时由 webpack 实例的 compile 编译函数传过来的参数
然后 new Stats 生成 stats 实例，实例根据 Stats 里定义的
`,n.jsx(e.img,{src:"/img/note/5/z-1-6.jpg",alt:"z-1-6"})]}),`
`,n.jsx(e.p,{children:"get 函数即可访问 startTime 和 endTime"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"断点调试执行 webpack 命令时的流程，体验它是如何在 webpack/webpack-cli 间相互调用的"}),`
`,n.jsxs(e.p,{children:[`首先执行 webpack/bin/webpack.js
`,n.jsx(e.img,{src:"/img/note/5/z-1-7.jpg",alt:"z-1-7"})]}),`
`,n.jsx(e.p,{children:`其中 runCli 函数根据传入的 cli 对象拼接路径，加载 webpack-cli/bin/cli.js
pkg.bin[cli.binName]即 pkg.bin['webpack-cli']
webpack-cli 的 package.json 里配置了 bin
![z-1-8]/img/note/5/z-1-8.jpg)`}),`
`,n.jsxs(e.p,{children:[`调用逻辑是判断是否安装 webpack，未安装时引导安装，已安装则直接调用 webpack-cli
`,n.jsx(e.img,{src:"/img/note/5/z-1-9.jpg",alt:"z-1-9"})]}),`
`]}),`
`]})]})}function id(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(_i,{...l})}):_i(l)}const lj=()=>nj,sj=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:lj,GetToc:ej,default:id},Symbol.toStringTag,{value:"Module"})),tj=()=>[],rj=void 0;function ki(l){return n.jsx(n.Fragment,{})}function ad(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(ki,{...l})}):ki()}const oj=()=>rj,ij=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:oj,GetToc:tj,default:ad},Symbol.toStringTag,{value:"Module"})),aj=()=>[{id:"作业",text:"作业",depth:2}],cj=void 0;function Fi(l){const e={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"cjs-运行时分析",children:[n.jsx(e.a,{className:"autolink-headings",href:"#cjs-运行时分析",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"cjs 运行时分析"]}),`
`,n.jsxs(e.h2,{id:"作业",children:[n.jsx(e.a,{className:"autolink-headings",href:"#作业",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"作业"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"webpack 运行时代码进行调试三遍并理解"}),`
`,n.jsx(e.p,{children:"调试略"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"webpack 的模块加载器是如何实现的"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.img,{src:"/img/note/5/z-2-1.jpg",alt:"z-2-1"}),`
首先定义全局缓存对象`,n.jsx(e.code,{children:"__webpack_module_cache__"}),`
然后定义打包器函数`,n.jsx(e.code,{children:"__webpack_require__(moduleId){}"}),`
函数中：
首先根据 moduleId 读取全局缓存对象
如果存在缓存，则直接返回缓存模块的 exports 对象
如果不存在缓存，创建新的模块对象，首先根据 moduleId 放入缓存，然后赋值给局部模块对象，此时局部模块对象仅有 exports 属性
然后根据 moduleId 读取全局模块数组，执行该模块函数并传入函数里的局部模块对象，拿到指定模块的 exports 值
最后导出该模块的 exports 值`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"webpack 的运行时代码做了那些事情"}),`
`,n.jsxs(e.p,{children:["首先定义全局模块数组，将模块用带参数的函数包裹并根据 moduleId 放入数组的第一个位置后，第一个位置为入口模块 ",n.jsx(e.code,{children:"__webpack_modules__"}),`
然后定义模块加载器，可以根据 moduleId 执行模块，并返回模块的 exports 值 `,n.jsx(e.code,{children:"__webpack_require__"}),`(moduleId){}
最后执行模块加载器加载入口模块`,n.jsx(e.code,{children:"__webpack_require__(0)"})]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:["CommonJS 中，如果不对 module 进行缓存有什么问题，即不实现以上的 ",n.jsx(e.code,{children:"__webpack_module_cache__"})," 数据结构"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"避免模块反复生成"}),`
`,n.jsx(e.li,{children:"单例模式，每个模块只在第一次被引用时产出模块对象，之后的引用都是同一个对象。"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:["阅读 webpack 模块加载器代码，我们在 CommonJS 中使用 ",n.jsx(e.code,{children:"module.exports"})," 与 ",n.jsx(e.code,{children:"exports"})," 有何区别"]}),`
`,n.jsxs(e.p,{children:["module.exports 是访问 module 的 exports 属性的值，exports 是该值的引用，即类似于",n.jsx(e.code,{children:"const exports=module.exports"})]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:["如何理解 webpack 运行时代码最后是 ",n.jsx(e.code,{children:"__webpack_require__(0)"})]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.img,{src:"/img/note/5/z-2-2.jpg",alt:"z-2-2"}),`
`,n.jsx(e.img,{src:"/img/note/5/z-2-3.jpg",alt:"z-2-3"}),`
执行打包后的 js 然后打印`,n.jsx(e.code,{children:"__webpack_modules__"}),`发现 0 的位置是空的
所以其实 0 只是一个预留位置
解释成是储存入口模块可能更容易理解
且因为`,n.jsx(e.code,{children:"__webpack_modules__"}),"是根据文件的依赖关系进行深度优先遍历得来的数组，所以根节点即入口文件即 0 位置的模块"]}),`
`]}),`
`]})]})}function cd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Fi,{...l})}):Fi(l)}const dj=()=>cj,hj=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:dj,GetToc:aj,default:cd},Symbol.toStringTag,{value:"Module"})),pj=()=>[],uj=void 0;function wi(l){const e={a:"a",h1:"h1",img:"img",li:"li",ol:"ol",p:"p",span:"span",strong:"strong",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"cjs-模块收集与-ast",children:[n.jsx(e.a,{className:"autolink-headings",href:"#cjs-模块收集与-ast",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"cjs 模块收集与 ast"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"了解 AST 概念"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"通过解析 parser 生成 AST"}),`
`,n.jsx(e.li,{children:"code(词法分析)=>Token(语法分析)=>AST"}),`
`,n.jsx(e.li,{children:"Token 可以进行代码检查，语法高亮等"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"在 AST Explore 尝试 Javascript/CSS 解析，并观察其语法树"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.img,{src:"/img/note/5/z-3-1.jpg",alt:"z-3-1"}),`
如图是 require 的语法树，4.会用到`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"如何根据入口文件搜索出所有需要打包的模块"}),`
`,n.jsxs(e.p,{children:["code 解析成 AST 后，以入口文件作为根节点开始深度优先遍历，通过 AST 找到具有 require 函数的节点,构建",n.jsx(e.strong,{children:"webpack_modules"})," 数组"]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"如何模拟实现运行时代码的生成，实现 mini-webpack"}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://github.com/903040380/poor-webpack",children:"示例仓库"})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"如何去除代码中的所有 console.log"}),`
`,n.jsxs(e.p,{children:["见",n.jsx(e.a,{href:"https://github.com/903040380/poor-webpack",children:"示例仓库"})]}),`
`]}),`
`]})]})}function dd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(wi,{...l})}):wi(l)}const xj=()=>uj,jj=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:xj,GetToc:pj,default:dd},Symbol.toStringTag,{value:"Module"})),yj=()=>[],fj=void 0;function Si(l){const e={a:"a",h1:"h1",li:"li",ol:"ol",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"文件名中的-hash",children:[n.jsx(e.a,{className:"autolink-headings",href:"#文件名中的-hash",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"文件名中的 hash"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"什么是 Long Term Cache，有何作用"}),`
`,n.jsx(e.p,{children:"在服务器对响应头设置 cache-control 的值来达到最大化缓存时间，一般指一年时间或者两年时间"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"为什么配置 output.filename 时不建议注入版本号"}),`
`,n.jsx(e.p,{children:"因为会导致更新版本时所有文件名变化，当文件名变更时会重新进行缓存，那么更新版本会导致所有缓存失效，但是更新版本一般并不会更新所有文件"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"为什么可以配置 Long Term Cache"}),`
`,n.jsx(e.p,{children:"因为 webpack 打包时可以配置 contenthash,只改变改变内容的文件的 hash 值，新的文件会重新进行缓存，不会导致版本问题"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"如何提升 webpack 编译时期计算 hash 的速度"}),`
`,n.jsxs(e.p,{children:[`通过 output.hashFunction 属性,webpack5 已经支持直接配置’xxhash64‘
`,n.jsx(e.a,{href:"https://github.com/umijs/umi/pull/9168#event-7302069734",children:"根据此方法对 umi 进行了优化"})]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"在 Node.js 中如何进行 hash 计算"}),`
`,n.jsx(e.p,{children:"参考大佬的回答，是用 crypto 库"}),`
`]}),`
`]})]})}function hd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Si,{...l})}):Si(l)}const mj=()=>fj,Ej=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:mj,GetToc:yj,default:hd},Symbol.toStringTag,{value:"Module"})),gj=()=>[],Cj=void 0;function Ti(l){const e={a:"a",h1:"h1",li:"li",ol:"ol",p:"p",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"cjs-与-esm",children:[n.jsx(e.a,{className:"autolink-headings",href:"#cjs-与-esm",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"cjs 与 esm"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"什么是 esm/commonjs"}),`
`,n.jsx(e.p,{children:"esm:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"是 ES 的模块规范，浏览器 node 都可运行"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"静态导入，所以可以 tree shaking，减少 js 体积，编译阶段就进行导入和导出"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"支持动态导入，执行到该行代码时才开始导入，异步加载（Promise）"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"导出的值是引用"}),`
`]}),`
`]}),`
`,n.jsx(e.p,{children:"cjs: -是 node 的模块规范，webpack 和 node 都可运行，单纯浏览器环境不可以"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"动态导入，执行到该行代码时才开始导入，同步加载，加载完模块才会继续执行"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"具有缓存，可以通过 require.cache 查看，加载过的模块会通过缓存加载"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"导出的值是复制的值，类似 exports.a=a"}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"什么是 import(module)"}),`
`,n.jsx(e.p,{children:"类似于 require 的动态导入，但是是异步加载（Promise）"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"了解 skypack 和 jsdeliver 两个 npm 的 cdn 网站"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://www.skypack.dev/",children:"skypack"})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://www.jsdelivr.com/",children:"jsdeliver"})}),`
`]}),`
`]}),`
`]}),`
`]})]})}function pd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Ti,{...l})}):Ti(l)}const vj=()=>Cj,Aj=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:vj,GetToc:gj,default:pd},Symbol.toStringTag,{value:"Module"})),Dj=()=>[],_j=void 0;function Pi(l){const e={a:"a",code:"code",h1:"h1",img:"img",li:"li",ol:"ol",p:"p",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"esm-to-cjs",children:[n.jsx(e.a,{className:"autolink-headings",href:"#esm-to-cjs",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"esm to cjs"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"对含 ESM 模块的 webpack 运行时代码进行调试与理解"}),`
`,n.jsx(e.p,{children:"ok"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"webpack 含 ESM 的运行时代码做了那些事情"}),`
`,n.jsxs(e.p,{children:["首先根据 ast 生成的",n.jsx(e.code,{children:"__webpack_module__"}),"的中用",n.jsx(e.code,{children:"__webpack_require__"}),"的属性方法，r 给 ",n.jsx(e.code,{children:"__webpack_exports__"}),`添加鉴别是 esm 模块的属性，d 将导出的属性用 getter(setter)定义，
属性在下方声明是因为访问时已经赋值
`,n.jsx(e.img,{src:"/img/note/5/z-6-1.jpg",alt:"z-6-1"})]}),`
`,n.jsxs(e.p,{children:["缓存和",n.jsx(e.code,{children:"__webpack_require__"}),`同 cjsm 模块
`,n.jsx(e.img,{src:"/img/note/5/z-6-2.jpg",alt:"z-6-2"})]}),`
`,n.jsxs(e.p,{children:["定义",n.jsx(e.code,{children:"__webpack_require__"}),`的属性方法，r,d,o
`,n.jsx(e.img,{src:"/img/note/5/z-6-3.jpg",alt:"z-6-3"})]}),`
`,n.jsxs(e.p,{children:["先和",n.jsx(e.code,{children:"__webpack_module__"}),"中模块一样执行 r,给入口模块添加 esm 标签，然后调用",n.jsx(e.code,{children:"__webpack_require__"}),"返回 sum 模块的导出"]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"__webpack_require__"})," 中的 d/r/o 各个变量指什么意思"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"d:将 esm 导出的变量变成 exports 的 getter/setter 属性"}),`
`,n.jsx(e.li,{children:"r:给 exports 添加一个属性标志这是 esm 模块"}),`
`,n.jsx(e.li,{children:"o:相当于 Object 的 hasOwnProperty 方法"}),`
`]}),`
`]}),`
`]})]})}function ud(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Pi,{...l})}):Pi(l)}const kj=()=>_j,Fj=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:kj,GetToc:Dj,default:ud},Symbol.toStringTag,{value:"Module"})),wj=()=>[],Sj=void 0;function Mi(l){const e={a:"a",code:"code",h1:"h1",img:"img",li:"li",ol:"ol",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"code-spliting-运行时分析",children:[n.jsx(e.a,{className:"autolink-headings",href:"#code-spliting-运行时分析",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"code spliting 运行时分析"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"对 code spliting 后的代码进行调试与理解"}),`
`,n.jsxs(e.p,{children:["见",n.jsx(e.a,{href:"https://github.com/903040380/Xwebpack/tree/master/code-spliting/example/jsonp",children:"代码中的注释"})]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[`将自己项目取消代码压缩进行打包，观察其打包后的代码骨架
`,n.jsx(e.img,{src:"/img/note/5/z-7-1.jpg",alt:"z-7-1"})]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"在 webpack 中如何实现 code spliting"}),`
`,n.jsx(e.p,{children:"import() 动态导入"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"在 webpack 中，加载 chunk 脚本的 JSONP Callback 如何实现"}),`
`,n.jsx(e.p,{children:n.jsx(e.img,{src:"/img/note/5/z-7-2.jpg",alt:"z-7-2"})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"当 output.chunkLoading 配置为 import 时，分析其源码"}),`
`,n.jsx(e.p,{children:n.jsx(e.img,{src:"/img/note/5/z-7-3.jpg",alt:"z-7-3"})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"__webpack_require__.f.j"}),`不同
`,n.jsx(e.code,{children:"__webpack_require__.l"}),"不需要了"]}),`
`,n.jsx(e.p,{children:n.jsx(e.img,{src:"/img/note/5/z-7-4.jpg",alt:"z-7-4"})}),`
`,n.jsx(e.p,{children:"jsonp 不需要了，用 installChunck 替代"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:["当代码分割时，async chunk 所对应的源代码发生变更时，该 async chunk 路径将会发生变化，而 entry chunk 中的",n.jsx(e.code,{children:"__webpack_require__.u"})," 内容也将发生变化，导致 entry chunk 的内容发生变更，随之路径发生变更，这将导致不必要的缓存失效，如何处理该问题。"]}),`
`,n.jsx(e.p,{children:"runtimeChunk 设置为 true 可以单独把 webpack 的运行时给独立出来，这样每次只重新请求 runtime 文件，nextjs 就是这样做的,见 hash 的增强章节"}),`
`]}),`
`]})]})}function xd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Mi,{...l})}):Mi(l)}const Tj=()=>Sj,Pj=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Tj,GetToc:wj,default:xd},Symbol.toStringTag,{value:"Module"})),Mj=()=>[],Rj=void 0;function Ri(l){const e={a:"a",code:"code",h1:"h1",li:"li",ol:"ol",p:"p",span:"span",strong:"strong",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"magic-comment",children:[n.jsx(e.a,{className:"autolink-headings",href:"#magic-comment",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"magic comment"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"在 webpack 中有哪些魔法注释"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"webpackIgnore：设置为 true 时，禁用动态导入解析。"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"webpackChunkName: 新 chunk 的名称。"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"webpackMode：可以指定以不同的模式解析动态导入。"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"webpackPrefetch：告诉浏览器将来可能需要该资源来进行某些导航跳转。"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"webpackPreload：告诉浏览器在当前导航期间可能需要该资源。"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"webpackInclude：在导入解析（import resolution）过程中，用于匹配的正则表达式。只有匹配到的模块才会被打包。"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"webpackExclude：在导入解析（import resolution）过程中，用于匹配的正则表达式。所有匹配到的模块都不会被打包。"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"webpackExports: 告知 webpack 只构建指定出口的动态 import() 模块。"}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"在 webpack 中如何实现 prefetch 的"}),`
`,n.jsxs(e.p,{children:["配置",n.jsx(e.code,{children:"/* webpackPrefetch: true */"}),"后，webpack 运行时，会生成",n.jsx(e.code,{children:"<link ref='prefetch'>"}),"标签并放入 dom 中，浏览器会开始预加载资源"]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"阅读 prefetch 后的运行时代码进行理解"}),`
`,n.jsxs(e.p,{children:["见",n.jsx(e.a,{href:"https://github.com/903040380/Xwebpack/tree/master/code-spliting/example/prefetch",children:"代码中的注释"})]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"补充关于 preload 的问题"}),`
`,n.jsxs(e.p,{children:[`preload chunk 会在父 chunk 加载时，以并行方式开始加载。
prefetch chunk 会在父 chunk 加载结束后开始加载。
所以，需要在 sumjs 里再次 preload 导入 add 才产生 preload，即`,n.jsx(e.strong,{children:"只能加载 chunk 的 chunk"})]}),`
`]}),`
`]})]})}function jd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Ri,{...l})}):Ri(l)}const Nj=()=>Rj,Bj=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Nj,GetToc:Mj,default:jd},Symbol.toStringTag,{value:"Module"})),Lj=()=>[],$j=void 0;function Ni(l){const e={a:"a",h1:"h1",li:"li",p:"p",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"参考",children:[n.jsx(e.a,{className:"autolink-headings",href:"#参考",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"参考"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://q.shanyue.tech/",children:"山月"})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://github.com/903040380/webpack-demo",children:"示例仓库"})}),`
`]}),`
`]})]})}function yd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Ni,{...l})}):Ni(l)}const Oj=()=>$j,Ij=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Oj,GetToc:Lj,default:yd},Symbol.toStringTag,{value:"Module"})),zj=()=>[],Gj=void 0;function Bi(l){const e={a:"a",code:"code",h1:"h1",img:"img",li:"li",ol:"ol",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"hash-的增强",children:[n.jsx(e.a,{className:"autolink-headings",href:"#hash-的增强",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"hash 的增强"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"理解 deterministic chunkIds/moduleIds，以及什么情况下 id 会发生变更"}),`
`,n.jsxs(e.p,{children:["当模块加载顺序发生改变，模块顺序会发生改变，moduleIds 随之改变，而同时",n.jsx(e.code,{children:"__webpack_require__.u"}),"读取到的 chunkId 随 moduleIds 改变，即 chunkIds 改变"]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"如有余力，阅读源码查看 deterministic 在 webpack 的内部实现"}),`
`,n.jsx(e.p,{children:"根据大佬回答，只要模块的路径和文件名不做更改，那么 deterministic 后的 hash 值就是稳定的"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"理解 runtimeChunk 选项，阅读其源码，理解它是如何运行代码的"}),`
`,n.jsx(e.p,{children:n.jsx(e.img,{src:"/img/note/5/z-9-1.jpg",alt:"z-9-1"})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"阅读常见的社区以及自己公司的脚手架代码，观察是否配置了以上优化选项，如果没有，考虑是否可贡献代码"}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://github.com/umijs/umi/pull/9541",children:"umi 已提交 pr，正在修改中"})}),`
`]}),`
`]})]})}function fd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Bi,{...l})}):Bi(l)}const bj=()=>Gj,Uj=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:bj,GetToc:zj,default:fd},Symbol.toStringTag,{value:"Module"})),Vj=()=>[],Hj=void 0;function Li(l){const e={a:"a",h1:"h1",span:"span",...l.components};return n.jsxs(e.h1,{id:"内存",children:[n.jsx(e.a,{className:"autolink-headings",href:"#内存",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"内存"]})}function md(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Li,{...l})}):Li(l)}const Xj=()=>Hj,Wj=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Xj,GetToc:Vj,default:md},Symbol.toStringTag,{value:"Module"})),Qj=()=>[{id:"单线程",text:"单线程",depth:2},{id:"在线程运行过程中处理新任务",text:"在线程运行过程中处理新任务",depth:2},{id:"处理其他线程发送过来的任务",text:"处理其他线程发送过来的任务",depth:2},{id:"处理其他进程发送过来的任务",text:"处理其他进程发送过来的任务",depth:2},{id:"消息队列中的任务类型",text:"消息队列中的任务类型",depth:2},{id:"页面使用单线程的缺点",text:"页面使用单线程的缺点",depth:2},{id:"总结",text:"总结",depth:2}],Kj=void 0;function $i(l){const e={a:"a",h1:"h1",h2:"h2",li:"li",p:"p",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"消息队列和事件循环",children:[n.jsx(e.a,{className:"autolink-headings",href:"#消息队列和事件循环",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"消息队列和事件循环"]}),`
`,n.jsxs(e.h2,{id:"单线程",children:[n.jsx(e.a,{className:"autolink-headings",href:"#单线程",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"单线程"]}),`
`,n.jsx(e.p,{children:"一个线程中去执行任务"}),`
`,n.jsxs(e.h2,{id:"在线程运行过程中处理新任务",children:[n.jsx(e.a,{className:"autolink-headings",href:"#在线程运行过程中处理新任务",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"在线程运行过程中处理新任务"]}),`
`,n.jsx(e.p,{children:`要想在线程运行过程中，能接收并执行新的任务，就需要采用事件(任务)循环机制
不停的循环接受事件(任务)，接受后处理事件(任务)`}),`
`,n.jsxs(e.h2,{id:"处理其他线程发送过来的任务",children:[n.jsx(e.a,{className:"autolink-headings",href:"#处理其他线程发送过来的任务",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"处理其他线程发送过来的任务"]}),`
`,n.jsx(e.p,{children:"渲染主线程会频繁接收到来自于 IO 线程的一些任务，比如鼠标点击，资源加载完成等"}),`
`,n.jsx(e.p,{children:"使用消息队列存放要执行的任务，IO 线程中产生的新任务添加进消息队列尾部"}),`
`,n.jsx(e.p,{children:"事件循环从队列头部取出任务"}),`
`,n.jsxs(e.h2,{id:"处理其他进程发送过来的任务",children:[n.jsx(e.a,{className:"autolink-headings",href:"#处理其他进程发送过来的任务",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"处理其他进程发送过来的任务"]}),`
`,n.jsx(e.p,{children:"渲染进程专门有一个 IO 线程用来接收其他进程传进来的消息"}),`
`,n.jsxs(e.h2,{id:"消息队列中的任务类型",children:[n.jsx(e.a,{className:"autolink-headings",href:"#消息队列中的任务类型",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"消息队列中的任务类型"]}),`
`,n.jsx(e.p,{children:`输入事件（鼠标滚动、点击、移动）、微任务、文件读写、WebSocket、JavaScript 定时器等等。
JavaScript 执行、解析 DOM、样式计算、布局计算、CSS 动画等。`}),`
`,n.jsxs(e.h2,{id:"页面使用单线程的缺点",children:[n.jsx(e.a,{className:"autolink-headings",href:"#页面使用单线程的缺点",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"页面使用单线程的缺点"]}),`
`,n.jsx(e.p,{children:"第一个问题是如何处理高优先级的任务。"}),`
`,n.jsx(e.p,{children:"通常我们把消息队列中的任务称为宏任务，每个宏任务中都包含了一个微任务队列"}),`
`,n.jsx(e.p,{children:"执行宏任务的过程中，如果 DOM 有变化，那么就会将该变化添加到微任务列表中，宏任务中的主要功能都直接完成之后，执行当前宏任务中的微任务"}),`
`,n.jsx(e.p,{children:"微任务常用的就是 promise"}),`
`,n.jsxs(e.h2,{id:"总结",children:[n.jsx(e.a,{className:"autolink-headings",href:"#总结",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"总结"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"如果有一些确定好的任务，可以使用一个单线程来按照顺序处理这些任务，这是第一版线程模型。"}),`
`,n.jsx(e.li,{children:"要在线程执行过程中接收并处理新的任务，就需要引入循环语句和事件系统，这是第二版线程模型。"}),`
`,n.jsx(e.li,{children:"如果要接收其他线程发送过来的任务，就需要引入消息队列，这是第三版线程模型。"}),`
`,n.jsx(e.li,{children:"如果其他进程想要发送任务给页面主线程，那么先通过 IPC 把任务发送给渲染进程的 IO 线程，IO 线程再把任务发送给页面主线程。"}),`
`,n.jsx(e.li,{children:"消息队列机制并不是太灵活，为了适应效率和实时性，引入了微任务。"}),`
`]})]})}function Ed(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx($i,{...l})}):$i(l)}const qj=()=>Kj,Yj=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:qj,GetToc:Qj,default:Ed},Symbol.toStringTag,{value:"Module"})),Jj=()=>[],Zj=void 0;function Oi(l){const e={a:"a",h1:"h1",li:"li",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"浏览器进程",children:[n.jsx(e.a,{className:"autolink-headings",href:"#浏览器进程",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"浏览器进程"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"浏览器进程：界面显示、用户交互、子进程管理，同时提供存储等功能"}),`
`,n.jsx(e.li,{children:"渲染进程：安全考虑，渲染进程都是运行在沙箱模式下，包括排版引擎 Blink 和 JavaScript 引擎 V8 ，可以将 HTML、CSS、JS 转换为页面"}),`
`,n.jsx(e.li,{children:"GPU 进程：3D CSS、Chrome UI、网页"}),`
`,n.jsx(e.li,{children:"网络进程：网络资源加载"}),`
`,n.jsx(e.li,{children:"插件进程：运行插件，因为插件容易崩溃所以分离为进程"}),`
`]})]})}function gd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Oi,{...l})}):Oi(l)}const e2=()=>Zj,n2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:e2,GetToc:Jj,default:gd},Symbol.toStringTag,{value:"Module"})),l2=()=>[{id:"ip-internet-protocol-网际协议",text:"IP Internet Protocol 网际协议",depth:2},{id:"udp-user-datagram-protocol-用户数据包协议",text:"UDP User Datagram Protocol 用户数据包协议",depth:2},{id:"tcp-transmission-control-protocol-传输控制协议",text:"TCP Transmission Control Protocol 传输控制协议",depth:2},{id:"tcpip-四层模型",text:"TCP/IP 四层模型",depth:2}],s2=void 0;function Ii(l){const e={a:"a",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",span:"span",strong:"strong",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"tcp-协议",children:[n.jsx(e.a,{className:"autolink-headings",href:"#tcp-协议",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"TCP 协议"]}),`
`,n.jsxs(e.h2,{id:"ip-internet-protocol-网际协议",children:[n.jsx(e.a,{className:"autolink-headings",href:"#ip-internet-protocol-网际协议",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"IP Internet Protocol 网际协议"]}),`
`,n.jsx(e.p,{children:"IP 地址就是计算机的地址，通过 IP 将数据包传递给另一个主机"}),`
`,n.jsx(e.p,{children:"数据包会携带 IP 头"}),`
`,n.jsxs(e.h2,{id:"udp-user-datagram-protocol-用户数据包协议",children:[n.jsx(e.a,{className:"autolink-headings",href:"#udp-user-datagram-protocol-用户数据包协议",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"UDP User Datagram Protocol 用户数据包协议"]}),`
`,n.jsxs(e.p,{children:["UDP 通过",n.jsx(e.strong,{children:"端口号"}),"把数据包传递给对应的程序"]}),`
`,n.jsx(e.p,{children:"数据包会携带 UDP 头（含本机目标端口号）和 IP 头"}),`
`,n.jsx(e.p,{children:"对于错误的数据包，UDP 并不提供重发机制，只是丢弃当前的包，而且 UDP 在发送之后也无法知道是否能达到目的地"}),`
`,n.jsx(e.p,{children:"UDP 不能保证数据可靠性，但是传输速度却非常快"}),`
`,n.jsxs(e.h2,{id:"tcp-transmission-control-protocol-传输控制协议",children:[n.jsx(e.a,{className:"autolink-headings",href:"#tcp-transmission-control-protocol-传输控制协议",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"TCP Transmission Control Protocol 传输控制协议"]}),`
`,n.jsx(e.p,{children:"TCP 是一种面向连接的、可靠的、基于字节流的传输层通信协议"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"TCP 提供丢失重传机制"}),`
`,n.jsx(e.li,{children:"TCP 引入了数据包排序机制，乱序数据包可以组合成完整文件"}),`
`]}),`
`,n.jsx(e.p,{children:"数据包会携带 TCP 头（含本机目标端口号和序号）和 IP 头"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"建立连接：连接过程会三次握手，会发送三个数据包才会确认连接建立"}),`
`,n.jsx(e.li,{children:"传输数据：接受端会对每个数据包发出确认操作，发送端没有收到确认信息的会触发重发机制，而且接收端会按照 TCP 头中的序号排序数据包"}),`
`,n.jsx(e.li,{children:"断开连接：断开过程会四次挥手，保证双方都断开连接"}),`
`]}),`
`,n.jsxs(e.h2,{id:"tcpip-四层模型",children:[n.jsx(e.a,{className:"autolink-headings",href:"#tcpip-四层模型",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"TCP/IP 四层模型"]}),`
`,n.jsx(e.p,{children:"IEEE802->IP->TCP/UDP->HTTP"}),`
`,n.jsx(e.p,{children:n.jsx(e.img,{src:"/img/note/2/2-1.jpg",alt:"2-1"})})]})}function Cd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Ii,{...l})}):Ii(l)}const t2=()=>s2,r2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:t2,GetToc:l2,default:Cd},Symbol.toStringTag,{value:"Module"})),o2=()=>[{id:"dns-domain-name-system-域名系统",text:"DNS Domain Name System 域名系统",depth:2},{id:"浏览器发起-http-请求的流程",text:"浏览器发起 HTTP 请求的流程",depth:2},{id:"服务器处理-http-请求的流程",text:"服务器处理 HTTP 请求的流程",depth:2}],i2=void 0;function zi(l){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",span:"span",strong:"strong",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"http-协议",children:[n.jsx(e.a,{className:"autolink-headings",href:"#http-协议",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"HTTP 协议"]}),`
`,n.jsx(e.p,{children:"HTTP 是一种允许浏览器向服务器获取资源的协议，是 Web 的基础"}),`
`,n.jsxs(e.h2,{id:"dns-domain-name-system-域名系统",children:[n.jsx(e.a,{className:"autolink-headings",href:"#dns-domain-name-system-域名系统",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"DNS Domain Name System 域名系统"]}),`
`,n.jsxs(e.p,{children:[`将域名与 IP 地址做一一映射
浏览器有 DNS`,n.jsx(e.strong,{children:"数据缓存服务"}),"，解析过的域名会缓存，减少请求"]}),`
`,n.jsxs(e.h2,{id:"浏览器发起-http-请求的流程",children:[n.jsx(e.a,{className:"autolink-headings",href:"#浏览器发起-http-请求的流程",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"浏览器发起 HTTP 请求的流程"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[`构建请求行
请求方法 + 请求 URI + HTTP 协议版本
例如：`,n.jsx(e.code,{children:"GET /index.html HTTP/1.1"})]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"查找缓存"}),`
`,n.jsx(e.p,{children:"浏览器会在请求前查询浏览器缓存中是否有该文件，如果有则结束请求"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"准备 IP 地址与端口"}),`
`,n.jsx(e.p,{children:"现在只有 URL，HTTP 需要与服务器建立 TCP 连接就需要 IP 地址与端口，所以通过一下方式获得"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"请求 DNS 返回域名对应的 IP 地址"}),`
`,n.jsx(e.li,{children:"从 URL 中获取端口号，HTTP 默认为 80"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"等待 TCP 队列"}),`
`,n.jsx(e.p,{children:"Chrome 有个机制，同一个域名同时最多只能建立 6 个 TCP 连接，如果在同一个域名下同时有 10 个请求发生，那么其中 4 个请求会进入排队等待状态，直至进行中的请求完成。"}),`
`,n.jsx(e.p,{children:"http/1.1 一个 tcp 同时只能处理一个请求，浏览器会为每个域名维护 6 个 tcp 连接"}),`
`,n.jsx(e.p,{children:"但是每个 tcp 连接是可以复用的，也就是处理完一个请求之后，不断开这个 tcp 连接，可以用来处理下个 http 请求"}),`
`,n.jsx(e.p,{children:"不过 http2 是可以并行请求资源的，所以如果使用 http2，浏览器只会为每个域名维护一个 tcp 连接"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"建立 TCP 连接"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"发送 HTTP 请求"}),`
`,n.jsx(e.p,{children:`发送请求行
发送请求头
发送请求体(POST)`}),`
`]}),`
`]}),`
`,n.jsxs(e.h2,{id:"服务器处理-http-请求的流程",children:[n.jsx(e.a,{className:"autolink-headings",href:"#服务器处理-http-请求的流程",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"服务器处理 HTTP 请求的流程"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[`返回请求
返回响应行(协议版本+状态码 `,n.jsx(e.code,{children:"HTTP/1.1 200 OK"}),`)
返回响应头
返回响应体`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[`断开连接
服务器返回完后会断链接
但是如果请求头中有`,n.jsx(e.code,{children:"Connection:Keep-Alive"}),"会保持 TCP 连接"]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[`重定向
响应头`,n.jsx(e.code,{children:"Location"})]}),`
`]}),`
`]})]})}function vd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(zi,{...l})}):zi(l)}const a2=()=>i2,c2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:a2,GetToc:o2,default:vd},Symbol.toStringTag,{value:"Module"})),d2=()=>[{id:"dns-缓存",text:"DNS 缓存",depth:2},{id:"页面资源缓存",text:"页面资源缓存",depth:2},{id:"登录状态",text:"登录状态",depth:2}],h2=void 0;function Gi(l){const e={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"浏览器缓存",children:[n.jsx(e.a,{className:"autolink-headings",href:"#浏览器缓存",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"浏览器缓存"]}),`
`,n.jsxs(e.h2,{id:"dns-缓存",children:[n.jsx(e.a,{className:"autolink-headings",href:"#dns-缓存",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"DNS 缓存"]}),`
`,n.jsx(e.p,{children:"缓存域名对应的 IP"}),`
`,n.jsxs(e.h2,{id:"页面资源缓存",children:[n.jsx(e.a,{className:"autolink-headings",href:"#页面资源缓存",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"页面资源缓存"]}),`
`,n.jsxs(e.p,{children:["通过响应头",n.jsx(e.code,{children:"Cache-Control"}),"设置是否缓存该资源"]}),`
`,n.jsxs(e.p,{children:["缓存过期后浏览器会继续发起请求并携带请求头",n.jsx(e.code,{children:'If-None-Match:"4f80f-13c-3a1xb12a"'})]}),`
`,n.jsx(e.p,{children:`服务器会根据该请求头判断资源是否更新
没有更新则返回 状态码 304
如果有更新则返回新资源`}),`
`,n.jsxs(e.h2,{id:"登录状态",children:[n.jsx(e.a,{className:"autolink-headings",href:"#登录状态",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"登录状态"]}),`
`,n.jsxs(e.p,{children:[`服务器接受到账号密码后查询数据库，如果正确则生成 uid 并记录，返回在响应头
`,n.jsx(e.code,{children:"Set-Cookie: UID=3431uad;"})]}),`
`,n.jsx(e.p,{children:"浏览器解析响应头后会保存在 Cookie"}),`
`,n.jsxs(e.p,{children:["用户再次访问时浏览器会将 uid 携带在请求头",n.jsx(e.code,{children:"Cookie: UID=3431uad;"})]}),`
`,n.jsx(e.p,{children:"服务器收到 Cookie 后会查询记录下的 uid 数据，如果已经存在，则返回登录后的用户数据"})]})}function Ad(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Gi,{...l})}):Gi(l)}const p2=()=>h2,u2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:p2,GetToc:d2,default:Ad},Symbol.toStringTag,{value:"Module"})),x2=()=>[{id:"用户输入",text:"用户输入",depth:2},{id:"网络进程",text:"网络进程",depth:2},{id:"准备渲染进程",text:"准备渲染进程",depth:2},{id:"提交文档",text:"提交文档",depth:2},{id:"渲染阶段",text:"渲染阶段",depth:2}],j2=void 0;function bi(l){const e={a:"a",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"导航流程",children:[n.jsx(e.a,{className:"autolink-headings",href:"#导航流程",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"导航流程"]}),`
`,n.jsx(e.p,{children:n.jsx(e.img,{src:"/img/note/2/5-1.jpg",alt:"5-1"})}),`
`,n.jsx(e.p,{children:"用户发出 URL 请求到页面开始解析的这个过程，就叫做导航"}),`
`,n.jsxs(e.h2,{id:"用户输入",children:[n.jsx(e.a,{className:"autolink-headings",href:"#用户输入",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"用户输入"]}),`
`,n.jsx(e.p,{children:"输入后 地址栏会判断输入的关键字是搜索内容，还是请求的 URL："}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"搜索内容：启用搜索引擎"}),`
`,n.jsx(e.li,{children:"URL：如果符合 URL 规则，浏览器会加上协议"}),`
`]}),`
`,n.jsx(e.p,{children:`回车后 先触发 beforeunload 事件，可以进行询问用户是否离开等操作
然后进入加载状态，等待提交文档`}),`
`,n.jsxs(e.h2,{id:"网络进程",children:[n.jsx(e.a,{className:"autolink-headings",href:"#网络进程",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"网络进程"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"查找本地缓存是否缓存了该资源，如果缓存就直接返回资源"}),`
`,n.jsx(e.li,{children:"如果没有缓存，进行 DNS 解析，获取 IP 地址"}),`
`,n.jsx(e.li,{children:"利用 IP 地址和服务器建立 TCP 连接，如果请求协议是 HTTPS，那么还需要先建立 TLS 连接"}),`
`,n.jsx(e.li,{children:"浏览器端会构建请求行、请求头等信息，并把和该域名相关的 Cookie 等数据附加到请求头中，然后向服务器发送"}),`
`,n.jsx(e.li,{children:"服务器根据请求信息生成响应数据（包括响应行、响应头和响应体等信息），并发给网络进程"}),`
`,n.jsx(e.li,{children:"重定向：状态码是 301,302,307,308 时根据响应头 Location 重定向，可以通过这个方式将 http 请求 重定向为 https 请求"}),`
`,n.jsx(e.li,{children:"响应数据：通过 Content-Type 响应头区分响应体数据类型，比如 HTML 和 js"}),`
`]}),`
`,n.jsxs(e.h2,{id:"准备渲染进程",children:[n.jsx(e.a,{className:"autolink-headings",href:"#准备渲染进程",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"准备渲染进程"]}),`
`,n.jsx(e.p,{children:"Chrome 会为不同站页面分配一个渲染进程，进程在沙箱内"}),`
`,n.jsxs(e.h2,{id:"提交文档",children:[n.jsx(e.a,{className:"autolink-headings",href:"#提交文档",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"提交文档"]}),`
`,n.jsx(e.p,{children:"浏览器进程将网络进程接收到的 HTML 数据提交给渲染进程"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"首先当浏览器进程接收到网络进程的响应头数据之后，便向渲染进程发起“提交文档”的消息"}),`
`,n.jsx(e.li,{children:"渲染进程接受到“提交文档”消息后，从网络进程接受文档数据，接受完成后给浏览器进程发送“确认提交”消息"}),`
`,n.jsx(e.li,{children:"浏览器进程收到“确认提交”的消息后，更新浏览器界面历史状态、安全状态、URL ，然后更新页面页面"}),`
`]}),`
`,n.jsxs(e.h2,{id:"渲染阶段",children:[n.jsx(e.a,{className:"autolink-headings",href:"#渲染阶段",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"渲染阶段"]}),`
`,n.jsx(e.p,{children:"文档提交后，渲染进程开始页面解析与子资源加载，并停止加载动画"})]})}function Dd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(bi,{...l})}):bi(l)}const y2=()=>j2,f2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:y2,GetToc:x2,default:Dd},Symbol.toStringTag,{value:"Module"})),m2=()=>[],E2=void 0;function Ui(l){const e={a:"a",h1:"h1",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"渲染流程",children:[n.jsx(e.a,{className:"autolink-headings",href:"#渲染流程",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"渲染流程"]}),`
`,n.jsx(e.p,{children:`DOM 生成
样式计算
布局
。。。`})]})}function _d(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Ui,{...l})}):Ui(l)}const g2=()=>E2,C2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:g2,GetToc:m2,default:_d},Symbol.toStringTag,{value:"Module"})),v2=()=>[{id:"chrome-的-dns-缓存",text:"Chrome 的 dns 缓存",depth:2}],A2=void 0;function Vi(l){const e={a:"a",h1:"h1",h2:"h2",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"浏览器的-dns-缓存",children:[n.jsx(e.a,{className:"autolink-headings",href:"#浏览器的-dns-缓存",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"浏览器的 dns 缓存"]}),`
`,n.jsxs(e.h2,{id:"chrome-的-dns-缓存",children:[n.jsx(e.a,{className:"autolink-headings",href:"#chrome-的-dns-缓存",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"Chrome 的 dns 缓存"]}),`
`,n.jsx(e.p,{children:"chrome://net-internals/#dns"})]})}function kd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Vi,{...l})}):Vi(l)}const D2=()=>A2,_2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:D2,GetToc:v2,default:kd},Symbol.toStringTag,{value:"Module"})),k2=()=>[],F2=void 0;function Hi(l){const e={a:"a",h1:"h1",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"参考",children:[n.jsx(e.a,{className:"autolink-headings",href:"#参考",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"参考"]}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://time.geekbang.org/column/intro/100033601?code=nQdm4VreDyrwzIsmJOa2fcr87sMexy98JSDAIn2etJo%253D&tab=catalog",children:"李兵"})})]})}function Fd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Hi,{...l})}):Hi(l)}const w2=()=>F2,S2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:w2,GetToc:k2,default:Fd},Symbol.toStringTag,{value:"Module"})),T2=()=>[{id:"createusestoragestate",text:"createUseStorageState",depth:2}],P2=void 0;function Xi(l){const e={a:"a",code:"code",figure:"figure",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"uselocalstoragestate-与-usesessionstoragestate",children:[n.jsx(e.a,{className:"autolink-headings",href:"#uselocalstoragestate-与-usesessionstoragestate",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useLocalStorageState 与 useSessionStorageState"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"useLocalStorageState"}),`
`,n.jsx(e.li,{children:"useSessionStorageState"}),`
`]}),`
`,n.jsx(e.p,{children:"都是通过函数 createUseStorageState来生成"}),`
`,n.jsxs(e.h2,{id:"createusestoragestate",children:[n.jsx(e.a,{className:"autolink-headings",href:"#createusestoragestate",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"createUseStorageState"]}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" useLocalStorageState"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" createUseStorageState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  isBrowser "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?"}),n.jsx(e.span,{style:{color:"#24292E"},children:" localStorage "}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:")"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" useSessionStorageState"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" createUseStorageState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  isBrowser "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?"}),n.jsx(e.span,{style:{color:"#24292E"},children:" sessionStorage "}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:")"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" createUseStorageState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"getStorage"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Storage"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useStorageState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#24292E"},children:">("}),n.jsx(e.span,{style:{color:"#E36209"},children:"key"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" string"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#E36209"},children:"options"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Options"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#24292E"},children:"> "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" {}) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    let"}),n.jsx(e.span,{style:{color:"#24292E"},children:" storage"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Storage"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 错误处理"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"      onError"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"e"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"        console."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"error"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(e)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      },"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" options"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // https://github.com/alibaba/hooks/issues/800"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 防止Cookie禁用时无法获取localStorage或者SessionStorage"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 普通用户期望的功能是“禁用 Cookie”，但实际上意味着“不要让网站在我的计算机上保留数据”，目前，该行为取决于浏览器"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    try"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      storage "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" getStorage"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"catch"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (err) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"      onError"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(err)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 自定义序列化方法"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" serializer"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" T"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (options?.serializer) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"        return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" options?."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"serializer"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(value)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      return"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" JSON"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"stringify"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(value)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 自定义反序列化方法"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" deserializer"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" string"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (options?.deserializer) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"        return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" options?."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"deserializer"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(value)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      return"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" JSON"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"parse"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(value)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 获取当前存储的值"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" getStoredValue"}),n.jsx(e.span,{style:{color:"#24292E"},children:"() {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      try"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"        const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" raw"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" storage?."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"getItem"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(key)"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"        if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (raw) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"          return"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" deserializer"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(raw)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"        }"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"catch"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (e) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"        onError"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(e)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // 没有存的值时使用defaultValue()或者defaultValue"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"isFunction"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(options?.defaultValue)) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"        return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" options?."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"defaultValue"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" options?.defaultValue"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 初始化状态"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ["}),n.jsx(e.span,{style:{color:"#005CC5"},children:"state"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"setState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"] "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#24292E"},children:">(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" getStoredValue"}),n.jsx(e.span,{style:{color:"#24292E"},children:"())"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // key改变时更新状态"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"    useUpdateEffect"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"      setState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"getStoredValue"}),n.jsx(e.span,{style:{color:"#24292E"},children:"())"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }, [key])"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 更新状态，参数同setState形式"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" updateState"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" T"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" IFuncUpdater"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#24292E"},children:">) "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" currentState"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" isFunction"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(value) "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" value"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(state) "}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#24292E"},children:" value"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"      setState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(currentState)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // undefined时移除存储，否则更新存储"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"isUndef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(currentState)) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"        storage?."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"removeItem"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(key)"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"else"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"        try"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"          storage?."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"setItem"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(key, "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"serializer"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(currentState))"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"        } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"catch"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (e) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"          console."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"error"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(e)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"        }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" [state, "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"useMemoizedFn"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(updateState)] "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"as"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" const"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  "})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" useStorageState"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})})]})}function wd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Xi,{...l})}):Xi(l)}const M2=()=>P2,R2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:M2,GetToc:T2,default:wd},Symbol.toStringTag,{value:"Module"})),N2=()=>[{id:"useupdateeffect-与-useupdatelayouteffect",text:"useUpdateEffect 与 useUpdateLayoutEffect",depth:2}],B2=void 0;function Wi(l){const e={a:"a",code:"code",figure:"figure",h1:"h1",h2:"h2",li:"li",pre:"pre",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"useupdateeffect-与-useupdatelayouteffect",children:[n.jsx(e.a,{className:"autolink-headings",href:"#useupdateeffect-与-useupdatelayouteffect",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useUpdateEffect 与 useUpdateLayoutEffect"]}),`
`,n.jsxs(e.h2,{id:"useupdateeffect-与-useupdatelayouteffect-1",children:[n.jsx(e.a,{className:"autolink-headings",href:"#useupdateeffect-与-useupdatelayouteffect-1",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useUpdateEffect 与 useUpdateLayoutEffect"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"useUpdateEffect：跳过第一次渲染的 useEffect"}),`
`,n.jsx(e.li,{children:"useUpdateLayoutEffect：跳过第一次渲染的 useLayoutEffect"}),`
`]}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"type"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" EffectHookType"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" useEffect "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"|"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" useLayoutEffect"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" createUpdateEffect"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"hook"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" EffectHookType"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" EffectHookType"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"hook"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"effect"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#E36209"},children:"deps"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // hook就是useEffect或者useLayoutEffect"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // effect和deps是useEffect(effect, deps)的参数"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 初始化isMounted为false，未挂载过"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" isMounted"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#005CC5"},children:"false"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // for react-refresh"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 渲染后重置isMounted"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"    hook"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"        isMounted.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" false"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }, [])"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"    hook"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#24292E"},children:"isMounted.current) {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"        // 第一次渲染不执行用户的effect回调"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"        isMounted.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" true"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"else"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"        // 第二次渲染后都执行用户的effect回调"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"        return"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" effect"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }, deps)"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})})]})})})]})}function Sd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Wi,{...l})}):Wi(l)}const L2=()=>B2,$2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:L2,GetToc:N2,default:Sd},Symbol.toStringTag,{value:"Module"})),O2=()=>[{id:"uselatest",text:"useLatest",depth:2},{id:"usememoizedfn",text:"useMemoizedFn",depth:2}],I2=void 0;function Qi(l){const e={a:"a",code:"code",figure:"figure",h1:"h1",h2:"h2",p:"p",pre:"pre",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"uselatest-与-usememoizedfn",children:[n.jsx(e.a,{className:"autolink-headings",href:"#uselatest-与-usememoizedfn",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useLatest 与 useMemoizedFn"]}),`
`,n.jsxs(e.h2,{id:"uselatest",children:[n.jsx(e.a,{className:"autolink-headings",href:"#uselatest",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useLatest"]}),`
`,n.jsx(e.p,{children:"获取最新值的 hook，但是不能避免对象的地址改变"}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// 每次渲染都将最新的value存到ref中，但是value如果是引用类型地址还是会变"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useLatest"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#24292E"},children:">("}),n.jsx(e.span,{style:{color:"#E36209"},children:"value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" T"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" ref"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(value)"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  ref.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" value"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ref"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})}),`
`,n.jsxs(e.h2,{id:"usememoizedfn",children:[n.jsx(e.a,{className:"autolink-headings",href:"#usememoizedfn",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useMemoizedFn"]}),`
`,n.jsx(e.p,{children:"获取最新更新了状态的最新函数的 hook，而且函数地址不变，理论上可以替换 useCallback"}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"type"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" noop"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#005CC5"},children:"this"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#E36209"},children:"args"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"}),n.jsx(e.span,{style:{color:"#24292E"},children:"[]) "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// https://github.com/alibaba/hooks/pull/1470"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"type"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" PickFunction"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" extends"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" noop"}),n.jsx(e.span,{style:{color:"#24292E"},children:"> "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"  this"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" ThisParameterType"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#24292E"},children:">,"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  ..."}),n.jsx(e.span,{style:{color:"#E36209"},children:"args"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Parameters"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#24292E"},children:">"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" ReturnType"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#24292E"},children:">"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// 返回更新了状态但是地址不变的fn"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useMemoizedFn"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" extends"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" noop"}),n.jsx(e.span,{style:{color:"#24292E"},children:">("}),n.jsx(e.span,{style:{color:"#E36209"},children:"fn"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" T"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 开发环境日志"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (isDev) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"isFunction"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fn)) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      console."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"error"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#032F62"},children:"        `useMemoizedFn expected parameter is a function, got ${"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" fn"}),n.jsx(e.span,{style:{color:"#032F62"},children:"}`"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      )"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // fnRef因为适配所以分开写"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 本质就是fnRef=useLatest(fn)"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 注意fnRef.current的地址会改变"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 使用useRef保存最新的fn"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" fnRef"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#24292E"},children:">(fn)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 适配 react devtool"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // why not write `fnRef.current = fn`?"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // https://github.com/alibaba/hooks/issues/728"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  fnRef.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useMemo"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" fn, [fn])"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 初始化memoizedFn，memoizedFn.current的函数地址不会改变"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" memoizedFn"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"PickFunction"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#24292E"},children:">>()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 只有初始化时赋值"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#24292E"},children:"memoizedFn.current) {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 这里的第一个参数this是适配eslint的eslint no-invalid-this https://github.com/alibaba/hooks/pull/1464"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 这里是防止函数地址改变才包裹一层function"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 防止函数this指向丢失使用apply调用"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    memoizedFn."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"current"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" function"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#005CC5"},children:"this"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#E36209"},children:"args"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" fnRef.current."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"apply"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#005CC5"},children:"this"}),n.jsx(e.span,{style:{color:"#24292E"},children:", args)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 返回的memoizedFn.current始终是通过function包裹的fn.current，fn.current保证是最新的函数"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" memoizedFn.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"as"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" T"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})})]})}function Td(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Qi,{...l})}):Qi(l)}const z2=()=>I2,G2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:z2,GetToc:O2,default:Td},Symbol.toStringTag,{value:"Module"})),b2=()=>[{id:"usetimeout",text:"useTimeout",depth:2},{id:"useraftimeout",text:"useRafTimeout",depth:2},{id:"useinterval",text:"useInterval",depth:2},{id:"userafinterval",text:"useRafInterval",depth:2},{id:"usecountdown",text:"useCountDown",depth:2}],U2=void 0;function Ki(l){const e={a:"a",code:"code",figure:"figure",h1:"h1",h2:"h2",p:"p",pre:"pre",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"useraftimeout-与-userafinterval-与-usecountdown",children:[n.jsx(e.a,{className:"autolink-headings",href:"#useraftimeout-与-userafinterval-与-usecountdown",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"use(Raf)Timeout 与 use(Raf)Interval 与 useCountDown"]}),`
`,n.jsxs(e.h2,{id:"usetimeout",children:[n.jsx(e.a,{className:"autolink-headings",href:"#usetimeout",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useTimeout"]}),`
`,n.jsx(e.p,{children:"setTimeout 的 hook，返回 clear 函数来清除定时器"}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useTimeout"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"fn"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" void"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#E36209"},children:"delay"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 使fn函数对象地址不变，哪怕fn内含有状态也不变"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" timerCallback"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useMemoizedFn"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fn)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 使setInterval的timer不变"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" timerRef"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"NodeJS"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"Timer"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" null"}),n.jsx(e.span,{style:{color:"#24292E"},children:">("}),n.jsx(e.span,{style:{color:"#005CC5"},children:"null"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 使clear函数对象地址不变"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" clear"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useCallback"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (timerRef.current) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"      clearTimeout"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(timerRef.current)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }, [])"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  useEffect"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 校验delay"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"isNumber"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(delay) "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"||"}),n.jsx(e.span,{style:{color:"#24292E"},children:" delay "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"<"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 0"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#D73A49"},children:"      return"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 保存最新定时器timer"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    timerRef.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" setTimeout"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(timerCallback, delay)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" clear"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }, [delay])"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" clear"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})}),`
`,n.jsxs(e.h2,{id:"useraftimeout",children:[n.jsx(e.a,{className:"autolink-headings",href:"#useraftimeout",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useRafTimeout"]}),`
`,n.jsx(e.p,{children:"用 requestAnimationFrame 模拟实现的 useTimeout，更精准，页面不渲染的时候不触发函数执行，比如页面隐藏或最小化等"}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"interface"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Handle"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  id"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" NodeJS"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"Timeout"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// 先实现setRafTimeout"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" setRafTimeout"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" function"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  callback"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" void"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  delay"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 0"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:")"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Handle"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 如果是node等环境没有requestAnimationFrame，直接使用setTimeout调用后的定时器id"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" requestAnimationFrame "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" typeof"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      id: "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"setTimeout"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(callback, delay),"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 记录定时器id"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" handle"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Handle"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    id: "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"0"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 记录开始时间"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" startTime"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" new"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Date"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"getTime"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 递归调用requestAnimationFrame，这是requestAnimationFrame的使用方式"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" loop"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 记录当前时间，话说这里也能用参数获取requestAnimationFrame调用的时间"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" current"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" new"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Date"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"getTime"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 如果delay的时间到了，执行callback"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"-"}),n.jsx(e.span,{style:{color:"#24292E"},children:" startTime "}),n.jsx(e.span,{style:{color:"#D73A49"},children:">="}),n.jsx(e.span,{style:{color:"#24292E"},children:" delay) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"      callback"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"else"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // 否则继续递归"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      handle.id "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" requestAnimationFrame"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(loop)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 记录定时器id"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  handle.id "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" requestAnimationFrame"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(loop)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" handle"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// 判断是否有cancelAnimationFrame"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" cancelAnimationFrameIsNotDefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#E36209"},children:"t"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#E36209"},children:" t"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" is"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" NodeJS"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"Timer"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" cancelAnimationFrame "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" typeof"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// 清除setRafTimeout定时器"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" clearRafTimeout"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" function"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"handle"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Handle"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 如果是node等环境没有cancelAnimationFrame使用clearTimeout"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"cancelAnimationFrameIsNotDefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(handle.id)) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" clearTimeout"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(handle.id)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  cancelAnimationFrame"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(handle.id)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// 和useTimeout逻辑类似"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRafTimeout"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"fn"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" void"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#E36209"},children:"delay"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" fnRef"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useLatest"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fn)"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" timerRef"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"Handle"}),n.jsx(e.span,{style:{color:"#24292E"},children:">()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  useEffect"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"isNumber"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(delay) "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"||"}),n.jsx(e.span,{style:{color:"#24292E"},children:" delay "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"<"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 0"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"return"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    timerRef.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" setRafTimeout"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      fnRef."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"current"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }, delay)"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (timerRef.current) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"        clearRafTimeout"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(timerRef.current)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }, [delay])"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" clear"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useCallback"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (timerRef.current) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"      clearRafTimeout"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(timerRef.current)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }, [])"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" clear"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})}),`
`,n.jsxs(e.h2,{id:"useinterval",children:[n.jsx(e.a,{className:"autolink-headings",href:"#useinterval",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useInterval"]}),`
`,n.jsx(e.p,{children:"setInterval 的 hook，返回 clear 函数来清除定时器"}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useInterval"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  fn"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" void"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  delay"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  options"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#24292E"},children:" { "}),n.jsx(e.span,{style:{color:"#E36209"},children:"immediate"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" boolean"}),n.jsx(e.span,{style:{color:"#24292E"},children:" } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" {},"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 使fn函数对象地址不变，哪怕fn内含有状态也不变"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" timerCallback"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useMemoizedFn"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fn)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 使setInterval的timer不变"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" timerRef"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"NodeJS"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"Timer"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" null"}),n.jsx(e.span,{style:{color:"#24292E"},children:">("}),n.jsx(e.span,{style:{color:"#005CC5"},children:"null"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 使clear函数对象地址不变"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" clear"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useCallback"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (timerRef.current) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"      clearInterval"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(timerRef.current)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }, [])"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  useEffect"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 校验delay"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"isNumber"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(delay) "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"||"}),n.jsx(e.span,{style:{color:"#24292E"},children:" delay "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"<"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 0"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#D73A49"},children:"      return"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 如果配置immediate则第一次渲染也执行fn"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (options.immediate) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"      timerCallback"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 保存最新定时器timer"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    timerRef.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" setInterval"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(timerCallback, delay)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" clear"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }, [delay, options.immediate])"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" clear"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})}),`
`,n.jsxs(e.h2,{id:"userafinterval",children:[n.jsx(e.a,{className:"autolink-headings",href:"#userafinterval",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useRafInterval"]}),`
`,n.jsx(e.p,{children:"用 requestAnimationFrame 模拟实现的 useInterval，更精准，页面不渲染的时候不触发函数执行，比如页面隐藏或最小化等"}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"interface"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Handle"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  id"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" NodeJS"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"Timer"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// 和useRafTimeout中类似"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" setRafInterval"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" function"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  callback"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" void"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  delay"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 0"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:")"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Handle"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" requestAnimationFrame "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" typeof"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      id: "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"setInterval"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(callback, delay),"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  let"}),n.jsx(e.span,{style:{color:"#24292E"},children:" start "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" new"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Date"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"getTime"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" handle"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Handle"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    id: "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"0"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" loop"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" current"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" new"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Date"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"getTime"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"-"}),n.jsx(e.span,{style:{color:"#24292E"},children:" start "}),n.jsx(e.span,{style:{color:"#D73A49"},children:">="}),n.jsx(e.span,{style:{color:"#24292E"},children:" delay) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"      callback"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      start "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" new"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Date"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"getTime"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    handle.id "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" requestAnimationFrame"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(loop)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  handle.id "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" requestAnimationFrame"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(loop)"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" handle"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" cancelAnimationFrameIsNotDefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#E36209"},children:"t"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#E36209"},children:" t"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" is"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" NodeJS"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"Timer"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" cancelAnimationFrame "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" typeof"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" clearRafInterval"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" function"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"handle"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Handle"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"cancelAnimationFrameIsNotDefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(handle.id)) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" clearInterval"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(handle.id)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  cancelAnimationFrame"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(handle.id)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// 和useInterval中类似"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRafInterval"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  fn"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" void"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  delay"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  options"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"    immediate"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" boolean"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  },"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:") {"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" immediate"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" options?.immediate"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" fnRef"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useLatest"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fn)"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" timerRef"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"Handle"}),n.jsx(e.span,{style:{color:"#24292E"},children:">()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  useEffect"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"isNumber"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(delay) "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"||"}),n.jsx(e.span,{style:{color:"#24292E"},children:" delay "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"<"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 0"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"return"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (immediate) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      fnRef."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"current"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    timerRef.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" setRafInterval"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      fnRef."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"current"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }, delay)"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (timerRef.current) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"        clearRafInterval"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(timerRef.current)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }, [delay])"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" clear"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useCallback"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (timerRef.current) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"      clearRafInterval"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(timerRef.current)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }, [])"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" clear"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})}),`
`,n.jsxs(e.h2,{id:"usecountdown",children:[n.jsx(e.a,{className:"autolink-headings",href:"#usecountdown",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useCountDown"]}),`
`,n.jsx(e.p,{children:"倒计时 Hook"}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" type"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" TDate"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" dayjs"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"ConfigType"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" interface"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Options"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  leftTime"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  targetDate"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" TDate"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  interval"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  onEnd"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" void"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" interface"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" FormattedRes"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  days"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  hours"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  minutes"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  seconds"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  milliseconds"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// 计算剩余时间"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" calcLeft"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"target"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" TDate"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#24292E"},children:"target) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 0"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // https://stackoverflow.com/questions/4310953/invalid-date-in-safari"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" left"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" dayjs"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(target)."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"valueOf"}),n.jsx(e.span,{style:{color:"#24292E"},children:"() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"-"}),n.jsx(e.span,{style:{color:"#24292E"},children:" Date."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"now"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" left "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"<"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 0"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ?"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 0"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" :"}),n.jsx(e.span,{style:{color:"#24292E"},children:" left"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// 格式化毫秒为日期"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" parseMs"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"milliseconds"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" FormattedRes"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" =>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    days: Math."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"floor"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(milliseconds "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"/"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 86400000"}),n.jsx(e.span,{style:{color:"#24292E"},children:"),"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    hours: Math."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"floor"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(milliseconds "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"/"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 3600000"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"%"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 24"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    minutes: Math."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"floor"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(milliseconds "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"/"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 60000"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"%"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 60"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    seconds: Math."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"floor"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(milliseconds "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"/"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 1000"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"%"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 60"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    milliseconds: Math."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"floor"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(milliseconds) "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"%"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 1000"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useCountdown"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"options"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Options"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" {}) "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#24292E"},children:" { "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"leftTime"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"targetDate"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"interval"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 1000"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"onEnd"}),n.jsx(e.span,{style:{color:"#24292E"},children:" } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" options "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"||"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {}"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 计算目标时间"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" target"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useMemo"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TDate"}),n.jsx(e.span,{style:{color:"#24292E"},children:">(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 如果leftTime传入了值，注意undefined也算"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#032F62"},children:"'leftTime'"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" in"}),n.jsx(e.span,{style:{color:"#24292E"},children:" options) {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // 如果leftTime是>0的数字"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      return"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" isNumber"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(leftTime) "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"&&"}),n.jsx(e.span,{style:{color:"#24292E"},children:" leftTime "}),n.jsx(e.span,{style:{color:"#D73A49"},children:">"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 0"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"        ?"}),n.jsx(e.span,{style:{color:"#24292E"},children:" Date."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"now"}),n.jsx(e.span,{style:{color:"#24292E"},children:"() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"+"}),n.jsx(e.span,{style:{color:"#24292E"},children:" leftTime"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"        :"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"else"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" targetDate"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }, [leftTime, targetDate])"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 倒计时状态，就是countdown"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ["}),n.jsx(e.span,{style:{color:"#005CC5"},children:"timeLeft"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"setTimeLeft"}),n.jsx(e.span,{style:{color:"#24292E"},children:"] "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" calcLeft"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(target))"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 保存onEnd钩子"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" onEndRef"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useLatest"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(onEnd)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  useEffect"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 没有目标时间则停止，并归零倒计时"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#24292E"},children:"target) {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // for stop"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"      setTimeLeft"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#005CC5"},children:"0"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#D73A49"},children:"      return"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 立即计算并保存一次"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"    setTimeLeft"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"calcLeft"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(target))"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" timer"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" setInterval"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // 每隔interval计算并保存倒计时"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" targetLeft"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" calcLeft"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(target)"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"      setTimeLeft"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(targetLeft)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // 倒计时结束时清除计时器并执行onEnd钩子"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (targetLeft "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 0"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"        clearInterval"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(timer)"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"        onEndRef."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"current"}),n.jsx(e.span,{style:{color:"#24292E"},children:"?.()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }, interval)"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" clearInterval"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(timer)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }, [target, interval])"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 将倒计时格式化为日期"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" formattedRes"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useMemo"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" parseMs"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(timeLeft), [timeLeft])"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" [timeLeft, formattedRes] "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"as"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" const"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})})]})}function Pd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Ki,{...l})}):Ki(l)}const V2=()=>U2,H2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:V2,GetToc:b2,default:Pd},Symbol.toStringTag,{value:"Module"})),X2=()=>[{id:"userequestimplement",text:"useRequestImplement",depth:2},{id:"fetch",text:"Fetch",depth:2}],W2=void 0;function qi(l){const e={a:"a",code:"code",figure:"figure",h1:"h1",h2:"h2",p:"p",pre:"pre",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"userequest",children:[n.jsx(e.a,{className:"autolink-headings",href:"#userequest",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useRequest"]}),`
`,n.jsx(e.p,{children:`useRequest 使用的插件机制
通过 useRequestImplement 引入插件`}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// function useRequest<TData, TParams extends any[], TFormated, TTFormated extends TFormated = any>("})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"//   service: Service<TData, TParams>,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"//   options: OptionsWithFormat<TData, TParams, TFormated, TTFormated>,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"//   plugins?: Plugin<TData, TParams>[],"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// ): Result<TFormated, TParams>"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// function useRequest<TData, TParams extends any[]>("})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"//   service: Service<TData, TParams>,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"//   options?: OptionsWithoutFormat<TData, TParams>,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"//   plugins?: Plugin<TData, TParams>[],"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"// ): Result<TData, TParams>"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRequest"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" extends"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"}),n.jsx(e.span,{style:{color:"#24292E"},children:"[]>("})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  service"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Service"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">, "}),n.jsx(e.span,{style:{color:"#6A737D"},children:"// service就是接口"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  options"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Options"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">, "}),n.jsx(e.span,{style:{color:"#6A737D"},children:"// options就是配置项"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  plugins"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Plugin"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">[], "}),n.jsx(e.span,{style:{color:"#6A737D"},children:"// plugins是插件"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:") {"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRequestImplement"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">(service, options, ["})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    ..."}),n.jsx(e.span,{style:{color:"#24292E"},children:"(plugins "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"||"}),n.jsx(e.span,{style:{color:"#24292E"},children:" []),"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    useDebouncePlugin,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    useLoadingDelayPlugin,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    usePollingPlugin,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    useRefreshOnWindowFocusPlugin,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    useThrottlePlugin,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    useAutoRunPlugin,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    useCachePlugin,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    useRetryPlugin,"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  ] "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"as"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Plugin"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">[])"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})}),`
`,n.jsxs(e.h2,{id:"userequestimplement",children:[n.jsx(e.a,{className:"autolink-headings",href:"#userequestimplement",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useRequestImplement"]}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRequestImplement"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" extends"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"}),n.jsx(e.span,{style:{color:"#24292E"},children:"[]>("})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  service"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Service"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">, "}),n.jsx(e.span,{style:{color:"#6A737D"},children:"// service就是接口，useRequset透传"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  options"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Options"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:"> "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" {}, "}),n.jsx(e.span,{style:{color:"#6A737D"},children:"// options就是配置项，useRequset透传"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  plugins"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Plugin"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">[] "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" [], "}),n.jsx(e.span,{style:{color:"#6A737D"},children:"// plugins是插件，"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:") {"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#24292E"},children:" { "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"manual"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" false"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#005CC5"},children:"rest"}),n.jsx(e.span,{style:{color:"#24292E"},children:" } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" options"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 开发环境"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (isDev) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (options.defaultParams "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"&&"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" !"}),n.jsx(e.span,{style:{color:"#24292E"},children:"Array."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"isArray"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(options.defaultParams)) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      console."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"warn"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#032F62"},children:"        `expected defaultParams is array, got ${"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" options"}),n.jsx(e.span,{style:{color:"#032F62"},children:"."}),n.jsx(e.span,{style:{color:"#24292E"},children:"defaultParams"}),n.jsx(e.span,{style:{color:"#032F62"},children:"}`"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      )"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 将配置了默认manual的配置项给fetch"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" fetchOptions"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    manual,"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    ..."}),n.jsx(e.span,{style:{color:"#24292E"},children:"rest,"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 始终保存最新的请求函数"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" serviceRef"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useLatest"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(service)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 强制组件重新渲染的函数"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" update"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useUpdate"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // Fetch实例处理请求，useCreation确保实例不会重复创建"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" fetchInstance"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useCreation"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 调用插件的初始化钩子，然后获取Fetch初始值，如useAutoRunPlugin配置了loading初始值，注意和其他钩子在插件中写法不一样，这个是直接挂在函数上的，而不是返回值上"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" initState"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" plugins"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      ."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"map"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(("}),n.jsx(e.span,{style:{color:"#E36209"},children:"p"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" p?."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"onInit"}),n.jsx(e.span,{style:{color:"#24292E"},children:"?.(fetchOptions))"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      ."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"filter"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(Boolean)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" new"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Fetch"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">("})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      serviceRef,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      fetchOptions,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      update,"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      Object."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"assign"}),n.jsx(e.span,{style:{color:"#24292E"},children:"({}, "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#24292E"},children:"initState),"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    )"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }, [])"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 在fetchInstance保存fetchOptions，为了fetchInstance调用options里的钩子，但是为什么类中没定义这个变量?"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  fetchInstance.options "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" fetchOptions"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 执行所有插件返回的包含多个钩子的对象"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  fetchInstance.pluginImpls "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" plugins."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"map"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(("}),n.jsx(e.span,{style:{color:"#E36209"},children:"p"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" p"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fetchInstance, fetchOptions))"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 组件渲染时，未配置手动请求时，发起请求"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  useMount"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#24292E"},children:"manual) {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // useCachePlugin can set fetchInstance.state.params from cache when init"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" params"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" fetchInstance.state.params "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"||"}),n.jsx(e.span,{style:{color:"#24292E"},children:" options.defaultParams "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"||"}),n.jsx(e.span,{style:{color:"#24292E"},children:" []"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // @ts-ignore"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      fetchInstance."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"run"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#24292E"},children:"params)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  })"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 组件销毁时取消请求"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  useUnmount"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    fetchInstance."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"cancel"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  })"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    loading: fetchInstance.state.loading,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    data: fetchInstance.state.data,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    error: fetchInstance.state.error,"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    params: fetchInstance.state.params "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"||"}),n.jsx(e.span,{style:{color:"#24292E"},children:" [],"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    cancel: "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"useMemoizedFn"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fetchInstance.cancel."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"bind"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fetchInstance)),"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    refresh: "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"useMemoizedFn"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fetchInstance.refresh."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"bind"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fetchInstance)),"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    refreshAsync: "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"useMemoizedFn"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fetchInstance.refreshAsync."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"bind"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fetchInstance)),"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    run: "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"useMemoizedFn"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fetchInstance.run."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"bind"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fetchInstance)),"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    runAsync: "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"useMemoizedFn"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fetchInstance.runAsync."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"bind"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fetchInstance)),"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    mutate: "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"useMemoizedFn"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fetchInstance.mutate."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"bind"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fetchInstance)),"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"as"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Result"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})}),`
`,n.jsxs(e.h2,{id:"fetch",children:[n.jsx(e.a,{className:"autolink-headings",href:"#fetch",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"Fetch"]}),`
`,n.jsx(e.p,{children:"核心代码"}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" default"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" class"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Fetch"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" extends"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"}),n.jsx(e.span,{style:{color:"#24292E"},children:"[]> {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 插件钩子对象的数组"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  pluginImpls"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" PluginReturn"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">[]"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 记录的请求次数"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  count"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 0"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 状态"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#E36209"},children:"  state"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" FetchState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:"> "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    loading: "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"false"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    params: "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    data: "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    error: "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  constructor"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    public"}),n.jsx(e.span,{style:{color:"#E36209"},children:" serviceRef"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" MutableRefObject"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"Service"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">>, "}),n.jsx(e.span,{style:{color:"#6A737D"},children:"// service"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    public"}),n.jsx(e.span,{style:{color:"#E36209"},children:" options"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Options"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">, "}),n.jsx(e.span,{style:{color:"#6A737D"},children:"// options"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    public"}),n.jsx(e.span,{style:{color:"#E36209"},children:" subscribe"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Subscribe"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6A737D"},children:"// 强制渲染的函数"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    public"}),n.jsx(e.span,{style:{color:"#E36209"},children:" initState"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Partial"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"FetchState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">> "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" {}, "}),n.jsx(e.span,{style:{color:"#6A737D"},children:"// 初始状态"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  ) {"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 设置初始状态"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"    this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".state "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      ..."}),n.jsx(e.span,{style:{color:"#005CC5"},children:"this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".state,"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      loading: "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#24292E"},children:"options.manual,"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      ..."}),n.jsx(e.span,{style:{color:"#24292E"},children:"initState,"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 设置状态并强制渲染，没有用react的useState来保证状态改变时渲染，而是用强制渲染新数据实现"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  setState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#E36209"},children:"s"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Partial"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"FetchState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">> "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" {}) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"    this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".state "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      ..."}),n.jsx(e.span,{style:{color:"#005CC5"},children:"this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".state,"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      ..."}),n.jsx(e.span,{style:{color:"#24292E"},children:"s,"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"    this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"subscribe"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 执行钩子"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  runPluginHandler"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#E36209"},children:"event"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" keyof"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" PluginReturn"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:">, "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#E36209"},children:"rest"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"}),n.jsx(e.span,{style:{color:"#24292E"},children:"[]) {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 遍历插件钩子对象的数组，执行对应钩子"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" r"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".pluginImpls."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"map"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(("}),n.jsx(e.span,{style:{color:"#E36209"},children:"i"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" i[event]?.("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#24292E"},children:"rest))."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"filter"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(Boolean)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 返回钩子给的状态"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" Object."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"assign"}),n.jsx(e.span,{style:{color:"#24292E"},children:"({}, "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#24292E"},children:"r)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 核心请求函数"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  async"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" runAsync"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#E36209"},children:"params"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Promise"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:"> {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 请求次数加一"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"    this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".count "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"+="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 1"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" currentCount"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".count"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 执行插件onBefore钩子，并获取钩子给的状态"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"      stopNow"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" false"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"      returnNow"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" false"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      ..."}),n.jsx(e.span,{style:{color:"#005CC5"},children:"state"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"runPluginHandler"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#032F62"},children:"'onBefore'"}),n.jsx(e.span,{style:{color:"#24292E"},children:", params)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 如果钩子给了stopNow就停止"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // stop request"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (stopNow) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      return"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" new"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" Promise"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {})"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 强制渲染新状态"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"    this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"setState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"({"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      loading: "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"true"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      params,"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      ..."}),n.jsx(e.span,{style:{color:"#24292E"},children:"state,"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    })"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 如果钩子给了stopNow就返回"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // return now"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (returnNow) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      return"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" Promise"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"resolve"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(state.data)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 调用配置里的钩子onBefore"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"    this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".options."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"onBefore"}),n.jsx(e.span,{style:{color:"#24292E"},children:"?.(params)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    try"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // 获取真正的请求函数"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      let"}),n.jsx(e.span,{style:{color:"#24292E"},children:" { servicePromise } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"runPluginHandler"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#032F62"},children:"        'onRequest'"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"        this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".serviceRef.current,"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"        params,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      )"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#24292E"},children:"servicePromise) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"        servicePromise "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".serviceRef."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"current"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#24292E"},children:"params)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // 开始请求，res是promise的then"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" res"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" await"}),n.jsx(e.span,{style:{color:"#24292E"},children:" servicePromise"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // 取消请求"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (currentCount "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!=="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".count) {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"        // prevent run.then when request is canceled"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"        return"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" new"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" Promise"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {})"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // const formattedResult = this.options.formatResultRef.current ? this.options.formatResultRef.current(res) : res;"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // 强制渲染新状态"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"      this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"setState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"({"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"        data: res,"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"        error: "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"        loading: "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"false"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      })"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // 调用配置里的钩子onSuccess和插件里的"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"      this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".options."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"onSuccess"}),n.jsx(e.span,{style:{color:"#24292E"},children:"?.(res, params)"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"      this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"runPluginHandler"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#032F62"},children:"'onSuccess'"}),n.jsx(e.span,{style:{color:"#24292E"},children:", res, params)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // 调用配置里的钩子onFinally"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"      this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".options."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"onFinally"}),n.jsx(e.span,{style:{color:"#24292E"},children:"?.(params, res, "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // 调用插件里的钩子onFinally"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (currentCount "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".count) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"        this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"runPluginHandler"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#032F62"},children:"'onFinally'"}),n.jsx(e.span,{style:{color:"#24292E"},children:", params, res, "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"      // 返回promise的then"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" res"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"catch"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (error) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (currentCount "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!=="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".count) {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"        // prevent run.then when request is canceled"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"        return"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" new"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" Promise"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {})"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"      this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"setState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"({"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"        error,"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"        loading: "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"false"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      })"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"      this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".options."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"onError"}),n.jsx(e.span,{style:{color:"#24292E"},children:"?.(error, params)"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"      this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"runPluginHandler"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#032F62"},children:"'onError'"}),n.jsx(e.span,{style:{color:"#24292E"},children:", error, params)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"      this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".options."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"onFinally"}),n.jsx(e.span,{style:{color:"#24292E"},children:"?.(params, "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:", error)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (currentCount "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".count) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"        this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"runPluginHandler"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#032F62"},children:"'onFinally'"}),n.jsx(e.span,{style:{color:"#24292E"},children:", params, "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:", error)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      throw"}),n.jsx(e.span,{style:{color:"#24292E"},children:" error"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 处理了promise的then的错误的函数"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  run"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#E36209"},children:"params"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" TParams"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"    this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"runAsync"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#24292E"},children:"params)."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"catch"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(("}),n.jsx(e.span,{style:{color:"#E36209"},children:"error"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#005CC5"},children:"this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".options.onError) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"        console."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"error"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(error)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    })"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 取消请求"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  cancel"}),n.jsx(e.span,{style:{color:"#24292E"},children:"() {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"    this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".count "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"+="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 1"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"    this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"setState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"({"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"      loading: "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"false"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    })"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"    this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"runPluginHandler"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#032F62"},children:"'onCancel'"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 再请求一次"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  refresh"}),n.jsx(e.span,{style:{color:"#24292E"},children:"() {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // @ts-ignore"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"    this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"run"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#005CC5"},children:"this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".state.params "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"||"}),n.jsx(e.span,{style:{color:"#24292E"},children:" []))"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 返回新请求的promise的then"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  refreshAsync"}),n.jsx(e.span,{style:{color:"#24292E"},children:"() {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // @ts-ignore"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"runAsync"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#005CC5"},children:"this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".state.params "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"||"}),n.jsx(e.span,{style:{color:"#24292E"},children:" []))"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 修改data"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  mutate"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#E36209"},children:"data"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" TData"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (("}),n.jsx(e.span,{style:{color:"#E36209"},children:"oldData"}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?:"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" TData"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" TData"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:")) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" targetData"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" isFunction"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(data) "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"?"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" data"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#005CC5"},children:"this"}),n.jsx(e.span,{style:{color:"#24292E"},children:".state.data) "}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#24292E"},children:" data"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 调用插件里的钩子onMutate"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"    this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"runPluginHandler"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#032F62"},children:"'onMutate'"}),n.jsx(e.span,{style:{color:"#24292E"},children:", targetData)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"    // 强制渲染新状态"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#005CC5"},children:"    this"}),n.jsx(e.span,{style:{color:"#24292E"},children:"."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"setState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"({"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      data: targetData,"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    })"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})})]})}function Md(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(qi,{...l})}):qi(l)}const Q2=()=>W2,K2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Q2,GetToc:X2,default:Md},Symbol.toStringTag,{value:"Module"})),q2=()=>[],Y2=void 0;function Yi(l){return n.jsx(n.Fragment,{})}function Rd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Yi,{...l})}):Yi()}const J2=()=>Y2,Z2=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:J2,GetToc:q2,default:Rd},Symbol.toStringTag,{value:"Module"})),ey=()=>[],ny=void 0;function Ji(l){const e={a:"a",code:"code",figure:"figure",h1:"h1",p:"p",pre:"pre",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"useupdate",children:[n.jsx(e.a,{className:"autolink-headings",href:"#useupdate",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useUpdate"]}),`
`,n.jsx(e.p,{children:"强制重新渲染"}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useUpdate"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 初始为第一个对象字面量"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#24292E"},children:" [, "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"setState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"] "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"({})"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 调用时更新为第二个对象字面量来触发重新渲染"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useCallback"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" setState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"({}), [])"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})})]})}function Nd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Ji,{...l})}):Ji(l)}const ly=()=>ny,sy=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:ly,GetToc:ey,default:Nd},Symbol.toStringTag,{value:"Module"})),ty=()=>[],ry=void 0;function Zi(l){const e={a:"a",code:"code",figure:"figure",h1:"h1",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"usecreation",children:[n.jsx(e.a,{className:"autolink-headings",href:"#usecreation",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useCreation"]}),`
`,n.jsx(e.p,{children:"useCreation 是 useMemo 或 useRef 的替代品。"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"useMemo 无法保证被 memo 的值一定不会被重计算"}),`
`,n.jsx(e.li,{children:"useRef 对复杂值如 new Obj() 会导致实例重复创建"}),`
`]}),`
`,n.jsx(e.p,{children:"而 useCreation 空 deps 被 memo 的值不会被重计算，参数是函数也保证了实例不会重新创建"}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" default"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useCreation"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"T"}),n.jsx(e.span,{style:{color:"#24292E"},children:">("}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"factory"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" T"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#E36209"},children:"deps"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" DependencyList"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 使用ref保存是否创建等状态"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#24292E"},children:" { "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"current"}),n.jsx(e.span,{style:{color:"#24292E"},children:" } "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"({"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    deps,"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    obj: "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"undefined"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" as"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" T"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    initialized: "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"false"}),n.jsx(e.span,{style:{color:"#24292E"},children:","})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  })"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#6A737D"},children:"  // 未创建 或者 依赖不同"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (current.initialized "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" false"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ||"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" !"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"depsAreSame"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(current.deps, deps)) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    current.deps "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" deps"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    current.obj "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" factory"}),n.jsx(e.span,{style:{color:"#24292E"},children:"()"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    current.initialized "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" true"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" current.obj "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"as"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" T"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})})]})}function Bd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(Zi,{...l})}):Zi(l)}const oy=()=>ry,iy=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:oy,GetToc:ty,default:Bd},Symbol.toStringTag,{value:"Module"})),ay=()=>[{id:"useanimationframe",text:"useAnimationFrame",depth:2},{id:"计时器",text:"计时器",depth:2}],cy=void 0;function ea(l){const e={a:"a",code:"code",figure:"figure",h1:"h1",h2:"h2",p:"p",pre:"pre",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"useanimationframe-和计时器",children:[n.jsx(e.a,{className:"autolink-headings",href:"#useanimationframe-和计时器",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useAnimationFrame 和计时器"]}),`
`,n.jsx(e.p,{children:"因为 setTimeout/setInterval 会因为任务阻塞延迟严重"}),`
`,n.jsx(e.p,{children:"requestAnimationFrame 可以实现更精准的计时器"}),`
`,n.jsx(e.p,{children:"requestAnimationFrame 是自动匹配帧率调用的 api，60 帧执行 60 次，120 帧执行 120 次"}),`
`,n.jsx(e.p,{children:"api 设计目的就是使动画更丝滑"}),`
`,n.jsx(e.p,{children:"所以 requestAnimationFrame 需要与浏览器的重绘同步，具有调用优先级，不会因为任务阻塞"}),`
`,n.jsxs(e.h2,{id:"useanimationframe",children:[n.jsx(e.a,{className:"autolink-headings",href:"#useanimationframe",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useAnimationFrame"]}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useAnimationFrame"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"callback"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"durationTime"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" void"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" requestRef"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#005CC5"},children:"number"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:">()"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" startTimeRef"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#005CC5"},children:"number"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" |"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:">()"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" animate"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"time"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" DOMHighResTimeStamp"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (startTimeRef.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!=="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" durationTime"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" time "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"-"}),n.jsx(e.span,{style:{color:"#24292E"},children:" startTimeRef.current"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"      callback"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(durationTime)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    startTimeRef.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" time"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    requestRef.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" requestAnimationFrame"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(animate)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  useEffect"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(() "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    requestRef.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" requestAnimationFrame"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(animate)"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"    return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"      if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" (requestRef.current) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"        cancelAnimationFrame"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(requestRef.current)"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"      }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"    }"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }, [])"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})}),`
`,n.jsxs(e.h2,{id:"计时器",children:[n.jsx(e.a,{className:"autolink-headings",href:"#计时器",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"计时器"]}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"tsx","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"tsx","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" IndexPage"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" () "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ["}),n.jsx(e.span,{style:{color:"#005CC5"},children:"count"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"setCount"}),n.jsx(e.span,{style:{color:"#24292E"},children:"] "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useState"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#005CC5"},children:"0"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  useAnimationFrame"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(("}),n.jsx(e.span,{style:{color:"#E36209"},children:"durationTime"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"    setCount"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(("}),n.jsx(e.span,{style:{color:"#E36209"},children:"prevCount"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#24292E"},children:" prevCount "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"+"}),n.jsx(e.span,{style:{color:"#24292E"},children:" durationTime "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"/"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 1000"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  })"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#24292E"},children:" <"}),n.jsx(e.span,{style:{color:"#22863A"},children:"div"}),n.jsx(e.span,{style:{color:"#24292E"},children:">{Math."}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"round"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(count)}</"}),n.jsx(e.span,{style:{color:"#22863A"},children:"div"}),n.jsx(e.span,{style:{color:"#24292E"},children:">"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" default"}),n.jsx(e.span,{style:{color:"#24292E"},children:" IndexPage"})]})]})})}),`
`,n.jsx("p",{align:"right",children:"23.12.01"})]})}function Ld(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(ea,{...l})}):ea(l)}const dy=()=>cy,hy=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:dy,GetToc:ay,default:Ld},Symbol.toStringTag,{value:"Module"})),py=()=>[],uy=void 0;function na(l){const e={a:"a",code:"code",figure:"figure",h1:"h1",pre:"pre",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"工具函数",children:[n.jsx(e.a,{className:"autolink-headings",href:"#工具函数",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"工具函数"]}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" isBrowser"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#D73A49"},children:" !!"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" window "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!=="}),n.jsx(e.span,{style:{color:"#032F62"},children:" 'undefined'"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" &&"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  window.document "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"&&"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  window.document.createElement"})}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:")"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" isObject"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" unknown"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#E36209"},children:" value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" is"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" Record"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#005CC5"},children:"any"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#005CC5"},children:"any"}),n.jsx(e.span,{style:{color:"#24292E"},children:"> "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  value "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!=="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" null"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" &&"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" value "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#032F62"},children:" 'object'"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" isFunction"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" unknown"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#E36209"},children:" value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" is"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"..."}),n.jsx(e.span,{style:{color:"#E36209"},children:"args"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"}),n.jsx(e.span,{style:{color:"#24292E"},children:") "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"=>"}),n.jsx(e.span,{style:{color:"#E36209"},children:" any"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" =>"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" value "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#032F62"},children:" 'function'"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" isString"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" unknown"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#E36209"},children:" value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" is"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" string"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" =>"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" value "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#032F62"},children:" 'string'"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" isBoolean"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" unknown"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#E36209"},children:" value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" is"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" boolean"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" =>"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" value "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#032F62"},children:" 'boolean'"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" isNumber"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" unknown"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#E36209"},children:" value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" is"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" number"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" =>"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" value "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#032F62"},children:" 'number'"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"export"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" const"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" isUndef"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#E36209"},children:"value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" unknown"}),n.jsx(e.span,{style:{color:"#24292E"},children:")"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#E36209"},children:" value"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" is"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" undefined"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" =>"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  typeof"}),n.jsx(e.span,{style:{color:"#24292E"},children:" value "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"==="}),n.jsx(e.span,{style:{color:"#032F62"},children:" 'undefined'"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" isDev"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  process.env."}),n.jsx(e.span,{style:{color:"#005CC5"},children:"NODE_ENV"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ==="}),n.jsx(e.span,{style:{color:"#032F62"},children:" 'development'"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ||"}),n.jsx(e.span,{style:{color:"#24292E"},children:" process.env."}),n.jsx(e.span,{style:{color:"#005CC5"},children:"NODE_ENV"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ==="}),n.jsx(e.span,{style:{color:"#032F62"},children:" 'test'"})]})]})})})]})}function $d(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(na,{...l})}):na(l)}const xy=()=>uy,jy=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:xy,GetToc:py,default:$d},Symbol.toStringTag,{value:"Module"})),yy=()=>[{id:"usedeepeffect",text:"useDeepEffect",depth:2}],fy=void 0;function la(l){const e={a:"a",code:"code",figure:"figure",h1:"h1",h2:"h2",pre:"pre",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"usedeepcompareeffect",children:[n.jsx(e.a,{className:"autolink-headings",href:"#usedeepcompareeffect",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useDeepCompareEffect"]}),`
`,n.jsxs(e.h2,{id:"usedeepeffect",children:[n.jsx(e.a,{className:"autolink-headings",href:"#usedeepeffect",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"useDeepEffect"]}),`
`,n.jsx(e.figure,{"data-rehype-pretty-code-figure":"",children:n.jsx(e.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"ts","data-theme":"github-light",children:n.jsxs(e.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" isDeepEqual"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#E36209"},children:"cur"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#E36209"},children:"pre"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  return"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" true"}),n.jsx(e.span,{style:{color:"#24292E"},children:";"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"function"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useDeepEffect"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#E36209"},children:"fn"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"}),n.jsx(e.span,{style:{color:"#24292E"},children:", "}),n.jsx(e.span,{style:{color:"#E36209"},children:"deps"}),n.jsx(e.span,{style:{color:"#D73A49"},children:":"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" any"}),n.jsx(e.span,{style:{color:"#24292E"},children:") {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" flag"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"("}),n.jsx(e.span,{style:{color:"#005CC5"},children:"0"}),n.jsx(e.span,{style:{color:"#24292E"},children:");"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  const"}),n.jsx(e.span,{style:{color:"#005CC5"},children:" preDeps"}),n.jsx(e.span,{style:{color:"#D73A49"},children:" ="}),n.jsx(e.span,{style:{color:"#6F42C1"},children:" useRef"}),n.jsx(e.span,{style:{color:"#24292E"},children:"<"}),n.jsx(e.span,{style:{color:"#005CC5"},children:"any"}),n.jsx(e.span,{style:{color:"#24292E"},children:">();"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#D73A49"},children:"  if"}),n.jsx(e.span,{style:{color:"#24292E"},children:" ("}),n.jsx(e.span,{style:{color:"#D73A49"},children:"!"}),n.jsx(e.span,{style:{color:"#6F42C1"},children:"isDeepEqual"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(deps, preDeps.current)) {"})]}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"    flag.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"+="}),n.jsx(e.span,{style:{color:"#005CC5"},children:" 1"}),n.jsx(e.span,{style:{color:"#24292E"},children:";"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"  }"})}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#24292E"},children:"  preDeps.current "}),n.jsx(e.span,{style:{color:"#D73A49"},children:"="}),n.jsx(e.span,{style:{color:"#24292E"},children:" deps;"})]}),`
`,n.jsx(e.span,{"data-line":"",children:" "}),`
`,n.jsxs(e.span,{"data-line":"",children:[n.jsx(e.span,{style:{color:"#6F42C1"},children:"  useEffect"}),n.jsx(e.span,{style:{color:"#24292E"},children:"(fn, [flag.current]);"})]}),`
`,n.jsx(e.span,{"data-line":"",children:n.jsx(e.span,{style:{color:"#24292E"},children:"}"})})]})})})]})}function Od(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(la,{...l})}):la(l)}const my=()=>fy,Ey=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:my,GetToc:yy,default:Od},Symbol.toStringTag,{value:"Module"})),gy=()=>[],Cy=void 0;function sa(l){const e={a:"a",h1:"h1",li:"li",p:"p",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"常用命令",children:[n.jsx(e.a,{className:"autolink-headings",href:"#常用命令",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"常用命令"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"git pull"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"git push 提交到远程仓库，--force 强制提交"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"git checkout feat/627 切换分支，-b 切换并创建"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"git merge feat/627 将 feat/627 分支合并入当前分支"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"git remote -v 查看源"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"git remote set-url --push origin no_push 禁止 push"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"git cherry-pick d4296dbde1f44c244ba8215aa55a12fa601a96ea 选中任意分支的提交到本分支"}),`
`]}),`
`]})]})}function Id(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(sa,{...l})}):sa(l)}const vy=()=>Cy,Ay=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:vy,GetToc:gy,default:Id},Symbol.toStringTag,{value:"Module"})),Dy=()=>[{id:"checkout-和-reset-的不同",text:"checkout 和 reset 的不同",depth:2}],_y=void 0;function ta(l){const e={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"checkout",children:[n.jsx(e.a,{className:"autolink-headings",href:"#checkout",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"checkout"]}),`
`,n.jsx(e.p,{children:"checkout 并不止可以切换 branch。checkout 本质上的功能其实是：签出（ checkout ）指定的 commit"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"git checkout branch名"})," 的本质，其实是把 HEAD 指向指定的 branch，然后签出这个 branch 所对应的 commit 的工作目录。所以同样的，checkout 的目标也可以不是 branch，而直接指定某个 commit"]}),`
`,n.jsx(e.p,{children:n.jsx(e.code,{children:"git checkout 78a4bc"})}),`
`,n.jsxs(e.h2,{id:"checkout-和-reset-的不同",children:[n.jsx(e.a,{className:"autolink-headings",href:"#checkout-和-reset-的不同",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"checkout 和 reset 的不同"]}),`
`,n.jsx(e.p,{children:"reset 在移动 HEAD 时会带着它所指向的 branch 一起移动，而 checkout 不会。当你用 checkout 指向其他地方的时候，HEAD 和 它所指向的 branch 就自动脱离了"}),`
`,n.jsx(e.p,{children:"而且，checkout 有一个专门用来只让 HEAD 和 branch 脱离而不移动 HEAD 的用法"}),`
`,n.jsx(e.p,{children:n.jsx(e.code,{children:"git checkout --detach"})})]})}function zd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(ta,{...l})}):ta(l)}const ky=()=>_y,Fy=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:ky,GetToc:Dy,default:zd},Symbol.toStringTag,{value:"Module"})),wy=()=>[{id:"stash临时存放工作目录的改动",text:"stash：临时存放工作目录的改动",depth:2}],Sy=void 0;function ra(l){const e={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"stash",children:[n.jsx(e.a,{className:"autolink-headings",href:"#stash",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"stash"]}),`
`,n.jsxs(e.h2,{id:"stash临时存放工作目录的改动",children:[n.jsx(e.a,{className:"autolink-headings",href:"#stash临时存放工作目录的改动",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"stash：临时存放工作目录的改动"]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"git satsh"})," 不保存未 add 的"]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"git satsh -u"})," 也保存未 add 的"]})]})}function Gd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(ra,{...l})}):ra(l)}const Ty=()=>Sy,Py=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Ty,GetToc:wy,default:Gd},Symbol.toStringTag,{value:"Module"})),My=()=>[{id:"log",text:"log",depth:2},{id:"reflog引用的-log",text:"reflog：引用的 log",depth:2}],Ry=void 0;function oa(l){const e={a:"a",h1:"h1",h2:"h2",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"reflog",children:[n.jsx(e.a,{className:"autolink-headings",href:"#reflog",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"reflog"]}),`
`,n.jsxs(e.h2,{id:"log",children:[n.jsx(e.a,{className:"autolink-headings",href:"#log",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"log"]}),`
`,n.jsx(e.p,{children:"查看 commit 记录"}),`
`,n.jsxs(e.h2,{id:"reflog引用的-log",children:[n.jsx(e.a,{className:"autolink-headings",href:"#reflog引用的-log",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"reflog：引用的 log"]}),`
`,n.jsx(e.p,{children:"可以查看 Git 仓库中的引用的移动记录。如果不指定引用，它会显示 HEAD 的移动记录"})]})}function bd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(oa,{...l})}):oa(l)}const Ny=()=>Ry,By=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Ny,GetToc:My,default:bd},Symbol.toStringTag,{value:"Module"})),Ly=()=>[],$y=void 0;function ia(l){const e={a:"a",h1:"h1",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"cherry-pick",children:[n.jsx(e.a,{className:"autolink-headings",href:"#cherry-pick",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"cherry-pick"]}),`
`,n.jsx(e.p,{children:"选中任意分支的指定 commit，提到当前分支"})]})}function Ud(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(ia,{...l})}):ia(l)}const Oy=()=>$y,Iy=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Oy,GetToc:Ly,default:Ud},Symbol.toStringTag,{value:"Module"})),zy=()=>[{id:"版本控制最基本功能",text:"版本控制：最基本功能",depth:2},{id:"主动提交程序代码和普通文本的区别",text:"主动提交：程序代码和普通文本的区别",depth:2},{id:"多人合作的同步需求中央仓库",text:"多人合作的同步需求：中央仓库",depth:2},{id:"中央式版本控制系统",text:"中央式版本控制系统",depth:2}],Gy=void 0;function aa(l){const e={a:"a",h1:"h1",h2:"h2",li:"li",p:"p",span:"span",strong:"strong",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"版本控制系统-vcs",children:[n.jsx(e.a,{className:"autolink-headings",href:"#版本控制系统-vcs",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"版本控制系统 VCS"]}),`
`,n.jsxs(e.h2,{id:"版本控制最基本功能",children:[n.jsx(e.a,{className:"autolink-headings",href:"#版本控制最基本功能",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"版本控制：最基本功能"]}),`
`,n.jsxs(e.p,{children:["最简单的就是编辑器的撤回功能，撤回到上一个",n.jsx(e.strong,{children:"版本"})]}),`
`,n.jsxs(e.h2,{id:"主动提交程序代码和普通文本的区别",children:[n.jsx(e.a,{className:"autolink-headings",href:"#主动提交程序代码和普通文本的区别",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"主动提交：程序代码和普通文本的区别"]}),`
`,n.jsx(e.p,{children:"程序代码需要历史代码的查找，回退等功能"}),`
`,n.jsxs(e.p,{children:["VCS 保存修改历史，使用的是",n.jsx(e.strong,{children:"主动提交"}),"改动的机制"]}),`
`,n.jsxs(e.h2,{id:"多人合作的同步需求中央仓库",children:[n.jsx(e.a,{className:"autolink-headings",href:"#多人合作的同步需求中央仓库",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"多人合作的同步需求：中央仓库"]}),`
`,n.jsxs(e.p,{children:["多个人共同开发需要一个",n.jsx(e.strong,{children:"中央仓库"}),"作为代码的存储中心"]}),`
`,n.jsxs(e.h2,{id:"中央式版本控制系统",children:[n.jsx(e.a,{className:"autolink-headings",href:"#中央式版本控制系统",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"中央式版本控制系统"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"第一次加入团队时，把中央仓库的代码取下来"}),`
`,n.jsx(e.li,{children:"写完的新功能提交到中央仓库"}),`
`,n.jsx(e.li,{children:"同事提交到中央仓库的新代码，及时同步下来"}),`
`]})]})}function Vd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(aa,{...l})}):aa(l)}const by=()=>Gy,Uy=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:by,GetToc:zy,default:Vd},Symbol.toStringTag,{value:"Module"})),Vy=()=>[{id:"优缺点",text:"优缺点",depth:2}],Hy=void 0;function ca(l){const e={a:"a",h1:"h1",h2:"h2",li:"li",p:"p",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"分布式版本控制系统-dvcs",children:[n.jsx(e.a,{className:"autolink-headings",href:"#分布式版本控制系统-dvcs",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"分布式版本控制系统 DVCS"]}),`
`,n.jsx(e.p,{children:"分布式 VCS （Distributed VCS ）和中央式的区别在于，分布式 VCS 除了中央仓库之外，还有本地仓库"}),`
`,n.jsx(e.p,{children:"中央仓库的主要作用"}),`
`,n.jsx(e.p,{children:"中央式 VCS :"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"保存版本历史"}),`
`,n.jsx(e.li,{children:"同步团队代码"}),`
`]}),`
`,n.jsx(e.p,{children:"分布式 VCS:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"同步团队代码"}),`
`]}),`
`,n.jsx(e.p,{children:"注意，分布式 VCS 也保存了历史版本，但是历史版本更多的是作为团队间的同步中转站"}),`
`,n.jsxs(e.h2,{id:"优缺点",children:[n.jsx(e.a,{className:"autolink-headings",href:"#优缺点",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"优缺点"]}),`
`,n.jsx(e.p,{children:"优点："}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"无需联网，速度更快"}),`
`,n.jsx(e.li,{children:"提交更细"}),`
`]}),`
`,n.jsx(e.p,{children:"缺点："}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"clone 慢"}),`
`,n.jsx(e.li,{children:"本地需要存储"}),`
`]})]})}function Hd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(ca,{...l})}):ca(l)}const Xy=()=>Hy,Wy=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Xy,GetToc:Vy,default:Hd},Symbol.toStringTag,{value:"Module"})),Qy=()=>[{id:"引用commit-的快捷方式",text:"引用：commit 的快捷方式",depth:2},{id:"head当前-commit-的引用",text:"HEAD：当前 commit 的引用",depth:2},{id:"branch-引用指向分支的最新-commit",text:"branch 引用：指向分支的最新 commit",depth:2},{id:"操作",text:"操作",depth:2},{id:"mastermain-默认-branch",text:"master/main: 默认 branch",depth:2}],Ky=void 0;function da(l){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"head-与-master-与-branch",children:[n.jsx(e.a,{className:"autolink-headings",href:"#head-与-master-与-branch",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"HEAD 与 master 与 branch"]}),`
`,n.jsxs(e.h2,{id:"引用commit-的快捷方式",children:[n.jsx(e.a,{className:"autolink-headings",href:"#引用commit-的快捷方式",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"引用：commit 的快捷方式"]}),`
`,n.jsxs(e.p,{children:["commit 都有一串 hash 值，很长：",n.jsx(e.code,{children:"d6687fee2c0be551e0a4819053ad88ee42dc91b9"}),`
可以用前几位来指定这个 commit：`,n.jsx(e.code,{children:"d6687fe"})]}),`
`,n.jsx(e.p,{children:"引用就是 字符串，如"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["commit 的引用：",n.jsx(e.code,{children:"d6687fee2c0be551e0a4819053ad88ee42dc91b9"})]}),`
`,n.jsxs(e.li,{children:["branch 的引用：",n.jsx(e.code,{children:"ref: refs/heads/fix"})]}),`
`]}),`
`,n.jsxs(e.h2,{id:"head当前-commit-的引用",children:[n.jsx(e.a,{className:"autolink-headings",href:"#head当前-commit-的引用",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"HEAD：当前 commit 的引用"]}),`
`,n.jsx(e.p,{children:"一般是指向当前分支，当前分支指向，最新的 commit"}),`
`,n.jsxs(e.h2,{id:"branch-引用指向分支的最新-commit",children:[n.jsx(e.a,{className:"autolink-headings",href:"#branch-引用指向分支的最新-commit",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"branch 引用：指向分支的最新 commit"]}),`
`,n.jsx(e.p,{children:"branch 是平等的，master 不同但是并不高一级"}),`
`,n.jsx(e.p,{children:"HEAD 除了可以指向 commit，还可以指向一个 branch，当它指向某个 branch 的时候，会通过这个 branch 来间接地指向某个 commit"}),`
`,n.jsx(e.p,{children:"当 HEAD 在提交时自动向前移动的时候，它会像一个拖钩一样带着它所指向的 branch 一起移动"}),`
`,n.jsx(e.p,{children:"当然通过 reset 指令可以让 HEAD 直接指向 commit"}),`
`,n.jsxs(e.h2,{id:"操作",children:[n.jsx(e.a,{className:"autolink-headings",href:"#操作",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"操作"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["创建：",n.jsx(e.code,{children:"git branch feature1"})]}),`
`,n.jsxs(e.li,{children:["切换：",n.jsx(e.code,{children:"git checkout feature1"})]}),`
`,n.jsxs(e.li,{children:["创建并切换：",n.jsx(e.code,{children:"git checkout -b feature1"})]}),`
`,n.jsxs(e.li,{children:["删除：",n.jsx(e.code,{children:"git branch -d feature1"})]}),`
`]}),`
`,n.jsx(e.p,{children:"注意："}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"HEAD 指向的 branch 不能删除"}),`
`,n.jsx(e.li,{children:"由于 Git 中的 branch 只是一个引用，所以删除 branch 的操作也只会删掉这个引用，并不会删除任何的 commit。不过如果一个 commit 不在任何一个 branch 的「路径」上，或者换句话说，如果没有任何一个 branch 可以回溯到这条 commit，它会被 Git 的回收机制删除掉"}),`
`,n.jsx(e.li,{children:"出于安全考虑，没有被合并到 master 过的 branch 在删除时会失败，但是可以把 -d 改成 -D，小写换成大写，就能删除"}),`
`]}),`
`,n.jsxs(e.h2,{id:"mastermain-默认-branch",children:[n.jsx(e.a,{className:"autolink-headings",href:"#mastermain-默认-branch",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"master/main: 默认 branch"]}),`
`,n.jsx(e.p,{children:"主分支，仅创建仓库或者下载仓库时时默认切换到此分支"})]})}function Xd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(da,{...l})}):da(l)}const qy=()=>Ky,Yy=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:qy,GetToc:Qy,default:Xd},Symbol.toStringTag,{value:"Module"})),Jy=()=>[],Zy=void 0;function ha(l){const e={a:"a",h1:"h1",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"push-的本质",children:[n.jsx(e.a,{className:"autolink-headings",href:"#push-的本质",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"push 的本质"]}),`
`,n.jsx(e.p,{children:"push 是把当前的分支上传到远程仓库，并把这个 branch 的路径上的所有 commits 也一并上传"}),`
`,n.jsx(e.p,{children:"push 的时候，如果当前分支是一个本地创建的分支，需要指定远程仓库名和分支名，用 git push origin branch_name 的格式，而不能只用 git push；或者可以通过 git config 修改 push.default 来改变 push 时的行为逻辑"}),`
`,n.jsx(e.p,{children:"push 的时候之后上传当前分支，并不会上传 HEAD；远程仓库的 HEAD 是永远指向默认分支（即 master/main）的"})]})}function Wd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(ha,{...l})}):ha(l)}const ef=()=>Zy,nf=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:ef,GetToc:Jy,default:Wd},Symbol.toStringTag,{value:"Module"})),lf=()=>[{id:"含义",text:"含义",depth:2},{id:"冲突",text:"冲突",depth:2}],sf=void 0;function pa(l){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"merge",children:[n.jsx(e.a,{className:"autolink-headings",href:"#merge",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"merge"]}),`
`,n.jsx(e.p,{children:"pull 的内部操作其实是把远程仓库取到本地后（使用的是 fetch），再用一次 merge 来把远端仓库的新 commits 合并到本地"}),`
`,n.jsxs(e.p,{children:["即",n.jsx(e.code,{children:"git fetch"})," ",n.jsx(e.code,{children:"git merge origin/HEAD"})]}),`
`,n.jsx(e.p,{children:`fetch 会更新远程仓库的本地镜像 origin/HEAD 和 origin/master
随后 merge 针对没有冲突的 commit 会进行 fast-forward 快速前移来移动到最新 commit`}),`
`,n.jsxs(e.h2,{id:"含义",children:[n.jsx(e.a,{className:"autolink-headings",href:"#含义",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"含义"]}),`
`,n.jsx(e.p,{children:"从目标 commit 和当前 commit （即 HEAD 所指向的 commit）分叉的位置起，把目标 commit 的路径上的所有 commit 的内容一并应用到当前 commit，然后自动生成一个新的 commit"}),`
`,n.jsxs(e.h2,{id:"冲突",children:[n.jsx(e.a,{className:"autolink-headings",href:"#冲突",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"冲突"]}),`
`,n.jsx(e.p,{children:"自动合并能力："}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"不同文件，A 文件，B 文件"}),`
`,n.jsx(e.li,{children:"同一文件不同行，第 1 行，第 2 行"}),`
`]})]})}function Qd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(pa,{...l})}):pa(l)}const tf=()=>sf,rf=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:tf,GetToc:lf,default:Qd},Symbol.toStringTag,{value:"Module"})),of=()=>[],af=void 0;function ua(l){const e={a:"a",h1:"h1",li:"li",p:"p",span:"span",ul:"ul",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"feature-branch",children:[n.jsx(e.a,{className:"autolink-headings",href:"#feature-branch",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"feature branch"]}),`
`,n.jsx(e.p,{children:"最流行的工作流"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"任何新的功能（feature）或 bug 修复全都新建一个 branch 来写"}),`
`,n.jsx(e.li,{children:"branch 写完后，合并到 master，然后删掉这个 branch"}),`
`]}),`
`,n.jsx(e.p,{children:"会不听的分支合并分支合并，如果不想分支留着可以用 rebase"}),`
`,n.jsx(e.p,{children:"PR 默认也是这种模式，当然也可以选择 rebase 等模式"})]})}function Kd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(ua,{...l})}):ua(l)}const cf=()=>af,df=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:cf,GetToc:of,default:Kd},Symbol.toStringTag,{value:"Module"})),hf=()=>[{id:"rebase--i",text:"rebase -i",depth:2}],pf=void 0;function xa(l){const e={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"rebase",children:[n.jsx(e.a,{className:"autolink-headings",href:"#rebase",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"rebase"]}),`
`,n.jsx(e.p,{children:"！禁止从 master 向其他 branch 执行 rebase"}),`
`,n.jsx(e.p,{children:"将分支 fix 的新 commit 都放在主分支 master 的最新 commit 后面"}),`
`,n.jsx(e.p,{children:"应该在分支 fix 没有 push 到远程仓库时使用较好，如果已经 push 见以下情况："}),`
`,n.jsx(e.p,{children:"分支 master 分支 fix 都进行了新的开发并 push"}),`
`,n.jsx(e.p,{children:"分支 master 有了新 commit-m"}),`
`,n.jsx(e.p,{children:"分支 fix 也有了新 commit-f"}),`
`,n.jsxs(e.p,{children:["在分支 fix",n.jsx(e.code,{children:"git rebase master"}),"会重新 提取 commit-f 并变基到当前 maser，会处于更改后未 push 的状态"]}),`
`,n.jsx(e.p,{children:"此时 fix 在 master 的最新 commit-m 处，origin/fix 在 fix 最新 commit-f 处"}),`
`,n.jsxs(e.p,{children:["然后",n.jsx(e.code,{children:"git checkout master"})," ",n.jsx(e.code,{children:"git merge fix"}),"可以完成 master 的 rebase 更新，通过 merge 的 fast-forward 情况"]}),`
`,n.jsxs(e.p,{children:["但是如果 ",n.jsx(e.code,{children:"git checkout fix"})," 再 ",n.jsx(e.code,{children:"git push"})," 会发现有两次 commit-f 提交并产生了 merge"]}),`
`,n.jsx(e.p,{children:"因为 fix 和 origin/fix 存在冲突，fix 领先于 origin/fix，领先的就是变基操作复制的 commit-f"}),`
`,n.jsx(e.p,{children:"因为 rebase 提取的 commit 的 hash 和之前的 commit 不同，而且对同一个文件进行了更新，所以需要 merge"}),`
`,n.jsxs(e.p,{children:["解决方案是对 fix 直接",n.jsx(e.code,{children:"git push -f"}),"覆盖 fix 分支"]}),`
`,n.jsx(e.p,{children:"由于是个人分支 fix 所以 -f 影响不大"}),`
`,n.jsx(e.p,{children:"但是尽量避免这种操作，仅在分支不需要继续开发或者未 push 时进行 rebase"}),`
`,n.jsxs(e.h2,{id:"rebase--i",children:[n.jsx(e.a,{className:"autolink-headings",href:"#rebase--i",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"rebase -i"]}),`
`,n.jsx(e.p,{children:"常用于整理与合并 commit"}),`
`,n.jsx(e.p,{children:`比如需要合并三个 commit 为一个，合并 432
commit-1
commit-2
commit-3
commit-4`}),`
`,n.jsxs(e.p,{children:["则",n.jsx(e.code,{children:"git rebase -i commit-1"}),`
对 commit-4、commit-3、commit-2 进行处理
pick 为保留，squash 为合并入前一个 commit`]}),`
`,n.jsx(e.p,{children:"同时可以调整顺序"}),`
`,n.jsx(e.p,{children:`pick commit-1
pick commit-2
pick commit-4
s commit-3`}),`
`,n.jsxs(e.p,{children:["合并后因为本地与远程记录不同，提交同样需要",n.jsx(e.code,{children:"git push -f"})]})]})}function qd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(xa,{...l})}):xa(l)}const uf=()=>pf,xf=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:uf,GetToc:hf,default:qd},Symbol.toStringTag,{value:"Module"})),jf=()=>[],yf=void 0;function ja(l){const e={a:"a",code:"code",h1:"h1",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"revert",children:[n.jsx(e.a,{className:"autolink-headings",href:"#revert",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"revert"]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"git revert HEAD^"}),`
会增加一条新的 commit，它的内容和倒数第二个 commit 是相反的，从而和倒数第二个 commit 相互抵消，达到撤销的效果`]})]})}function Yd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(ja,{...l})}):ja(l)}const ff=()=>yf,mf=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:ff,GetToc:jf,default:Yd},Symbol.toStringTag,{value:"Module"})),Ef=()=>[],gf=void 0;function ya(l){const e={a:"a",h1:"h1",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"参考",children:[n.jsx(e.a,{className:"autolink-headings",href:"#参考",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"参考"]}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://juejin.cn/book/6844733697996881928?enter_from=search_result&utm_source=search",children:"小册"})})]})}function Jd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(ya,{...l})}):ya(l)}const Cf=()=>gf,vf=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:Cf,GetToc:Ef,default:Jd},Symbol.toStringTag,{value:"Module"})),Af=()=>[{id:"reset-的本质移动-head-以及它所指向的-branch",text:"reset 的本质：移动 HEAD 以及它所指向的 branch",depth:2},{id:"reset---hard重置工作目录与-add-暂存区",text:"reset --hard：重置工作目录与 add 暂存区",depth:2},{id:"reset---soft保留工作目录与-add-暂存区",text:"reset --soft：保留工作目录与 add 暂存区",depth:2},{id:"reset-不加参数保留工作目录并清空-add-暂存区",text:"reset 不加参数：保留工作目录，并清空 add 暂存区",depth:2}],Df=void 0;function fa(l){const e={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",span:"span",...l.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{id:"reset",children:[n.jsx(e.a,{className:"autolink-headings",href:"#reset",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"reset"]}),`
`,n.jsxs(e.h2,{id:"reset-的本质移动-head-以及它所指向的-branch",children:[n.jsx(e.a,{className:"autolink-headings",href:"#reset-的本质移动-head-以及它所指向的-branch",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"reset 的本质：移动 HEAD 以及它所指向的 branch"]}),`
`,n.jsx(e.p,{children:"实质行为并不是撤销，而是移动 HEAD ，并且「捎带」上 HEAD 所指向的 branch（如果有的话）"}),`
`,n.jsx(e.p,{children:"所以同理，reset --hard 不仅可以撤销提交，还可以用来把 HEAD 和 branch 移动到其他的任何地方"}),`
`,n.jsx(e.p,{children:n.jsx(e.code,{children:"git reset --hard branch2"})}),`
`,n.jsx(e.p,{children:"直接让 branch1 值与 branch2 相同"}),`
`,n.jsxs(e.h2,{id:"reset---hard重置工作目录与-add-暂存区",children:[n.jsx(e.a,{className:"autolink-headings",href:"#reset---hard重置工作目录与-add-暂存区",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"reset --hard：重置工作目录与 add 暂存区"]}),`
`,n.jsx(e.p,{children:"工作目录里的内容会被完全重置为和 HEAD 的新位置相同的内容。"}),`
`,n.jsx(e.p,{children:"就是你的未 commit 提交的修改会被全部丢弃，但是不影响已经 commit 的内容"}),`
`,n.jsxs(e.h2,{id:"reset---soft保留工作目录与-add-暂存区",children:[n.jsx(e.a,{className:"autolink-headings",href:"#reset---soft保留工作目录与-add-暂存区",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"reset --soft：保留工作目录与 add 暂存区"]}),`
`,n.jsx(e.p,{children:"reset --soft 会在重置 HEAD 和 branch 时，保留工作目录和暂存区中的内容，并把重置 HEAD 所带来的新的差异放进暂存区"}),`
`,n.jsx(e.p,{children:"就是会自动 add 不同的文件并保留之前的 add"}),`
`,n.jsxs(e.h2,{id:"reset-不加参数保留工作目录并清空-add-暂存区",children:[n.jsx(e.a,{className:"autolink-headings",href:"#reset-不加参数保留工作目录并清空-add-暂存区",children:n.jsx(e.span,{style:{marginRight:"4px"},children:"#"})}),"reset 不加参数：保留工作目录，并清空 add 暂存区"]}),`
`,n.jsx(e.p,{children:"默认使用 --mixed 参数"}),`
`,n.jsx(e.p,{children:"保留工作目录，并且清空暂存区。也就是说，工作目录的修改、暂存区的内容以及由 reset 所导致的新的文件差异，都会被放进工作目录"}),`
`,n.jsx(e.p,{children:"就是撤销 add"})]})}function Zd(l={}){const{wrapper:e}=l.components||{};return e?n.jsx(e,{...l,children:n.jsx(fa,{...l})}):fa(l)}const _f=()=>Df,kf=Object.freeze(Object.defineProperty({__proto__:null,GetFrontMatter:_f,GetToc:Af,default:Zd},Symbol.toStringTag,{value:"Module"})),cr=[{path:"/",element:k.createElement(Hc),preload:()=>w(()=>Promise.resolve().then(()=>Wu),void 0)},{path:"/%E7%AC%94%E8%AE%B0/0%E4%BB%8B%E7%BB%8D/intro",element:k.createElement(Xc),preload:()=>w(()=>Promise.resolve().then(()=>Yu),void 0)},{path:"/%E7%AC%94%E8%AE%B0/3http/99readme",element:k.createElement(Wc),preload:()=>w(()=>Promise.resolve().then(()=>nx),void 0)},{path:"/%E7%AC%94%E8%AE%B0/4javascript/1%E5%BC%95%E7%94%A8",element:k.createElement(Qc),preload:()=>w(()=>Promise.resolve().then(()=>rx),void 0)},{path:"/%E7%AC%94%E8%AE%B0/4javascript/2%E8%BF%90%E7%AE%97%E7%AC%A6",element:k.createElement(Kc),preload:()=>w(()=>Promise.resolve().then(()=>cx),void 0)},{path:"/%E7%AC%94%E8%AE%B0/4javascript/3lodash%E6%89%8B%E5%86%99",element:k.createElement(qc),preload:()=>w(()=>Promise.resolve().then(()=>ux),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/10module%E4%B8%8Echunk%E4%B8%8Easset",element:k.createElement(Yc),preload:()=>w(()=>Promise.resolve().then(()=>fx),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/11bundle%20spliting",element:k.createElement(Jc),preload:()=>w(()=>Promise.resolve().then(()=>Cx),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/12%E9%AB%98%E6%95%88%E5%88%86%E5%8C%85",element:k.createElement(Zc),preload:()=>w(()=>Promise.resolve().then(()=>_x),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/13loader%E5%88%9D%E8%AF%86",element:k.createElement(ed),preload:()=>w(()=>Promise.resolve().then(()=>Sx),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/14json%E5%A4%84%E7%90%86",element:k.createElement(nd),preload:()=>w(()=>Promise.resolve().then(()=>Rx),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/15import%20assertions",element:k.createElement(ld),preload:()=>w(()=>Promise.resolve().then(()=>$x),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/16html%E5%A4%84%E7%90%86",element:k.createElement(sd),preload:()=>w(()=>Promise.resolve().then(()=>Gx),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/17%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86",element:k.createElement(td),preload:()=>w(()=>Promise.resolve().then(()=>Hx),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/18%E5%B0%8F%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86",element:k.createElement(rd),preload:()=>w(()=>Promise.resolve().then(()=>Kx),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/19svg%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86",element:k.createElement(od),preload:()=>w(()=>Promise.resolve().then(()=>Zx),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/1%E4%BD%BF%E7%94%A8%20node%20api%20%E5%AD%A6%E4%B9%A0%20webpack",element:k.createElement(id),preload:()=>w(()=>Promise.resolve().then(()=>sj),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/20%E7%AE%80%E5%8D%95%E6%A0%B7%E5%BC%8F%E5%A4%84%E7%90%86",element:k.createElement(ad),preload:()=>w(()=>Promise.resolve().then(()=>ij),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/2cjs%E8%BF%90%E8%A1%8C%E6%97%B6%E5%88%86%E6%9E%90",element:k.createElement(cd),preload:()=>w(()=>Promise.resolve().then(()=>hj),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/3cjs%E6%A8%A1%E5%9D%97%E6%94%B6%E9%9B%86%E4%B8%8East",element:k.createElement(dd),preload:()=>w(()=>Promise.resolve().then(()=>jj),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/4%E6%96%87%E4%BB%B6%E5%90%8D%E4%B8%AD%E7%9A%84hash",element:k.createElement(hd),preload:()=>w(()=>Promise.resolve().then(()=>Ej),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/5cjs%E4%B8%8Eesm",element:k.createElement(pd),preload:()=>w(()=>Promise.resolve().then(()=>Aj),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/6esm%20to%20cjs",element:k.createElement(ud),preload:()=>w(()=>Promise.resolve().then(()=>Fj),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/7code%20spliting%E8%BF%90%E8%A1%8C%E6%97%B6%E5%88%86%E6%9E%90",element:k.createElement(xd),preload:()=>w(()=>Promise.resolve().then(()=>Pj),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/8magic%20comment",element:k.createElement(jd),preload:()=>w(()=>Promise.resolve().then(()=>Bj),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/99readme",element:k.createElement(yd),preload:()=>w(()=>Promise.resolve().then(()=>Ij),void 0)},{path:"/%E7%AC%94%E8%AE%B0/5webpack/9hash%20%E7%9A%84%E5%A2%9E%E5%BC%BA",element:k.createElement(fd),preload:()=>w(()=>Promise.resolve().then(()=>Uj),void 0)},{path:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/13%E5%86%85%E5%AD%98",element:k.createElement(md),preload:()=>w(()=>Promise.resolve().then(()=>Wj),void 0)},{path:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/16%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E5%92%8C%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF",element:k.createElement(Ed),preload:()=>w(()=>Promise.resolve().then(()=>Yj),void 0)},{path:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/1%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BF%9B%E7%A8%8B",element:k.createElement(gd),preload:()=>w(()=>Promise.resolve().then(()=>n2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/2TCP%E5%8D%8F%E8%AE%AE",element:k.createElement(Cd),preload:()=>w(()=>Promise.resolve().then(()=>r2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/3HTTP%E5%8D%8F%E8%AE%AE",element:k.createElement(vd),preload:()=>w(()=>Promise.resolve().then(()=>c2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/4%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98",element:k.createElement(Ad),preload:()=>w(()=>Promise.resolve().then(()=>u2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/5%E5%AF%BC%E8%88%AA%E6%B5%81%E7%A8%8B",element:k.createElement(Dd),preload:()=>w(()=>Promise.resolve().then(()=>f2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/6%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B",element:k.createElement(_d),preload:()=>w(()=>Promise.resolve().then(()=>C2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/98%20%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84dns%E7%BC%93%E5%AD%98",element:k.createElement(kd),preload:()=>w(()=>Promise.resolve().then(()=>_2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/2%E6%B5%8F%E8%A7%88%E5%99%A8/99readme",element:k.createElement(Fd),preload:()=>w(()=>Promise.resolve().then(()=>S2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/6ahooks/1useLocalStorageState%E4%B8%8EuseSessionStorageState",element:k.createElement(wd),preload:()=>w(()=>Promise.resolve().then(()=>R2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/6ahooks/2useUpdateEffect%20%E4%B8%8E%20useUpdateLayoutEffectt",element:k.createElement(Sd),preload:()=>w(()=>Promise.resolve().then(()=>$2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/6ahooks/3useLatest%E4%B8%8EuseMemoizedFn",element:k.createElement(Td),preload:()=>w(()=>Promise.resolve().then(()=>G2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/6ahooks/4use(Raf)Timeout%E4%B8%8Euse(Raf)Interval%E4%B8%8EuseCountDown",element:k.createElement(Pd),preload:()=>w(()=>Promise.resolve().then(()=>H2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/6ahooks/5useRequest",element:k.createElement(Md),preload:()=>w(()=>Promise.resolve().then(()=>K2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/6ahooks/6useMount%E4%B8%8EuseUnMount%E4%B8%8EuseMountedRefx.md",element:k.createElement(Rd),preload:()=>w(()=>Promise.resolve().then(()=>Z2),void 0)},{path:"/%E7%AC%94%E8%AE%B0/6ahooks/7useUpdate",element:k.createElement(Nd),preload:()=>w(()=>Promise.resolve().then(()=>sy),void 0)},{path:"/%E7%AC%94%E8%AE%B0/6ahooks/8useCreation",element:k.createElement(Bd),preload:()=>w(()=>Promise.resolve().then(()=>iy),void 0)},{path:"/%E7%AC%94%E8%AE%B0/6ahooks/97useAnimationFrame%E5%92%8C%E8%AE%A1%E6%97%B6%E5%99%A8",element:k.createElement(Ld),preload:()=>w(()=>Promise.resolve().then(()=>hy),void 0)},{path:"/%E7%AC%94%E8%AE%B0/6ahooks/98.%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0",element:k.createElement($d),preload:()=>w(()=>Promise.resolve().then(()=>jy),void 0)},{path:"/%E7%AC%94%E8%AE%B0/6ahooks/9useDeepCompareEffect",element:k.createElement(Od),preload:()=>w(()=>Promise.resolve().then(()=>Ey),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/0%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4",element:k.createElement(Id),preload:()=>w(()=>Promise.resolve().then(()=>Ay),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/10checkout",element:k.createElement(zd),preload:()=>w(()=>Promise.resolve().then(()=>Fy),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/11stash",element:k.createElement(Gd),preload:()=>w(()=>Promise.resolve().then(()=>Py),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/12log%E4%B8%8Ereflog",element:k.createElement(bd),preload:()=>w(()=>Promise.resolve().then(()=>By),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/13cherry-pick",element:k.createElement(Ud),preload:()=>w(()=>Promise.resolve().then(()=>Iy),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/1%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9FVCS",element:k.createElement(Vd),preload:()=>w(()=>Promise.resolve().then(()=>Uy),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/2%E5%88%86%E5%B8%83%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9FDVCS",element:k.createElement(Hd),preload:()=>w(()=>Promise.resolve().then(()=>Wy),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/3HEAD%E4%B8%8Emaster%E4%B8%8Ebranch",element:k.createElement(Xd),preload:()=>w(()=>Promise.resolve().then(()=>Yy),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/4push",element:k.createElement(Wd),preload:()=>w(()=>Promise.resolve().then(()=>nf),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/5merge",element:k.createElement(Qd),preload:()=>w(()=>Promise.resolve().then(()=>rf),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/6feature%20branch",element:k.createElement(Kd),preload:()=>w(()=>Promise.resolve().then(()=>df),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/7rebase",element:k.createElement(qd),preload:()=>w(()=>Promise.resolve().then(()=>xf),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/8revert",element:k.createElement(Yd),preload:()=>w(()=>Promise.resolve().then(()=>mf),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/99readme",element:k.createElement(Jd),preload:()=>w(()=>Promise.resolve().then(()=>vf),void 0)},{path:"/%E7%AC%94%E8%AE%B0/1git/9reset",element:k.createElement(Zd),preload:()=>w(()=>Promise.resolve().then(()=>kf),void 0)}];async function eh(l){var s,t,r,o;const e=cr.find(i=>i.path===l);if(e){const i=await e.preload();return{pageType:((t=(s=i==null?void 0:i.GetFrontMatter)==null?void 0:s.call(i))==null?void 0:t.pageType)||"doc",pagePath:l,frontmatter:((r=i.GetFrontMatter)==null?void 0:r.call(i))??{},toc:((o=i.GetToc)==null?void 0:o.call(i))??[],userConfig:ii}}return{pageType:"404",pagePath:l,toc:[],userConfig:ii}}const nh=F.createContext({}),io=()=>F.useContext(nh);function Ff({children:l,value:e}){const[s,t]=F.useState(e.pageData);return F.useEffect(()=>{}),n.jsx(nh.Provider,{value:{pageData:s,setPageData:t},children:l})}const kn=56,ao="ZEROPRESS_DARK";function wf(){return typeof window<"u"&&!!window.document&&!!window.document.createElement}function Sf(l="/"){return encodeURI(l)}function Tf(){return{toggle:Nf}}wf()&&Pf();function Pf(){const l=()=>{localStorage.getItem(ao)==="true"&&document.documentElement.classList.add("dark")};window.addEventListener("storage",l)}function Mf(){document.documentElement.classList.add("dark"),localStorage.setItem(ao,"true")}function Rf(){document.documentElement.classList.remove("dark"),localStorage.setItem(ao,"false")}function Nf(){document.documentElement.classList.contains("dark")?Rf():Mf()}function Bf(){const[l,e]=F.useState(),[s,t]=F.useState();return F.useEffect(()=>{const r=()=>{e(window.scrollX),t(window.scrollY)};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[]),{x:l,y:s}}var lh={exports:{}},Ae={},sh={exports:{}},th={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(l){function e(_,M){var R=_.length;_.push(M);e:for(;0<R;){var W=R-1>>>1,J=_[W];if(0<r(J,M))_[W]=M,_[R]=J,R=W;else break e}}function s(_){return _.length===0?null:_[0]}function t(_){if(_.length===0)return null;var M=_[0],R=_.pop();if(R!==M){_[0]=R;e:for(var W=0,J=_.length,ps=J>>>1;W<ps;){var vn=2*(W+1)-1,Bt=_[vn],An=vn+1,us=_[An];if(0>r(Bt,R))An<J&&0>r(us,Bt)?(_[W]=us,_[An]=R,W=An):(_[W]=Bt,_[vn]=R,W=vn);else if(An<J&&0>r(us,R))_[W]=us,_[An]=R,W=An;else break e}}return M}function r(_,M){var R=_.sortIndex-M.sortIndex;return R!==0?R:_.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;l.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();l.unstable_now=function(){return i.now()-a}}var c=[],d=[],j=1,x=null,y=3,E=!1,g=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function u(_){for(var M=s(d);M!==null;){if(M.callback===null)t(d);else if(M.startTime<=_)t(d),M.sortIndex=M.expirationTime,e(c,M);else break;M=s(d)}}function f(_){if(C=!1,u(_),!g)if(s(c)!==null)g=!0,Rt(v);else{var M=s(d);M!==null&&Nt(f,M.startTime-_)}}function v(_,M){g=!1,C&&(C=!1,p(P),P=-1),E=!0;var R=y;try{for(u(M),x=s(c);x!==null&&(!(x.expirationTime>M)||_&&!Pe());){var W=x.callback;if(typeof W=="function"){x.callback=null,y=x.priorityLevel;var J=W(x.expirationTime<=M);M=l.unstable_now(),typeof J=="function"?x.callback=J:x===s(c)&&t(c),u(M)}else t(c);x=s(c)}if(x!==null)var ps=!0;else{var vn=s(d);vn!==null&&Nt(f,vn.startTime-M),ps=!1}return ps}finally{x=null,y=R,E=!1}}var S=!1,T=null,P=-1,X=5,B=-1;function Pe(){return!(l.unstable_now()-B<X)}function ml(){if(T!==null){var _=l.unstable_now();B=_;var M=!0;try{M=T(!0,_)}finally{M?El():(S=!1,T=null)}}else S=!1}var El;if(typeof h=="function")El=function(){h(ml)};else if(typeof MessageChannel<"u"){var si=new MessageChannel,mu=si.port2;si.port1.onmessage=ml,El=function(){mu.postMessage(null)}}else El=function(){D(ml,0)};function Rt(_){T=_,S||(S=!0,El())}function Nt(_,M){P=D(function(){_(l.unstable_now())},M)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(_){_.callback=null},l.unstable_continueExecution=function(){g||E||(g=!0,Rt(v))},l.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<_?Math.floor(1e3/_):5},l.unstable_getCurrentPriorityLevel=function(){return y},l.unstable_getFirstCallbackNode=function(){return s(c)},l.unstable_next=function(_){switch(y){case 1:case 2:case 3:var M=3;break;default:M=y}var R=y;y=M;try{return _()}finally{y=R}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(_,M){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var R=y;y=_;try{return M()}finally{y=R}},l.unstable_scheduleCallback=function(_,M,R){var W=l.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?W+R:W):R=W,_){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=R+J,_={id:j++,callback:M,priorityLevel:_,startTime:R,expirationTime:J,sortIndex:-1},R>W?(_.sortIndex=R,e(d,_),s(c)===null&&_===s(d)&&(C?(p(P),P=-1):C=!0,Nt(f,R-W))):(_.sortIndex=J,e(c,_),g||E||(g=!0,Rt(v))),_},l.unstable_shouldYield=Pe,l.unstable_wrapCallback=function(_){var M=y;return function(){var R=y;y=M;try{return _.apply(this,arguments)}finally{y=R}}}})(th);sh.exports=th;var Lf=sh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh=F,ve=Lf;function m(l){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+l,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+l+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oh=new Set,Gl={};function On(l,e){rl(l,e),rl(l+"Capture",e)}function rl(l,e){for(Gl[l]=e,l=0;l<e.length;l++)oh.add(e[l])}var Ke=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=Object.prototype.hasOwnProperty,$f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ma={},Ea={};function Of(l){return dr.call(Ea,l)?!0:dr.call(ma,l)?!1:$f.test(l)?Ea[l]=!0:(ma[l]=!0,!1)}function If(l,e,s,t){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return t?!1:s!==null?!s.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function zf(l,e,s,t){if(e===null||typeof e>"u"||If(l,e,s,t))return!0;if(t)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pe(l,e,s,t,r,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=t,this.attributeNamespace=r,this.mustUseProperty=s,this.propertyName=l,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){se[l]=new pe(l,0,!1,l,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var e=l[0];se[e]=new pe(e,1,!1,l[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(l){se[l]=new pe(l,2,!1,l.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){se[l]=new pe(l,2,!1,l,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){se[l]=new pe(l,3,!1,l.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(l){se[l]=new pe(l,3,!0,l,null,!1,!1)});["capture","download"].forEach(function(l){se[l]=new pe(l,4,!1,l,null,!1,!1)});["cols","rows","size","span"].forEach(function(l){se[l]=new pe(l,6,!1,l,null,!1,!1)});["rowSpan","start"].forEach(function(l){se[l]=new pe(l,5,!1,l.toLowerCase(),null,!1,!1)});var co=/[\-:]([a-z])/g;function ho(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var e=l.replace(co,ho);se[e]=new pe(e,1,!1,l,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var e=l.replace(co,ho);se[e]=new pe(e,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(l){var e=l.replace(co,ho);se[e]=new pe(e,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(l){se[l]=new pe(l,1,!1,l.toLowerCase(),null,!1,!1)});se.xlinkHref=new pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(l){se[l]=new pe(l,1,!1,l.toLowerCase(),null,!0,!0)});function po(l,e,s,t){var r=se.hasOwnProperty(e)?se[e]:null;(r!==null?r.type!==0:t||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zf(e,s,r,t)&&(s=null),t||r===null?Of(e)&&(s===null?l.removeAttribute(e):l.setAttribute(e,""+s)):r.mustUseProperty?l[r.propertyName]=s===null?r.type===3?!1:"":s:(e=r.attributeName,t=r.attributeNamespace,s===null?l.removeAttribute(e):(r=r.type,s=r===3||r===4&&s===!0?"":""+s,t?l.setAttributeNS(t,e,s):l.setAttribute(e,s))))}var Ze=rh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,js=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),bn=Symbol.for("react.fragment"),uo=Symbol.for("react.strict_mode"),hr=Symbol.for("react.profiler"),ih=Symbol.for("react.provider"),ah=Symbol.for("react.context"),xo=Symbol.for("react.forward_ref"),pr=Symbol.for("react.suspense"),ur=Symbol.for("react.suspense_list"),jo=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),ch=Symbol.for("react.offscreen"),ga=Symbol.iterator;function gl(l){return l===null||typeof l!="object"?null:(l=ga&&l[ga]||l["@@iterator"],typeof l=="function"?l:null)}var V=Object.assign,$t;function wl(l){if($t===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);$t=e&&e[1]||""}return`
`+$t+l}var Ot=!1;function It(l,e){if(!l||Ot)return"";Ot=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var t=d}Reflect.construct(l,[],e)}else{try{e.call()}catch(d){t=d}l.call(e.prototype)}else{try{throw Error()}catch(d){t=d}l()}}catch(d){if(d&&t&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),o=t.stack.split(`
`),i=r.length-1,a=o.length-1;1<=i&&0<=a&&r[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(r[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||r[i]!==o[a]){var c=`
`+r[i].replace(" at new "," at ");return l.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",l.displayName)),c}while(1<=i&&0<=a);break}}}finally{Ot=!1,Error.prepareStackTrace=s}return(l=l?l.displayName||l.name:"")?wl(l):""}function Gf(l){switch(l.tag){case 5:return wl(l.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return l=It(l.type,!1),l;case 11:return l=It(l.type.render,!1),l;case 1:return l=It(l.type,!0),l;default:return""}}function xr(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case bn:return"Fragment";case Gn:return"Portal";case hr:return"Profiler";case uo:return"StrictMode";case pr:return"Suspense";case ur:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case ah:return(l.displayName||"Context")+".Consumer";case ih:return(l._context.displayName||"Context")+".Provider";case xo:var e=l.render;return l=l.displayName,l||(l=e.displayName||e.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case jo:return e=l.displayName||null,e!==null?e:xr(l.type)||"Memo";case nn:e=l._payload,l=l._init;try{return xr(l(e))}catch{}}return null}function bf(l){var e=l.type;switch(l.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=e.render,l=l.displayName||l.name||"",e.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xr(e);case 8:return e===uo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fn(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function dh(l){var e=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Uf(l){var e=dh(l)?"checked":"value",s=Object.getOwnPropertyDescriptor(l.constructor.prototype,e),t=""+l[e];if(!l.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,o=s.set;return Object.defineProperty(l,e,{configurable:!0,get:function(){return r.call(this)},set:function(i){t=""+i,o.call(this,i)}}),Object.defineProperty(l,e,{enumerable:s.enumerable}),{getValue:function(){return t},setValue:function(i){t=""+i},stopTracking:function(){l._valueTracker=null,delete l[e]}}}}function ys(l){l._valueTracker||(l._valueTracker=Uf(l))}function hh(l){if(!l)return!1;var e=l._valueTracker;if(!e)return!0;var s=e.getValue(),t="";return l&&(t=dh(l)?l.checked?"true":"false":l.value),l=t,l!==s?(e.setValue(l),!0):!1}function Us(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function jr(l,e){var s=e.checked;return V({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??l._wrapperState.initialChecked})}function Ca(l,e){var s=e.defaultValue==null?"":e.defaultValue,t=e.checked!=null?e.checked:e.defaultChecked;s=fn(e.value!=null?e.value:s),l._wrapperState={initialChecked:t,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ph(l,e){e=e.checked,e!=null&&po(l,"checked",e,!1)}function yr(l,e){ph(l,e);var s=fn(e.value),t=e.type;if(s!=null)t==="number"?(s===0&&l.value===""||l.value!=s)&&(l.value=""+s):l.value!==""+s&&(l.value=""+s);else if(t==="submit"||t==="reset"){l.removeAttribute("value");return}e.hasOwnProperty("value")?fr(l,e.type,s):e.hasOwnProperty("defaultValue")&&fr(l,e.type,fn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(l.defaultChecked=!!e.defaultChecked)}function va(l,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var t=e.type;if(!(t!=="submit"&&t!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+l._wrapperState.initialValue,s||e===l.value||(l.value=e),l.defaultValue=e}s=l.name,s!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,s!==""&&(l.name=s)}function fr(l,e,s){(e!=="number"||Us(l.ownerDocument)!==l)&&(s==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+s&&(l.defaultValue=""+s))}var Sl=Array.isArray;function Zn(l,e,s,t){if(l=l.options,e){e={};for(var r=0;r<s.length;r++)e["$"+s[r]]=!0;for(s=0;s<l.length;s++)r=e.hasOwnProperty("$"+l[s].value),l[s].selected!==r&&(l[s].selected=r),r&&t&&(l[s].defaultSelected=!0)}else{for(s=""+fn(s),e=null,r=0;r<l.length;r++){if(l[r].value===s){l[r].selected=!0,t&&(l[r].defaultSelected=!0);return}e!==null||l[r].disabled||(e=l[r])}e!==null&&(e.selected=!0)}}function mr(l,e){if(e.dangerouslySetInnerHTML!=null)throw Error(m(91));return V({},e,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Aa(l,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(m(92));if(Sl(s)){if(1<s.length)throw Error(m(93));s=s[0]}e=s}e==null&&(e=""),s=e}l._wrapperState={initialValue:fn(s)}}function uh(l,e){var s=fn(e.value),t=fn(e.defaultValue);s!=null&&(s=""+s,s!==l.value&&(l.value=s),e.defaultValue==null&&l.defaultValue!==s&&(l.defaultValue=s)),t!=null&&(l.defaultValue=""+t)}function Da(l){var e=l.textContent;e===l._wrapperState.initialValue&&e!==""&&e!==null&&(l.value=e)}function xh(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Er(l,e){return l==null||l==="http://www.w3.org/1999/xhtml"?xh(e):l==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var fs,jh=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,t,r){MSApp.execUnsafeLocalFunction(function(){return l(e,s,t,r)})}:l}(function(l,e){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=e;else{for(fs=fs||document.createElement("div"),fs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fs.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;e.firstChild;)l.appendChild(e.firstChild)}});function bl(l,e){if(e){var s=l.firstChild;if(s&&s===l.lastChild&&s.nodeType===3){s.nodeValue=e;return}}l.textContent=e}var Ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vf=["Webkit","ms","Moz","O"];Object.keys(Ml).forEach(function(l){Vf.forEach(function(e){e=e+l.charAt(0).toUpperCase()+l.substring(1),Ml[e]=Ml[l]})});function yh(l,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||Ml.hasOwnProperty(l)&&Ml[l]?(""+e).trim():e+"px"}function fh(l,e){l=l.style;for(var s in e)if(e.hasOwnProperty(s)){var t=s.indexOf("--")===0,r=yh(s,e[s],t);s==="float"&&(s="cssFloat"),t?l.setProperty(s,r):l[s]=r}}var Hf=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gr(l,e){if(e){if(Hf[l]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(m(137,l));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(m(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(m(61))}if(e.style!=null&&typeof e.style!="object")throw Error(m(62))}}function Cr(l,e){if(l.indexOf("-")===-1)return typeof e.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vr=null;function yo(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ar=null,el=null,nl=null;function _a(l){if(l=cs(l)){if(typeof Ar!="function")throw Error(m(280));var e=l.stateNode;e&&(e=Et(e),Ar(l.stateNode,l.type,e))}}function mh(l){el?nl?nl.push(l):nl=[l]:el=l}function Eh(){if(el){var l=el,e=nl;if(nl=el=null,_a(l),e)for(l=0;l<e.length;l++)_a(e[l])}}function gh(l,e){return l(e)}function Ch(){}var zt=!1;function vh(l,e,s){if(zt)return l(e,s);zt=!0;try{return gh(l,e,s)}finally{zt=!1,(el!==null||nl!==null)&&(Ch(),Eh())}}function Ul(l,e){var s=l.stateNode;if(s===null)return null;var t=Et(s);if(t===null)return null;s=t[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(t=!t.disabled)||(l=l.type,t=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!t;break e;default:l=!1}if(l)return null;if(s&&typeof s!="function")throw Error(m(231,e,typeof s));return s}var Dr=!1;if(Ke)try{var Cl={};Object.defineProperty(Cl,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{Dr=!1}function Xf(l,e,s,t,r,o,i,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(s,d)}catch(j){this.onError(j)}}var Rl=!1,Vs=null,Hs=!1,_r=null,Wf={onError:function(l){Rl=!0,Vs=l}};function Qf(l,e,s,t,r,o,i,a,c){Rl=!1,Vs=null,Xf.apply(Wf,arguments)}function Kf(l,e,s,t,r,o,i,a,c){if(Qf.apply(this,arguments),Rl){if(Rl){var d=Vs;Rl=!1,Vs=null}else throw Error(m(198));Hs||(Hs=!0,_r=d)}}function In(l){var e=l,s=l;if(l.alternate)for(;e.return;)e=e.return;else{l=e;do e=l,e.flags&4098&&(s=e.return),l=e.return;while(l)}return e.tag===3?s:null}function Ah(l){if(l.tag===13){var e=l.memoizedState;if(e===null&&(l=l.alternate,l!==null&&(e=l.memoizedState)),e!==null)return e.dehydrated}return null}function ka(l){if(In(l)!==l)throw Error(m(188))}function qf(l){var e=l.alternate;if(!e){if(e=In(l),e===null)throw Error(m(188));return e!==l?null:l}for(var s=l,t=e;;){var r=s.return;if(r===null)break;var o=r.alternate;if(o===null){if(t=r.return,t!==null){s=t;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===s)return ka(r),l;if(o===t)return ka(r),e;o=o.sibling}throw Error(m(188))}if(s.return!==t.return)s=r,t=o;else{for(var i=!1,a=r.child;a;){if(a===s){i=!0,s=r,t=o;break}if(a===t){i=!0,t=r,s=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===s){i=!0,s=o,t=r;break}if(a===t){i=!0,t=o,s=r;break}a=a.sibling}if(!i)throw Error(m(189))}}if(s.alternate!==t)throw Error(m(190))}if(s.tag!==3)throw Error(m(188));return s.stateNode.current===s?l:e}function Dh(l){return l=qf(l),l!==null?_h(l):null}function _h(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var e=_h(l);if(e!==null)return e;l=l.sibling}return null}var kh=ve.unstable_scheduleCallback,Fa=ve.unstable_cancelCallback,Yf=ve.unstable_shouldYield,Jf=ve.unstable_requestPaint,Q=ve.unstable_now,Zf=ve.unstable_getCurrentPriorityLevel,fo=ve.unstable_ImmediatePriority,Fh=ve.unstable_UserBlockingPriority,Xs=ve.unstable_NormalPriority,em=ve.unstable_LowPriority,wh=ve.unstable_IdlePriority,jt=null,be=null;function nm(l){if(be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(jt,l,void 0,(l.current.flags&128)===128)}catch{}}var Le=Math.clz32?Math.clz32:tm,lm=Math.log,sm=Math.LN2;function tm(l){return l>>>=0,l===0?32:31-(lm(l)/sm|0)|0}var ms=64,Es=4194304;function Tl(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ws(l,e){var s=l.pendingLanes;if(s===0)return 0;var t=0,r=l.suspendedLanes,o=l.pingedLanes,i=s&268435455;if(i!==0){var a=i&~r;a!==0?t=Tl(a):(o&=i,o!==0&&(t=Tl(o)))}else i=s&~r,i!==0?t=Tl(i):o!==0&&(t=Tl(o));if(t===0)return 0;if(e!==0&&e!==t&&!(e&r)&&(r=t&-t,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(t&4&&(t|=s&16),e=l.entangledLanes,e!==0)for(l=l.entanglements,e&=t;0<e;)s=31-Le(e),r=1<<s,t|=l[s],e&=~r;return t}function rm(l,e){switch(l){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function om(l,e){for(var s=l.suspendedLanes,t=l.pingedLanes,r=l.expirationTimes,o=l.pendingLanes;0<o;){var i=31-Le(o),a=1<<i,c=r[i];c===-1?(!(a&s)||a&t)&&(r[i]=rm(a,e)):c<=e&&(l.expiredLanes|=a),o&=~a}}function kr(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Sh(){var l=ms;return ms<<=1,!(ms&4194240)&&(ms=64),l}function Gt(l){for(var e=[],s=0;31>s;s++)e.push(l);return e}function is(l,e,s){l.pendingLanes|=e,e!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,e=31-Le(e),l[e]=s}function im(l,e){var s=l.pendingLanes&~e;l.pendingLanes=e,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=e,l.mutableReadLanes&=e,l.entangledLanes&=e,e=l.entanglements;var t=l.eventTimes;for(l=l.expirationTimes;0<s;){var r=31-Le(s),o=1<<r;e[r]=0,t[r]=-1,l[r]=-1,s&=~o}}function mo(l,e){var s=l.entangledLanes|=e;for(l=l.entanglements;s;){var t=31-Le(s),r=1<<t;r&e|l[t]&e&&(l[t]|=e),s&=~r}}var $=0;function Th(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var Ph,Eo,Mh,Rh,Nh,Fr=!1,gs=[],cn=null,dn=null,hn=null,Vl=new Map,Hl=new Map,sn=[],am="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wa(l,e){switch(l){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(e.pointerId)}}function vl(l,e,s,t,r,o){return l===null||l.nativeEvent!==o?(l={blockedOn:e,domEventName:s,eventSystemFlags:t,nativeEvent:o,targetContainers:[r]},e!==null&&(e=cs(e),e!==null&&Eo(e)),l):(l.eventSystemFlags|=t,e=l.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),l)}function cm(l,e,s,t,r){switch(e){case"focusin":return cn=vl(cn,l,e,s,t,r),!0;case"dragenter":return dn=vl(dn,l,e,s,t,r),!0;case"mouseover":return hn=vl(hn,l,e,s,t,r),!0;case"pointerover":var o=r.pointerId;return Vl.set(o,vl(Vl.get(o)||null,l,e,s,t,r)),!0;case"gotpointercapture":return o=r.pointerId,Hl.set(o,vl(Hl.get(o)||null,l,e,s,t,r)),!0}return!1}function Bh(l){var e=Fn(l.target);if(e!==null){var s=In(e);if(s!==null){if(e=s.tag,e===13){if(e=Ah(s),e!==null){l.blockedOn=e,Nh(l.priority,function(){Mh(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){l.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Rs(l){if(l.blockedOn!==null)return!1;for(var e=l.targetContainers;0<e.length;){var s=wr(l.domEventName,l.eventSystemFlags,e[0],l.nativeEvent);if(s===null){s=l.nativeEvent;var t=new s.constructor(s.type,s);vr=t,s.target.dispatchEvent(t),vr=null}else return e=cs(s),e!==null&&Eo(e),l.blockedOn=s,!1;e.shift()}return!0}function Sa(l,e,s){Rs(l)&&s.delete(e)}function dm(){Fr=!1,cn!==null&&Rs(cn)&&(cn=null),dn!==null&&Rs(dn)&&(dn=null),hn!==null&&Rs(hn)&&(hn=null),Vl.forEach(Sa),Hl.forEach(Sa)}function Al(l,e){l.blockedOn===e&&(l.blockedOn=null,Fr||(Fr=!0,ve.unstable_scheduleCallback(ve.unstable_NormalPriority,dm)))}function Xl(l){function e(r){return Al(r,l)}if(0<gs.length){Al(gs[0],l);for(var s=1;s<gs.length;s++){var t=gs[s];t.blockedOn===l&&(t.blockedOn=null)}}for(cn!==null&&Al(cn,l),dn!==null&&Al(dn,l),hn!==null&&Al(hn,l),Vl.forEach(e),Hl.forEach(e),s=0;s<sn.length;s++)t=sn[s],t.blockedOn===l&&(t.blockedOn=null);for(;0<sn.length&&(s=sn[0],s.blockedOn===null);)Bh(s),s.blockedOn===null&&sn.shift()}var ll=Ze.ReactCurrentBatchConfig,Qs=!0;function hm(l,e,s,t){var r=$,o=ll.transition;ll.transition=null;try{$=1,go(l,e,s,t)}finally{$=r,ll.transition=o}}function pm(l,e,s,t){var r=$,o=ll.transition;ll.transition=null;try{$=4,go(l,e,s,t)}finally{$=r,ll.transition=o}}function go(l,e,s,t){if(Qs){var r=wr(l,e,s,t);if(r===null)Yt(l,e,t,Ks,s),wa(l,t);else if(cm(r,l,e,s,t))t.stopPropagation();else if(wa(l,t),e&4&&-1<am.indexOf(l)){for(;r!==null;){var o=cs(r);if(o!==null&&Ph(o),o=wr(l,e,s,t),o===null&&Yt(l,e,t,Ks,s),o===r)break;r=o}r!==null&&t.stopPropagation()}else Yt(l,e,t,null,s)}}var Ks=null;function wr(l,e,s,t){if(Ks=null,l=yo(t),l=Fn(l),l!==null)if(e=In(l),e===null)l=null;else if(s=e.tag,s===13){if(l=Ah(e),l!==null)return l;l=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;l=null}else e!==l&&(l=null);return Ks=l,null}function Lh(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zf()){case fo:return 1;case Fh:return 4;case Xs:case em:return 16;case wh:return 536870912;default:return 16}default:return 16}}var rn=null,Co=null,Ns=null;function $h(){if(Ns)return Ns;var l,e=Co,s=e.length,t,r="value"in rn?rn.value:rn.textContent,o=r.length;for(l=0;l<s&&e[l]===r[l];l++);var i=s-l;for(t=1;t<=i&&e[s-t]===r[o-t];t++);return Ns=r.slice(l,1<t?1-t:void 0)}function Bs(l){var e=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&e===13&&(l=13)):l=e,l===10&&(l=13),32<=l||l===13?l:0}function Cs(){return!0}function Ta(){return!1}function De(l){function e(s,t,r,o,i){this._reactName=s,this._targetInst=r,this.type=t,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in l)l.hasOwnProperty(a)&&(s=l[a],this[a]=s?s(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Cs:Ta,this.isPropagationStopped=Ta,this}return V(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),e}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=De(ul),as=V({},ul,{view:0,detail:0}),um=De(as),bt,Ut,Dl,yt=V({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Dl&&(Dl&&l.type==="mousemove"?(bt=l.screenX-Dl.screenX,Ut=l.screenY-Dl.screenY):Ut=bt=0,Dl=l),bt)},movementY:function(l){return"movementY"in l?l.movementY:Ut}}),Pa=De(yt),xm=V({},yt,{dataTransfer:0}),jm=De(xm),ym=V({},as,{relatedTarget:0}),Vt=De(ym),fm=V({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),mm=De(fm),Em=V({},ul,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),gm=De(Em),Cm=V({},ul,{data:0}),Ma=De(Cm),vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _m(l){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(l):(l=Dm[l])?!!e[l]:!1}function Ao(){return _m}var km=V({},as,{key:function(l){if(l.key){var e=vm[l.key]||l.key;if(e!=="Unidentified")return e}return l.type==="keypress"?(l=Bs(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Am[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(l){return l.type==="keypress"?Bs(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Bs(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Fm=De(km),wm=V({},yt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ra=De(wm),Sm=V({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),Tm=De(Sm),Pm=V({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mm=De(Pm),Rm=V({},yt,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Nm=De(Rm),Bm=[9,13,27,32],Do=Ke&&"CompositionEvent"in window,Nl=null;Ke&&"documentMode"in document&&(Nl=document.documentMode);var Lm=Ke&&"TextEvent"in window&&!Nl,Oh=Ke&&(!Do||Nl&&8<Nl&&11>=Nl),Na=" ",Ba=!1;function Ih(l,e){switch(l){case"keyup":return Bm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zh(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Un=!1;function $m(l,e){switch(l){case"compositionend":return zh(e);case"keypress":return e.which!==32?null:(Ba=!0,Na);case"textInput":return l=e.data,l===Na&&Ba?null:l;default:return null}}function Om(l,e){if(Un)return l==="compositionend"||!Do&&Ih(l,e)?(l=$h(),Ns=Co=rn=null,Un=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Oh&&e.locale!=="ko"?null:e.data;default:return null}}var Im={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function La(l){var e=l&&l.nodeName&&l.nodeName.toLowerCase();return e==="input"?!!Im[l.type]:e==="textarea"}function Gh(l,e,s,t){mh(t),e=qs(e,"onChange"),0<e.length&&(s=new vo("onChange","change",null,s,t),l.push({event:s,listeners:e}))}var Bl=null,Wl=null;function zm(l){Jh(l,0)}function ft(l){var e=Xn(l);if(hh(e))return l}function Gm(l,e){if(l==="change")return e}var bh=!1;if(Ke){var Ht;if(Ke){var Xt="oninput"in document;if(!Xt){var $a=document.createElement("div");$a.setAttribute("oninput","return;"),Xt=typeof $a.oninput=="function"}Ht=Xt}else Ht=!1;bh=Ht&&(!document.documentMode||9<document.documentMode)}function Oa(){Bl&&(Bl.detachEvent("onpropertychange",Uh),Wl=Bl=null)}function Uh(l){if(l.propertyName==="value"&&ft(Wl)){var e=[];Gh(e,Wl,l,yo(l)),vh(zm,e)}}function bm(l,e,s){l==="focusin"?(Oa(),Bl=e,Wl=s,Bl.attachEvent("onpropertychange",Uh)):l==="focusout"&&Oa()}function Um(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ft(Wl)}function Vm(l,e){if(l==="click")return ft(e)}function Hm(l,e){if(l==="input"||l==="change")return ft(e)}function Xm(l,e){return l===e&&(l!==0||1/l===1/e)||l!==l&&e!==e}var Oe=typeof Object.is=="function"?Object.is:Xm;function Ql(l,e){if(Oe(l,e))return!0;if(typeof l!="object"||l===null||typeof e!="object"||e===null)return!1;var s=Object.keys(l),t=Object.keys(e);if(s.length!==t.length)return!1;for(t=0;t<s.length;t++){var r=s[t];if(!dr.call(e,r)||!Oe(l[r],e[r]))return!1}return!0}function Ia(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function za(l,e){var s=Ia(l);l=0;for(var t;s;){if(s.nodeType===3){if(t=l+s.textContent.length,l<=e&&t>=e)return{node:s,offset:e-l};l=t}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ia(s)}}function Vh(l,e){return l&&e?l===e?!0:l&&l.nodeType===3?!1:e&&e.nodeType===3?Vh(l,e.parentNode):"contains"in l?l.contains(e):l.compareDocumentPosition?!!(l.compareDocumentPosition(e)&16):!1:!1}function Hh(){for(var l=window,e=Us();e instanceof l.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)l=e.contentWindow;else break;e=Us(l.document)}return e}function _o(l){var e=l&&l.nodeName&&l.nodeName.toLowerCase();return e&&(e==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||e==="textarea"||l.contentEditable==="true")}function Wm(l){var e=Hh(),s=l.focusedElem,t=l.selectionRange;if(e!==s&&s&&s.ownerDocument&&Vh(s.ownerDocument.documentElement,s)){if(t!==null&&_o(s)){if(e=t.start,l=t.end,l===void 0&&(l=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(l,s.value.length);else if(l=(e=s.ownerDocument||document)&&e.defaultView||window,l.getSelection){l=l.getSelection();var r=s.textContent.length,o=Math.min(t.start,r);t=t.end===void 0?o:Math.min(t.end,r),!l.extend&&o>t&&(r=t,t=o,o=r),r=za(s,o);var i=za(s,t);r&&i&&(l.rangeCount!==1||l.anchorNode!==r.node||l.anchorOffset!==r.offset||l.focusNode!==i.node||l.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),l.removeAllRanges(),o>t?(l.addRange(e),l.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),l.addRange(e)))}}for(e=[],l=s;l=l.parentNode;)l.nodeType===1&&e.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)l=e[s],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Qm=Ke&&"documentMode"in document&&11>=document.documentMode,Vn=null,Sr=null,Ll=null,Tr=!1;function Ga(l,e,s){var t=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tr||Vn==null||Vn!==Us(t)||(t=Vn,"selectionStart"in t&&_o(t)?t={start:t.selectionStart,end:t.selectionEnd}:(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection(),t={anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}),Ll&&Ql(Ll,t)||(Ll=t,t=qs(Sr,"onSelect"),0<t.length&&(e=new vo("onSelect","select",null,e,s),l.push({event:e,listeners:t}),e.target=Vn)))}function vs(l,e){var s={};return s[l.toLowerCase()]=e.toLowerCase(),s["Webkit"+l]="webkit"+e,s["Moz"+l]="moz"+e,s}var Hn={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},Wt={},Xh={};Ke&&(Xh=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function mt(l){if(Wt[l])return Wt[l];if(!Hn[l])return l;var e=Hn[l],s;for(s in e)if(e.hasOwnProperty(s)&&s in Xh)return Wt[l]=e[s];return l}var Wh=mt("animationend"),Qh=mt("animationiteration"),Kh=mt("animationstart"),qh=mt("transitionend"),Yh=new Map,ba="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(l,e){Yh.set(l,e),On(e,[l])}for(var Qt=0;Qt<ba.length;Qt++){var Kt=ba[Qt],Km=Kt.toLowerCase(),qm=Kt[0].toUpperCase()+Kt.slice(1);En(Km,"on"+qm)}En(Wh,"onAnimationEnd");En(Qh,"onAnimationIteration");En(Kh,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(qh,"onTransitionEnd");rl("onMouseEnter",["mouseout","mouseover"]);rl("onMouseLeave",["mouseout","mouseover"]);rl("onPointerEnter",["pointerout","pointerover"]);rl("onPointerLeave",["pointerout","pointerover"]);On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));On("onBeforeInput",["compositionend","keypress","textInput","paste"]);On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ym=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function Ua(l,e,s){var t=l.type||"unknown-event";l.currentTarget=s,Kf(t,e,void 0,l),l.currentTarget=null}function Jh(l,e){e=(e&4)!==0;for(var s=0;s<l.length;s++){var t=l[s],r=t.event;t=t.listeners;e:{var o=void 0;if(e)for(var i=t.length-1;0<=i;i--){var a=t[i],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==o&&r.isPropagationStopped())break e;Ua(r,a,d),o=c}else for(i=0;i<t.length;i++){if(a=t[i],c=a.instance,d=a.currentTarget,a=a.listener,c!==o&&r.isPropagationStopped())break e;Ua(r,a,d),o=c}}}if(Hs)throw l=_r,Hs=!1,_r=null,l}function I(l,e){var s=e[Br];s===void 0&&(s=e[Br]=new Set);var t=l+"__bubble";s.has(t)||(Zh(e,l,2,!1),s.add(t))}function qt(l,e,s){var t=0;e&&(t|=4),Zh(s,l,t,e)}var As="_reactListening"+Math.random().toString(36).slice(2);function Kl(l){if(!l[As]){l[As]=!0,oh.forEach(function(s){s!=="selectionchange"&&(Ym.has(s)||qt(s,!1,l),qt(s,!0,l))});var e=l.nodeType===9?l:l.ownerDocument;e===null||e[As]||(e[As]=!0,qt("selectionchange",!1,e))}}function Zh(l,e,s,t){switch(Lh(e)){case 1:var r=hm;break;case 4:r=pm;break;default:r=go}s=r.bind(null,e,s,l),r=void 0,!Dr||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),t?r!==void 0?l.addEventListener(e,s,{capture:!0,passive:r}):l.addEventListener(e,s,!0):r!==void 0?l.addEventListener(e,s,{passive:r}):l.addEventListener(e,s,!1)}function Yt(l,e,s,t,r){var o=t;if(!(e&1)&&!(e&2)&&t!==null)e:for(;;){if(t===null)return;var i=t.tag;if(i===3||i===4){var a=t.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(i===4)for(i=t.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;i=i.return}for(;a!==null;){if(i=Fn(a),i===null)return;if(c=i.tag,c===5||c===6){t=o=i;continue e}a=a.parentNode}}t=t.return}vh(function(){var d=o,j=yo(s),x=[];e:{var y=Yh.get(l);if(y!==void 0){var E=vo,g=l;switch(l){case"keypress":if(Bs(s)===0)break e;case"keydown":case"keyup":E=Fm;break;case"focusin":g="focus",E=Vt;break;case"focusout":g="blur",E=Vt;break;case"beforeblur":case"afterblur":E=Vt;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Pa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Tm;break;case Wh:case Qh:case Kh:E=mm;break;case qh:E=Mm;break;case"scroll":E=um;break;case"wheel":E=Nm;break;case"copy":case"cut":case"paste":E=gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Ra}var C=(e&4)!==0,D=!C&&l==="scroll",p=C?y!==null?y+"Capture":null:y;C=[];for(var h=d,u;h!==null;){u=h;var f=u.stateNode;if(u.tag===5&&f!==null&&(u=f,p!==null&&(f=Ul(h,p),f!=null&&C.push(ql(h,f,u)))),D)break;h=h.return}0<C.length&&(y=new E(y,g,null,s,j),x.push({event:y,listeners:C}))}}if(!(e&7)){e:{if(y=l==="mouseover"||l==="pointerover",E=l==="mouseout"||l==="pointerout",y&&s!==vr&&(g=s.relatedTarget||s.fromElement)&&(Fn(g)||g[qe]))break e;if((E||y)&&(y=j.window===j?j:(y=j.ownerDocument)?y.defaultView||y.parentWindow:window,E?(g=s.relatedTarget||s.toElement,E=d,g=g?Fn(g):null,g!==null&&(D=In(g),g!==D||g.tag!==5&&g.tag!==6)&&(g=null)):(E=null,g=d),E!==g)){if(C=Pa,f="onMouseLeave",p="onMouseEnter",h="mouse",(l==="pointerout"||l==="pointerover")&&(C=Ra,f="onPointerLeave",p="onPointerEnter",h="pointer"),D=E==null?y:Xn(E),u=g==null?y:Xn(g),y=new C(f,h+"leave",E,s,j),y.target=D,y.relatedTarget=u,f=null,Fn(j)===d&&(C=new C(p,h+"enter",g,s,j),C.target=u,C.relatedTarget=D,f=C),D=f,E&&g)n:{for(C=E,p=g,h=0,u=C;u;u=zn(u))h++;for(u=0,f=p;f;f=zn(f))u++;for(;0<h-u;)C=zn(C),h--;for(;0<u-h;)p=zn(p),u--;for(;h--;){if(C===p||p!==null&&C===p.alternate)break n;C=zn(C),p=zn(p)}C=null}else C=null;E!==null&&Va(x,y,E,C,!1),g!==null&&D!==null&&Va(x,D,g,C,!0)}}e:{if(y=d?Xn(d):window,E=y.nodeName&&y.nodeName.toLowerCase(),E==="select"||E==="input"&&y.type==="file")var v=Gm;else if(La(y))if(bh)v=Hm;else{v=Um;var S=bm}else(E=y.nodeName)&&E.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(v=Vm);if(v&&(v=v(l,d))){Gh(x,v,s,j);break e}S&&S(l,y,d),l==="focusout"&&(S=y._wrapperState)&&S.controlled&&y.type==="number"&&fr(y,"number",y.value)}switch(S=d?Xn(d):window,l){case"focusin":(La(S)||S.contentEditable==="true")&&(Vn=S,Sr=d,Ll=null);break;case"focusout":Ll=Sr=Vn=null;break;case"mousedown":Tr=!0;break;case"contextmenu":case"mouseup":case"dragend":Tr=!1,Ga(x,s,j);break;case"selectionchange":if(Qm)break;case"keydown":case"keyup":Ga(x,s,j)}var T;if(Do)e:{switch(l){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Un?Ih(l,s)&&(P="onCompositionEnd"):l==="keydown"&&s.keyCode===229&&(P="onCompositionStart");P&&(Oh&&s.locale!=="ko"&&(Un||P!=="onCompositionStart"?P==="onCompositionEnd"&&Un&&(T=$h()):(rn=j,Co="value"in rn?rn.value:rn.textContent,Un=!0)),S=qs(d,P),0<S.length&&(P=new Ma(P,l,null,s,j),x.push({event:P,listeners:S}),T?P.data=T:(T=zh(s),T!==null&&(P.data=T)))),(T=Lm?$m(l,s):Om(l,s))&&(d=qs(d,"onBeforeInput"),0<d.length&&(j=new Ma("onBeforeInput","beforeinput",null,s,j),x.push({event:j,listeners:d}),j.data=T))}Jh(x,e)})}function ql(l,e,s){return{instance:l,listener:e,currentTarget:s}}function qs(l,e){for(var s=e+"Capture",t=[];l!==null;){var r=l,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Ul(l,s),o!=null&&t.unshift(ql(l,o,r)),o=Ul(l,e),o!=null&&t.push(ql(l,o,r))),l=l.return}return t}function zn(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Va(l,e,s,t,r){for(var o=e._reactName,i=[];s!==null&&s!==t;){var a=s,c=a.alternate,d=a.stateNode;if(c!==null&&c===t)break;a.tag===5&&d!==null&&(a=d,r?(c=Ul(s,o),c!=null&&i.unshift(ql(s,c,a))):r||(c=Ul(s,o),c!=null&&i.push(ql(s,c,a)))),s=s.return}i.length!==0&&l.push({event:e,listeners:i})}var Jm=/\r\n?/g,Zm=/\u0000|\uFFFD/g;function Ha(l){return(typeof l=="string"?l:""+l).replace(Jm,`
`).replace(Zm,"")}function Ds(l,e,s){if(e=Ha(e),Ha(l)!==e&&s)throw Error(m(425))}function Ys(){}var Pr=null,Mr=null;function Rr(l,e){return l==="textarea"||l==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nr=typeof setTimeout=="function"?setTimeout:void 0,e4=typeof clearTimeout=="function"?clearTimeout:void 0,Xa=typeof Promise=="function"?Promise:void 0,n4=typeof queueMicrotask=="function"?queueMicrotask:typeof Xa<"u"?function(l){return Xa.resolve(null).then(l).catch(l4)}:Nr;function l4(l){setTimeout(function(){throw l})}function Jt(l,e){var s=e,t=0;do{var r=s.nextSibling;if(l.removeChild(s),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(t===0){l.removeChild(r),Xl(e);return}t--}else s!=="$"&&s!=="$?"&&s!=="$!"||t++;s=r}while(s);Xl(e)}function pn(l){for(;l!=null;l=l.nextSibling){var e=l.nodeType;if(e===1||e===3)break;if(e===8){if(e=l.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return l}function Wa(l){l=l.previousSibling;for(var e=0;l;){if(l.nodeType===8){var s=l.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return l;e--}else s==="/$"&&e++}l=l.previousSibling}return null}var xl=Math.random().toString(36).slice(2),Ge="__reactFiber$"+xl,Yl="__reactProps$"+xl,qe="__reactContainer$"+xl,Br="__reactEvents$"+xl,s4="__reactListeners$"+xl,t4="__reactHandles$"+xl;function Fn(l){var e=l[Ge];if(e)return e;for(var s=l.parentNode;s;){if(e=s[qe]||s[Ge]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(l=Wa(l);l!==null;){if(s=l[Ge])return s;l=Wa(l)}return e}l=s,s=l.parentNode}return null}function cs(l){return l=l[Ge]||l[qe],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Xn(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(m(33))}function Et(l){return l[Yl]||null}var Lr=[],Wn=-1;function gn(l){return{current:l}}function z(l){0>Wn||(l.current=Lr[Wn],Lr[Wn]=null,Wn--)}function O(l,e){Wn++,Lr[Wn]=l.current,l.current=e}var mn={},ae=gn(mn),je=gn(!1),Rn=mn;function ol(l,e){var s=l.type.contextTypes;if(!s)return mn;var t=l.stateNode;if(t&&t.__reactInternalMemoizedUnmaskedChildContext===e)return t.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in s)r[o]=e[o];return t&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=e,l.__reactInternalMemoizedMaskedChildContext=r),r}function ye(l){return l=l.childContextTypes,l!=null}function Js(){z(je),z(ae)}function Qa(l,e,s){if(ae.current!==mn)throw Error(m(168));O(ae,e),O(je,s)}function ep(l,e,s){var t=l.stateNode;if(e=e.childContextTypes,typeof t.getChildContext!="function")return s;t=t.getChildContext();for(var r in t)if(!(r in e))throw Error(m(108,bf(l)||"Unknown",r));return V({},s,t)}function Zs(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||mn,Rn=ae.current,O(ae,l),O(je,je.current),!0}function Ka(l,e,s){var t=l.stateNode;if(!t)throw Error(m(169));s?(l=ep(l,e,Rn),t.__reactInternalMemoizedMergedChildContext=l,z(je),z(ae),O(ae,l)):z(je),O(je,s)}var He=null,gt=!1,Zt=!1;function np(l){He===null?He=[l]:He.push(l)}function r4(l){gt=!0,np(l)}function Cn(){if(!Zt&&He!==null){Zt=!0;var l=0,e=$;try{var s=He;for($=1;l<s.length;l++){var t=s[l];do t=t(!0);while(t!==null)}He=null,gt=!1}catch(r){throw He!==null&&(He=He.slice(l+1)),kh(fo,Cn),r}finally{$=e,Zt=!1}}return null}var Qn=[],Kn=0,et=null,nt=0,_e=[],ke=0,Nn=null,Xe=1,We="";function Dn(l,e){Qn[Kn++]=nt,Qn[Kn++]=et,et=l,nt=e}function lp(l,e,s){_e[ke++]=Xe,_e[ke++]=We,_e[ke++]=Nn,Nn=l;var t=Xe;l=We;var r=32-Le(t)-1;t&=~(1<<r),s+=1;var o=32-Le(e)+r;if(30<o){var i=r-r%5;o=(t&(1<<i)-1).toString(32),t>>=i,r-=i,Xe=1<<32-Le(e)+r|s<<r|t,We=o+l}else Xe=1<<o|s<<r|t,We=l}function ko(l){l.return!==null&&(Dn(l,1),lp(l,1,0))}function Fo(l){for(;l===et;)et=Qn[--Kn],Qn[Kn]=null,nt=Qn[--Kn],Qn[Kn]=null;for(;l===Nn;)Nn=_e[--ke],_e[ke]=null,We=_e[--ke],_e[ke]=null,Xe=_e[--ke],_e[ke]=null}var Ce=null,ge=null,G=!1,Be=null;function sp(l,e){var s=Fe(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=l,e=l.deletions,e===null?(l.deletions=[s],l.flags|=16):e.push(s)}function qa(l,e){switch(l.tag){case 5:var s=l.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(l.stateNode=e,Ce=l,ge=pn(e.firstChild),!0):!1;case 6:return e=l.pendingProps===""||e.nodeType!==3?null:e,e!==null?(l.stateNode=e,Ce=l,ge=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=Nn!==null?{id:Xe,overflow:We}:null,l.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Fe(18,null,null,0),s.stateNode=e,s.return=l,l.child=s,Ce=l,ge=null,!0):!1;default:return!1}}function $r(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Or(l){if(G){var e=ge;if(e){var s=e;if(!qa(l,e)){if($r(l))throw Error(m(418));e=pn(s.nextSibling);var t=Ce;e&&qa(l,e)?sp(t,s):(l.flags=l.flags&-4097|2,G=!1,Ce=l)}}else{if($r(l))throw Error(m(418));l.flags=l.flags&-4097|2,G=!1,Ce=l}}}function Ya(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ce=l}function _s(l){if(l!==Ce)return!1;if(!G)return Ya(l),G=!0,!1;var e;if((e=l.tag!==3)&&!(e=l.tag!==5)&&(e=l.type,e=e!=="head"&&e!=="body"&&!Rr(l.type,l.memoizedProps)),e&&(e=ge)){if($r(l))throw tp(),Error(m(418));for(;e;)sp(l,e),e=pn(e.nextSibling)}if(Ya(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(m(317));e:{for(l=l.nextSibling,e=0;l;){if(l.nodeType===8){var s=l.data;if(s==="/$"){if(e===0){ge=pn(l.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}l=l.nextSibling}ge=null}}else ge=Ce?pn(l.stateNode.nextSibling):null;return!0}function tp(){for(var l=ge;l;)l=pn(l.nextSibling)}function il(){ge=Ce=null,G=!1}function wo(l){Be===null?Be=[l]:Be.push(l)}var o4=Ze.ReactCurrentBatchConfig;function Re(l,e){if(l&&l.defaultProps){e=V({},e),l=l.defaultProps;for(var s in l)e[s]===void 0&&(e[s]=l[s]);return e}return e}var lt=gn(null),st=null,qn=null,So=null;function To(){So=qn=st=null}function Po(l){var e=lt.current;z(lt),l._currentValue=e}function Ir(l,e,s){for(;l!==null;){var t=l.alternate;if((l.childLanes&e)!==e?(l.childLanes|=e,t!==null&&(t.childLanes|=e)):t!==null&&(t.childLanes&e)!==e&&(t.childLanes|=e),l===s)break;l=l.return}}function sl(l,e){st=l,So=qn=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&e&&(xe=!0),l.firstContext=null)}function Se(l){var e=l._currentValue;if(So!==l)if(l={context:l,memoizedValue:e,next:null},qn===null){if(st===null)throw Error(m(308));qn=l,st.dependencies={lanes:0,firstContext:l}}else qn=qn.next=l;return e}var wn=null;function Mo(l){wn===null?wn=[l]:wn.push(l)}function rp(l,e,s,t){var r=e.interleaved;return r===null?(s.next=s,Mo(e)):(s.next=r.next,r.next=s),e.interleaved=s,Ye(l,t)}function Ye(l,e){l.lanes|=e;var s=l.alternate;for(s!==null&&(s.lanes|=e),s=l,l=l.return;l!==null;)l.childLanes|=e,s=l.alternate,s!==null&&(s.childLanes|=e),s=l,l=l.return;return s.tag===3?s.stateNode:null}var ln=!1;function Ro(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function op(l,e){l=l.updateQueue,e.updateQueue===l&&(e.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Qe(l,e){return{eventTime:l,lane:e,tag:0,payload:null,callback:null,next:null}}function un(l,e,s){var t=l.updateQueue;if(t===null)return null;if(t=t.shared,L&2){var r=t.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e,Ye(l,s)}return r=t.interleaved,r===null?(e.next=e,Mo(t)):(e.next=r.next,r.next=e),t.interleaved=e,Ye(l,s)}function Ls(l,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var t=e.lanes;t&=l.pendingLanes,s|=t,e.lanes=s,mo(l,s)}}function Ja(l,e){var s=l.updateQueue,t=l.alternate;if(t!==null&&(t=t.updateQueue,s===t)){var r=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?r=o=i:o=o.next=i,s=s.next}while(s!==null);o===null?r=o=e:o=o.next=e}else r=o=e;s={baseState:t.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:t.shared,effects:t.effects},l.updateQueue=s;return}l=s.lastBaseUpdate,l===null?s.firstBaseUpdate=e:l.next=e,s.lastBaseUpdate=e}function tt(l,e,s,t){var r=l.updateQueue;ln=!1;var o=r.firstBaseUpdate,i=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var c=a,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var j=l.alternate;j!==null&&(j=j.updateQueue,a=j.lastBaseUpdate,a!==i&&(a===null?j.firstBaseUpdate=d:a.next=d,j.lastBaseUpdate=c))}if(o!==null){var x=r.baseState;i=0,j=d=c=null,a=o;do{var y=a.lane,E=a.eventTime;if((t&y)===y){j!==null&&(j=j.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=l,C=a;switch(y=e,E=s,C.tag){case 1:if(g=C.payload,typeof g=="function"){x=g.call(E,x,y);break e}x=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=C.payload,y=typeof g=="function"?g.call(E,x,y):g,y==null)break e;x=V({},x,y);break e;case 2:ln=!0}}a.callback!==null&&a.lane!==0&&(l.flags|=64,y=r.effects,y===null?r.effects=[a]:y.push(a))}else E={eventTime:E,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},j===null?(d=j=E,c=x):j=j.next=E,i|=y;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;y=a,a=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);if(j===null&&(c=x),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=j,e=r.shared.interleaved,e!==null){r=e;do i|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Ln|=i,l.lanes=i,l.memoizedState=x}}function Za(l,e,s){if(l=e.effects,e.effects=null,l!==null)for(e=0;e<l.length;e++){var t=l[e],r=t.callback;if(r!==null){if(t.callback=null,t=s,typeof r!="function")throw Error(m(191,r));r.call(t)}}}var ip=new rh.Component().refs;function zr(l,e,s,t){e=l.memoizedState,s=s(t,e),s=s==null?e:V({},e,s),l.memoizedState=s,l.lanes===0&&(l.updateQueue.baseState=s)}var Ct={isMounted:function(l){return(l=l._reactInternals)?In(l)===l:!1},enqueueSetState:function(l,e,s){l=l._reactInternals;var t=de(),r=jn(l),o=Qe(t,r);o.payload=e,s!=null&&(o.callback=s),e=un(l,o,r),e!==null&&($e(e,l,r,t),Ls(e,l,r))},enqueueReplaceState:function(l,e,s){l=l._reactInternals;var t=de(),r=jn(l),o=Qe(t,r);o.tag=1,o.payload=e,s!=null&&(o.callback=s),e=un(l,o,r),e!==null&&($e(e,l,r,t),Ls(e,l,r))},enqueueForceUpdate:function(l,e){l=l._reactInternals;var s=de(),t=jn(l),r=Qe(s,t);r.tag=2,e!=null&&(r.callback=e),e=un(l,r,t),e!==null&&($e(e,l,t,s),Ls(e,l,t))}};function ec(l,e,s,t,r,o,i){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(t,o,i):e.prototype&&e.prototype.isPureReactComponent?!Ql(s,t)||!Ql(r,o):!0}function ap(l,e,s){var t=!1,r=mn,o=e.contextType;return typeof o=="object"&&o!==null?o=Se(o):(r=ye(e)?Rn:ae.current,t=e.contextTypes,o=(t=t!=null)?ol(l,r):mn),e=new e(s,o),l.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ct,l.stateNode=e,e._reactInternals=l,t&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=r,l.__reactInternalMemoizedMaskedChildContext=o),e}function nc(l,e,s,t){l=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,t),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,t),e.state!==l&&Ct.enqueueReplaceState(e,e.state,null)}function Gr(l,e,s,t){var r=l.stateNode;r.props=s,r.state=l.memoizedState,r.refs=ip,Ro(l);var o=e.contextType;typeof o=="object"&&o!==null?r.context=Se(o):(o=ye(e)?Rn:ae.current,r.context=ol(l,o)),r.state=l.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(zr(l,e,o,s),r.state=l.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ct.enqueueReplaceState(r,r.state,null),tt(l,s,r,t),r.state=l.memoizedState),typeof r.componentDidMount=="function"&&(l.flags|=4194308)}function _l(l,e,s){if(l=s.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(m(309));var t=s.stateNode}if(!t)throw Error(m(147,l));var r=t,o=""+l;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=r.refs;a===ip&&(a=r.refs={}),i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof l!="string")throw Error(m(284));if(!s._owner)throw Error(m(290,l))}return l}function ks(l,e){throw l=Object.prototype.toString.call(e),Error(m(31,l==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":l))}function lc(l){var e=l._init;return e(l._payload)}function cp(l){function e(p,h){if(l){var u=p.deletions;u===null?(p.deletions=[h],p.flags|=16):u.push(h)}}function s(p,h){if(!l)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function t(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function r(p,h){return p=yn(p,h),p.index=0,p.sibling=null,p}function o(p,h,u){return p.index=u,l?(u=p.alternate,u!==null?(u=u.index,u<h?(p.flags|=2,h):u):(p.flags|=2,h)):(p.flags|=1048576,h)}function i(p){return l&&p.alternate===null&&(p.flags|=2),p}function a(p,h,u,f){return h===null||h.tag!==6?(h=or(u,p.mode,f),h.return=p,h):(h=r(h,u),h.return=p,h)}function c(p,h,u,f){var v=u.type;return v===bn?j(p,h,u.props.children,f,u.key):h!==null&&(h.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===nn&&lc(v)===h.type)?(f=r(h,u.props),f.ref=_l(p,h,u),f.return=p,f):(f=bs(u.type,u.key,u.props,null,p.mode,f),f.ref=_l(p,h,u),f.return=p,f)}function d(p,h,u,f){return h===null||h.tag!==4||h.stateNode.containerInfo!==u.containerInfo||h.stateNode.implementation!==u.implementation?(h=ir(u,p.mode,f),h.return=p,h):(h=r(h,u.children||[]),h.return=p,h)}function j(p,h,u,f,v){return h===null||h.tag!==7?(h=Pn(u,p.mode,f,v),h.return=p,h):(h=r(h,u),h.return=p,h)}function x(p,h,u){if(typeof h=="string"&&h!==""||typeof h=="number")return h=or(""+h,p.mode,u),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case js:return u=bs(h.type,h.key,h.props,null,p.mode,u),u.ref=_l(p,null,h),u.return=p,u;case Gn:return h=ir(h,p.mode,u),h.return=p,h;case nn:var f=h._init;return x(p,f(h._payload),u)}if(Sl(h)||gl(h))return h=Pn(h,p.mode,u,null),h.return=p,h;ks(p,h)}return null}function y(p,h,u,f){var v=h!==null?h.key:null;if(typeof u=="string"&&u!==""||typeof u=="number")return v!==null?null:a(p,h,""+u,f);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case js:return u.key===v?c(p,h,u,f):null;case Gn:return u.key===v?d(p,h,u,f):null;case nn:return v=u._init,y(p,h,v(u._payload),f)}if(Sl(u)||gl(u))return v!==null?null:j(p,h,u,f,null);ks(p,u)}return null}function E(p,h,u,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return p=p.get(u)||null,a(h,p,""+f,v);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case js:return p=p.get(f.key===null?u:f.key)||null,c(h,p,f,v);case Gn:return p=p.get(f.key===null?u:f.key)||null,d(h,p,f,v);case nn:var S=f._init;return E(p,h,u,S(f._payload),v)}if(Sl(f)||gl(f))return p=p.get(u)||null,j(h,p,f,v,null);ks(h,f)}return null}function g(p,h,u,f){for(var v=null,S=null,T=h,P=h=0,X=null;T!==null&&P<u.length;P++){T.index>P?(X=T,T=null):X=T.sibling;var B=y(p,T,u[P],f);if(B===null){T===null&&(T=X);break}l&&T&&B.alternate===null&&e(p,T),h=o(B,h,P),S===null?v=B:S.sibling=B,S=B,T=X}if(P===u.length)return s(p,T),G&&Dn(p,P),v;if(T===null){for(;P<u.length;P++)T=x(p,u[P],f),T!==null&&(h=o(T,h,P),S===null?v=T:S.sibling=T,S=T);return G&&Dn(p,P),v}for(T=t(p,T);P<u.length;P++)X=E(T,p,P,u[P],f),X!==null&&(l&&X.alternate!==null&&T.delete(X.key===null?P:X.key),h=o(X,h,P),S===null?v=X:S.sibling=X,S=X);return l&&T.forEach(function(Pe){return e(p,Pe)}),G&&Dn(p,P),v}function C(p,h,u,f){var v=gl(u);if(typeof v!="function")throw Error(m(150));if(u=v.call(u),u==null)throw Error(m(151));for(var S=v=null,T=h,P=h=0,X=null,B=u.next();T!==null&&!B.done;P++,B=u.next()){T.index>P?(X=T,T=null):X=T.sibling;var Pe=y(p,T,B.value,f);if(Pe===null){T===null&&(T=X);break}l&&T&&Pe.alternate===null&&e(p,T),h=o(Pe,h,P),S===null?v=Pe:S.sibling=Pe,S=Pe,T=X}if(B.done)return s(p,T),G&&Dn(p,P),v;if(T===null){for(;!B.done;P++,B=u.next())B=x(p,B.value,f),B!==null&&(h=o(B,h,P),S===null?v=B:S.sibling=B,S=B);return G&&Dn(p,P),v}for(T=t(p,T);!B.done;P++,B=u.next())B=E(T,p,P,B.value,f),B!==null&&(l&&B.alternate!==null&&T.delete(B.key===null?P:B.key),h=o(B,h,P),S===null?v=B:S.sibling=B,S=B);return l&&T.forEach(function(ml){return e(p,ml)}),G&&Dn(p,P),v}function D(p,h,u,f){if(typeof u=="object"&&u!==null&&u.type===bn&&u.key===null&&(u=u.props.children),typeof u=="object"&&u!==null){switch(u.$$typeof){case js:e:{for(var v=u.key,S=h;S!==null;){if(S.key===v){if(v=u.type,v===bn){if(S.tag===7){s(p,S.sibling),h=r(S,u.props.children),h.return=p,p=h;break e}}else if(S.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===nn&&lc(v)===S.type){s(p,S.sibling),h=r(S,u.props),h.ref=_l(p,S,u),h.return=p,p=h;break e}s(p,S);break}else e(p,S);S=S.sibling}u.type===bn?(h=Pn(u.props.children,p.mode,f,u.key),h.return=p,p=h):(f=bs(u.type,u.key,u.props,null,p.mode,f),f.ref=_l(p,h,u),f.return=p,p=f)}return i(p);case Gn:e:{for(S=u.key;h!==null;){if(h.key===S)if(h.tag===4&&h.stateNode.containerInfo===u.containerInfo&&h.stateNode.implementation===u.implementation){s(p,h.sibling),h=r(h,u.children||[]),h.return=p,p=h;break e}else{s(p,h);break}else e(p,h);h=h.sibling}h=ir(u,p.mode,f),h.return=p,p=h}return i(p);case nn:return S=u._init,D(p,h,S(u._payload),f)}if(Sl(u))return g(p,h,u,f);if(gl(u))return C(p,h,u,f);ks(p,u)}return typeof u=="string"&&u!==""||typeof u=="number"?(u=""+u,h!==null&&h.tag===6?(s(p,h.sibling),h=r(h,u),h.return=p,p=h):(s(p,h),h=or(u,p.mode,f),h.return=p,p=h),i(p)):s(p,h)}return D}var al=cp(!0),dp=cp(!1),ds={},Ue=gn(ds),Jl=gn(ds),Zl=gn(ds);function Sn(l){if(l===ds)throw Error(m(174));return l}function No(l,e){switch(O(Zl,e),O(Jl,l),O(Ue,ds),l=e.nodeType,l){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Er(null,"");break;default:l=l===8?e.parentNode:e,e=l.namespaceURI||null,l=l.tagName,e=Er(e,l)}z(Ue),O(Ue,e)}function cl(){z(Ue),z(Jl),z(Zl)}function hp(l){Sn(Zl.current);var e=Sn(Ue.current),s=Er(e,l.type);e!==s&&(O(Jl,l),O(Ue,s))}function Bo(l){Jl.current===l&&(z(Ue),z(Jl))}var b=gn(0);function rt(l){for(var e=l;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===l)break;for(;e.sibling===null;){if(e.return===null||e.return===l)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var er=[];function Lo(){for(var l=0;l<er.length;l++)er[l]._workInProgressVersionPrimary=null;er.length=0}var $s=Ze.ReactCurrentDispatcher,nr=Ze.ReactCurrentBatchConfig,Bn=0,U=null,q=null,Z=null,ot=!1,$l=!1,es=0,i4=0;function te(){throw Error(m(321))}function $o(l,e){if(e===null)return!1;for(var s=0;s<e.length&&s<l.length;s++)if(!Oe(l[s],e[s]))return!1;return!0}function Oo(l,e,s,t,r,o){if(Bn=o,U=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$s.current=l===null||l.memoizedState===null?h4:p4,l=s(t,r),$l){o=0;do{if($l=!1,es=0,25<=o)throw Error(m(301));o+=1,Z=q=null,e.updateQueue=null,$s.current=u4,l=s(t,r)}while($l)}if($s.current=it,e=q!==null&&q.next!==null,Bn=0,Z=q=U=null,ot=!1,e)throw Error(m(300));return l}function Io(){var l=es!==0;return es=0,l}function ze(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Z===null?U.memoizedState=Z=l:Z=Z.next=l,Z}function Te(){if(q===null){var l=U.alternate;l=l!==null?l.memoizedState:null}else l=q.next;var e=Z===null?U.memoizedState:Z.next;if(e!==null)Z=e,q=l;else{if(l===null)throw Error(m(310));q=l,l={memoizedState:q.memoizedState,baseState:q.baseState,baseQueue:q.baseQueue,queue:q.queue,next:null},Z===null?U.memoizedState=Z=l:Z=Z.next=l}return Z}function ns(l,e){return typeof e=="function"?e(l):e}function lr(l){var e=Te(),s=e.queue;if(s===null)throw Error(m(311));s.lastRenderedReducer=l;var t=q,r=t.baseQueue,o=s.pending;if(o!==null){if(r!==null){var i=r.next;r.next=o.next,o.next=i}t.baseQueue=r=o,s.pending=null}if(r!==null){o=r.next,t=t.baseState;var a=i=null,c=null,d=o;do{var j=d.lane;if((Bn&j)===j)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),t=d.hasEagerState?d.eagerState:l(t,d.action);else{var x={lane:j,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=x,i=t):c=c.next=x,U.lanes|=j,Ln|=j}d=d.next}while(d!==null&&d!==o);c===null?i=t:c.next=a,Oe(t,e.memoizedState)||(xe=!0),e.memoizedState=t,e.baseState=i,e.baseQueue=c,s.lastRenderedState=t}if(l=s.interleaved,l!==null){r=l;do o=r.lane,U.lanes|=o,Ln|=o,r=r.next;while(r!==l)}else r===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function sr(l){var e=Te(),s=e.queue;if(s===null)throw Error(m(311));s.lastRenderedReducer=l;var t=s.dispatch,r=s.pending,o=e.memoizedState;if(r!==null){s.pending=null;var i=r=r.next;do o=l(o,i.action),i=i.next;while(i!==r);Oe(o,e.memoizedState)||(xe=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),s.lastRenderedState=o}return[o,t]}function pp(){}function up(l,e){var s=U,t=Te(),r=e(),o=!Oe(t.memoizedState,r);if(o&&(t.memoizedState=r,xe=!0),t=t.queue,zo(yp.bind(null,s,t,l),[l]),t.getSnapshot!==e||o||Z!==null&&Z.memoizedState.tag&1){if(s.flags|=2048,ls(9,jp.bind(null,s,t,r,e),void 0,null),ee===null)throw Error(m(349));Bn&30||xp(s,e,r)}return r}function xp(l,e,s){l.flags|=16384,l={getSnapshot:e,value:s},e=U.updateQueue,e===null?(e={lastEffect:null,stores:null},U.updateQueue=e,e.stores=[l]):(s=e.stores,s===null?e.stores=[l]:s.push(l))}function jp(l,e,s,t){e.value=s,e.getSnapshot=t,fp(e)&&mp(l)}function yp(l,e,s){return s(function(){fp(e)&&mp(l)})}function fp(l){var e=l.getSnapshot;l=l.value;try{var s=e();return!Oe(l,s)}catch{return!0}}function mp(l){var e=Ye(l,1);e!==null&&$e(e,l,1,-1)}function sc(l){var e=ze();return typeof l=="function"&&(l=l()),e.memoizedState=e.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:l},e.queue=l,l=l.dispatch=d4.bind(null,U,l),[e.memoizedState,l]}function ls(l,e,s,t){return l={tag:l,create:e,destroy:s,deps:t,next:null},e=U.updateQueue,e===null?(e={lastEffect:null,stores:null},U.updateQueue=e,e.lastEffect=l.next=l):(s=e.lastEffect,s===null?e.lastEffect=l.next=l:(t=s.next,s.next=l,l.next=t,e.lastEffect=l)),l}function Ep(){return Te().memoizedState}function Os(l,e,s,t){var r=ze();U.flags|=l,r.memoizedState=ls(1|e,s,void 0,t===void 0?null:t)}function vt(l,e,s,t){var r=Te();t=t===void 0?null:t;var o=void 0;if(q!==null){var i=q.memoizedState;if(o=i.destroy,t!==null&&$o(t,i.deps)){r.memoizedState=ls(e,s,o,t);return}}U.flags|=l,r.memoizedState=ls(1|e,s,o,t)}function tc(l,e){return Os(8390656,8,l,e)}function zo(l,e){return vt(2048,8,l,e)}function gp(l,e){return vt(4,2,l,e)}function Cp(l,e){return vt(4,4,l,e)}function vp(l,e){if(typeof e=="function")return l=l(),e(l),function(){e(null)};if(e!=null)return l=l(),e.current=l,function(){e.current=null}}function Ap(l,e,s){return s=s!=null?s.concat([l]):null,vt(4,4,vp.bind(null,e,l),s)}function Go(){}function Dp(l,e){var s=Te();e=e===void 0?null:e;var t=s.memoizedState;return t!==null&&e!==null&&$o(e,t[1])?t[0]:(s.memoizedState=[l,e],l)}function _p(l,e){var s=Te();e=e===void 0?null:e;var t=s.memoizedState;return t!==null&&e!==null&&$o(e,t[1])?t[0]:(l=l(),s.memoizedState=[l,e],l)}function kp(l,e,s){return Bn&21?(Oe(s,e)||(s=Sh(),U.lanes|=s,Ln|=s,l.baseState=!0),e):(l.baseState&&(l.baseState=!1,xe=!0),l.memoizedState=s)}function a4(l,e){var s=$;$=s!==0&&4>s?s:4,l(!0);var t=nr.transition;nr.transition={};try{l(!1),e()}finally{$=s,nr.transition=t}}function Fp(){return Te().memoizedState}function c4(l,e,s){var t=jn(l);if(s={lane:t,action:s,hasEagerState:!1,eagerState:null,next:null},wp(l))Sp(e,s);else if(s=rp(l,e,s,t),s!==null){var r=de();$e(s,l,t,r),Tp(s,e,t)}}function d4(l,e,s){var t=jn(l),r={lane:t,action:s,hasEagerState:!1,eagerState:null,next:null};if(wp(l))Sp(e,r);else{var o=l.alternate;if(l.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,s);if(r.hasEagerState=!0,r.eagerState=a,Oe(a,i)){var c=e.interleaved;c===null?(r.next=r,Mo(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}s=rp(l,e,r,t),s!==null&&(r=de(),$e(s,l,t,r),Tp(s,e,t))}}function wp(l){var e=l.alternate;return l===U||e!==null&&e===U}function Sp(l,e){$l=ot=!0;var s=l.pending;s===null?e.next=e:(e.next=s.next,s.next=e),l.pending=e}function Tp(l,e,s){if(s&4194240){var t=e.lanes;t&=l.pendingLanes,s|=t,e.lanes=s,mo(l,s)}}var it={readContext:Se,useCallback:te,useContext:te,useEffect:te,useImperativeHandle:te,useInsertionEffect:te,useLayoutEffect:te,useMemo:te,useReducer:te,useRef:te,useState:te,useDebugValue:te,useDeferredValue:te,useTransition:te,useMutableSource:te,useSyncExternalStore:te,useId:te,unstable_isNewReconciler:!1},h4={readContext:Se,useCallback:function(l,e){return ze().memoizedState=[l,e===void 0?null:e],l},useContext:Se,useEffect:tc,useImperativeHandle:function(l,e,s){return s=s!=null?s.concat([l]):null,Os(4194308,4,vp.bind(null,e,l),s)},useLayoutEffect:function(l,e){return Os(4194308,4,l,e)},useInsertionEffect:function(l,e){return Os(4,2,l,e)},useMemo:function(l,e){var s=ze();return e=e===void 0?null:e,l=l(),s.memoizedState=[l,e],l},useReducer:function(l,e,s){var t=ze();return e=s!==void 0?s(e):e,t.memoizedState=t.baseState=e,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:e},t.queue=l,l=l.dispatch=c4.bind(null,U,l),[t.memoizedState,l]},useRef:function(l){var e=ze();return l={current:l},e.memoizedState=l},useState:sc,useDebugValue:Go,useDeferredValue:function(l){return ze().memoizedState=l},useTransition:function(){var l=sc(!1),e=l[0];return l=a4.bind(null,l[1]),ze().memoizedState=l,[e,l]},useMutableSource:function(){},useSyncExternalStore:function(l,e,s){var t=U,r=ze();if(G){if(s===void 0)throw Error(m(407));s=s()}else{if(s=e(),ee===null)throw Error(m(349));Bn&30||xp(t,e,s)}r.memoizedState=s;var o={value:s,getSnapshot:e};return r.queue=o,tc(yp.bind(null,t,o,l),[l]),t.flags|=2048,ls(9,jp.bind(null,t,o,s,e),void 0,null),s},useId:function(){var l=ze(),e=ee.identifierPrefix;if(G){var s=We,t=Xe;s=(t&~(1<<32-Le(t)-1)).toString(32)+s,e=":"+e+"R"+s,s=es++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=i4++,e=":"+e+"r"+s.toString(32)+":";return l.memoizedState=e},unstable_isNewReconciler:!1},p4={readContext:Se,useCallback:Dp,useContext:Se,useEffect:zo,useImperativeHandle:Ap,useInsertionEffect:gp,useLayoutEffect:Cp,useMemo:_p,useReducer:lr,useRef:Ep,useState:function(){return lr(ns)},useDebugValue:Go,useDeferredValue:function(l){var e=Te();return kp(e,q.memoizedState,l)},useTransition:function(){var l=lr(ns)[0],e=Te().memoizedState;return[l,e]},useMutableSource:pp,useSyncExternalStore:up,useId:Fp,unstable_isNewReconciler:!1},u4={readContext:Se,useCallback:Dp,useContext:Se,useEffect:zo,useImperativeHandle:Ap,useInsertionEffect:gp,useLayoutEffect:Cp,useMemo:_p,useReducer:sr,useRef:Ep,useState:function(){return sr(ns)},useDebugValue:Go,useDeferredValue:function(l){var e=Te();return q===null?e.memoizedState=l:kp(e,q.memoizedState,l)},useTransition:function(){var l=sr(ns)[0],e=Te().memoizedState;return[l,e]},useMutableSource:pp,useSyncExternalStore:up,useId:Fp,unstable_isNewReconciler:!1};function dl(l,e){try{var s="",t=e;do s+=Gf(t),t=t.return;while(t);var r=s}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:l,source:e,stack:r,digest:null}}function tr(l,e,s){return{value:l,source:null,stack:s??null,digest:e??null}}function br(l,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var x4=typeof WeakMap=="function"?WeakMap:Map;function Pp(l,e,s){s=Qe(-1,s),s.tag=3,s.payload={element:null};var t=e.value;return s.callback=function(){ct||(ct=!0,Jr=t),br(l,e)},s}function Mp(l,e,s){s=Qe(-1,s),s.tag=3;var t=l.type.getDerivedStateFromError;if(typeof t=="function"){var r=e.value;s.payload=function(){return t(r)},s.callback=function(){br(l,e)}}var o=l.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){br(l,e),typeof t!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),s}function rc(l,e,s){var t=l.pingCache;if(t===null){t=l.pingCache=new x4;var r=new Set;t.set(e,r)}else r=t.get(e),r===void 0&&(r=new Set,t.set(e,r));r.has(s)||(r.add(s),l=w4.bind(null,l,e,s),e.then(l,l))}function oc(l){do{var e;if((e=l.tag===13)&&(e=l.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return l;l=l.return}while(l!==null);return null}function ic(l,e,s,t,r){return l.mode&1?(l.flags|=65536,l.lanes=r,l):(l===e?l.flags|=65536:(l.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=Qe(-1,1),e.tag=2,un(s,e,1))),s.lanes|=1),l)}var j4=Ze.ReactCurrentOwner,xe=!1;function ce(l,e,s,t){e.child=l===null?dp(e,null,s,t):al(e,l.child,s,t)}function ac(l,e,s,t,r){s=s.render;var o=e.ref;return sl(e,r),t=Oo(l,e,s,t,o,r),s=Io(),l!==null&&!xe?(e.updateQueue=l.updateQueue,e.flags&=-2053,l.lanes&=~r,Je(l,e,r)):(G&&s&&ko(e),e.flags|=1,ce(l,e,t,r),e.child)}function cc(l,e,s,t,r){if(l===null){var o=s.type;return typeof o=="function"&&!Ko(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=o,Rp(l,e,o,t,r)):(l=bs(s.type,null,t,e,e.mode,r),l.ref=e.ref,l.return=e,e.child=l)}if(o=l.child,!(l.lanes&r)){var i=o.memoizedProps;if(s=s.compare,s=s!==null?s:Ql,s(i,t)&&l.ref===e.ref)return Je(l,e,r)}return e.flags|=1,l=yn(o,t),l.ref=e.ref,l.return=e,e.child=l}function Rp(l,e,s,t,r){if(l!==null){var o=l.memoizedProps;if(Ql(o,t)&&l.ref===e.ref)if(xe=!1,e.pendingProps=t=o,(l.lanes&r)!==0)l.flags&131072&&(xe=!0);else return e.lanes=l.lanes,Je(l,e,r)}return Ur(l,e,s,t,r)}function Np(l,e,s){var t=e.pendingProps,r=t.children,o=l!==null?l.memoizedState:null;if(t.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},O(Jn,Ee),Ee|=s;else{if(!(s&1073741824))return l=o!==null?o.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:l,cachePool:null,transitions:null},e.updateQueue=null,O(Jn,Ee),Ee|=l,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},t=o!==null?o.baseLanes:s,O(Jn,Ee),Ee|=t}else o!==null?(t=o.baseLanes|s,e.memoizedState=null):t=s,O(Jn,Ee),Ee|=t;return ce(l,e,r,s),e.child}function Bp(l,e){var s=e.ref;(l===null&&s!==null||l!==null&&l.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function Ur(l,e,s,t,r){var o=ye(s)?Rn:ae.current;return o=ol(e,o),sl(e,r),s=Oo(l,e,s,t,o,r),t=Io(),l!==null&&!xe?(e.updateQueue=l.updateQueue,e.flags&=-2053,l.lanes&=~r,Je(l,e,r)):(G&&t&&ko(e),e.flags|=1,ce(l,e,s,r),e.child)}function dc(l,e,s,t,r){if(ye(s)){var o=!0;Zs(e)}else o=!1;if(sl(e,r),e.stateNode===null)Is(l,e),ap(e,s,t),Gr(e,s,t,r),t=!0;else if(l===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var c=i.context,d=s.contextType;typeof d=="object"&&d!==null?d=Se(d):(d=ye(s)?Rn:ae.current,d=ol(e,d));var j=s.getDerivedStateFromProps,x=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==t||c!==d)&&nc(e,i,t,d),ln=!1;var y=e.memoizedState;i.state=y,tt(e,t,i,r),c=e.memoizedState,a!==t||y!==c||je.current||ln?(typeof j=="function"&&(zr(e,s,j,t),c=e.memoizedState),(a=ln||ec(e,s,a,t,y,c,d))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=t,e.memoizedState=c),i.props=t,i.state=c,i.context=d,t=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),t=!1)}else{i=e.stateNode,op(l,e),a=e.memoizedProps,d=e.type===e.elementType?a:Re(e.type,a),i.props=d,x=e.pendingProps,y=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=Se(c):(c=ye(s)?Rn:ae.current,c=ol(e,c));var E=s.getDerivedStateFromProps;(j=typeof E=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==x||y!==c)&&nc(e,i,t,c),ln=!1,y=e.memoizedState,i.state=y,tt(e,t,i,r);var g=e.memoizedState;a!==x||y!==g||je.current||ln?(typeof E=="function"&&(zr(e,s,E,t),g=e.memoizedState),(d=ln||ec(e,s,d,t,y,g,c)||!1)?(j||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(t,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(t,g,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===l.memoizedProps&&y===l.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===l.memoizedProps&&y===l.memoizedState||(e.flags|=1024),e.memoizedProps=t,e.memoizedState=g),i.props=t,i.state=g,i.context=c,t=d):(typeof i.componentDidUpdate!="function"||a===l.memoizedProps&&y===l.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===l.memoizedProps&&y===l.memoizedState||(e.flags|=1024),t=!1)}return Vr(l,e,s,t,o,r)}function Vr(l,e,s,t,r,o){Bp(l,e);var i=(e.flags&128)!==0;if(!t&&!i)return r&&Ka(e,s,!1),Je(l,e,o);t=e.stateNode,j4.current=e;var a=i&&typeof s.getDerivedStateFromError!="function"?null:t.render();return e.flags|=1,l!==null&&i?(e.child=al(e,l.child,null,o),e.child=al(e,null,a,o)):ce(l,e,a,o),e.memoizedState=t.state,r&&Ka(e,s,!0),e.child}function Lp(l){var e=l.stateNode;e.pendingContext?Qa(l,e.pendingContext,e.pendingContext!==e.context):e.context&&Qa(l,e.context,!1),No(l,e.containerInfo)}function hc(l,e,s,t,r){return il(),wo(r),e.flags|=256,ce(l,e,s,t),e.child}var Hr={dehydrated:null,treeContext:null,retryLane:0};function Xr(l){return{baseLanes:l,cachePool:null,transitions:null}}function $p(l,e,s){var t=e.pendingProps,r=b.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=l!==null&&l.memoizedState===null?!1:(r&2)!==0),a?(o=!0,e.flags&=-129):(l===null||l.memoizedState!==null)&&(r|=1),O(b,r&1),l===null)return Or(e),l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(e.mode&1?l.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=t.children,l=t.fallback,o?(t=e.mode,o=e.child,i={mode:"hidden",children:i},!(t&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=_t(i,t,0,null),l=Pn(l,t,s,null),o.return=e,l.return=e,o.sibling=l,e.child=o,e.child.memoizedState=Xr(s),e.memoizedState=Hr,l):bo(e,i));if(r=l.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return y4(l,e,i,t,a,r,s);if(o){o=t.fallback,i=e.mode,r=l.child,a=r.sibling;var c={mode:"hidden",children:t.children};return!(i&1)&&e.child!==r?(t=e.child,t.childLanes=0,t.pendingProps=c,e.deletions=null):(t=yn(r,c),t.subtreeFlags=r.subtreeFlags&14680064),a!==null?o=yn(a,o):(o=Pn(o,i,s,null),o.flags|=2),o.return=e,t.return=e,t.sibling=o,e.child=t,t=o,o=e.child,i=l.child.memoizedState,i=i===null?Xr(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=l.childLanes&~s,e.memoizedState=Hr,t}return o=l.child,l=o.sibling,t=yn(o,{mode:"visible",children:t.children}),!(e.mode&1)&&(t.lanes=s),t.return=e,t.sibling=null,l!==null&&(s=e.deletions,s===null?(e.deletions=[l],e.flags|=16):s.push(l)),e.child=t,e.memoizedState=null,t}function bo(l,e){return e=_t({mode:"visible",children:e},l.mode,0,null),e.return=l,l.child=e}function Fs(l,e,s,t){return t!==null&&wo(t),al(e,l.child,null,s),l=bo(e,e.pendingProps.children),l.flags|=2,e.memoizedState=null,l}function y4(l,e,s,t,r,o,i){if(s)return e.flags&256?(e.flags&=-257,t=tr(Error(m(422))),Fs(l,e,i,t)):e.memoizedState!==null?(e.child=l.child,e.flags|=128,null):(o=t.fallback,r=e.mode,t=_t({mode:"visible",children:t.children},r,0,null),o=Pn(o,r,i,null),o.flags|=2,t.return=e,o.return=e,t.sibling=o,e.child=t,e.mode&1&&al(e,l.child,null,i),e.child.memoizedState=Xr(i),e.memoizedState=Hr,o);if(!(e.mode&1))return Fs(l,e,i,null);if(r.data==="$!"){if(t=r.nextSibling&&r.nextSibling.dataset,t)var a=t.dgst;return t=a,o=Error(m(419)),t=tr(o,t,void 0),Fs(l,e,i,t)}if(a=(i&l.childLanes)!==0,xe||a){if(t=ee,t!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(t.suspendedLanes|i)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Ye(l,r),$e(t,l,r,-1))}return Qo(),t=tr(Error(m(421))),Fs(l,e,i,t)}return r.data==="$?"?(e.flags|=128,e.child=l.child,e=S4.bind(null,l),r._reactRetry=e,null):(l=o.treeContext,ge=pn(r.nextSibling),Ce=e,G=!0,Be=null,l!==null&&(_e[ke++]=Xe,_e[ke++]=We,_e[ke++]=Nn,Xe=l.id,We=l.overflow,Nn=e),e=bo(e,t.children),e.flags|=4096,e)}function pc(l,e,s){l.lanes|=e;var t=l.alternate;t!==null&&(t.lanes|=e),Ir(l.return,e,s)}function rr(l,e,s,t,r){var o=l.memoizedState;o===null?l.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:t,tail:s,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=t,o.tail=s,o.tailMode=r)}function Op(l,e,s){var t=e.pendingProps,r=t.revealOrder,o=t.tail;if(ce(l,e,t.children,s),t=b.current,t&2)t=t&1|2,e.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=e.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&pc(l,s,e);else if(l.tag===19)pc(l,s,e);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t&=1}if(O(b,t),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(s=e.child,r=null;s!==null;)l=s.alternate,l!==null&&rt(l)===null&&(r=s),s=s.sibling;s=r,s===null?(r=e.child,e.child=null):(r=s.sibling,s.sibling=null),rr(e,!1,r,s,o);break;case"backwards":for(s=null,r=e.child,e.child=null;r!==null;){if(l=r.alternate,l!==null&&rt(l)===null){e.child=r;break}l=r.sibling,r.sibling=s,s=r,r=l}rr(e,!0,s,null,o);break;case"together":rr(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Is(l,e){!(e.mode&1)&&l!==null&&(l.alternate=null,e.alternate=null,e.flags|=2)}function Je(l,e,s){if(l!==null&&(e.dependencies=l.dependencies),Ln|=e.lanes,!(s&e.childLanes))return null;if(l!==null&&e.child!==l.child)throw Error(m(153));if(e.child!==null){for(l=e.child,s=yn(l,l.pendingProps),e.child=s,s.return=e;l.sibling!==null;)l=l.sibling,s=s.sibling=yn(l,l.pendingProps),s.return=e;s.sibling=null}return e.child}function f4(l,e,s){switch(e.tag){case 3:Lp(e),il();break;case 5:hp(e);break;case 1:ye(e.type)&&Zs(e);break;case 4:No(e,e.stateNode.containerInfo);break;case 10:var t=e.type._context,r=e.memoizedProps.value;O(lt,t._currentValue),t._currentValue=r;break;case 13:if(t=e.memoizedState,t!==null)return t.dehydrated!==null?(O(b,b.current&1),e.flags|=128,null):s&e.child.childLanes?$p(l,e,s):(O(b,b.current&1),l=Je(l,e,s),l!==null?l.sibling:null);O(b,b.current&1);break;case 19:if(t=(s&e.childLanes)!==0,l.flags&128){if(t)return Op(l,e,s);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),O(b,b.current),t)break;return null;case 22:case 23:return e.lanes=0,Np(l,e,s)}return Je(l,e,s)}var Ip,Wr,zp,Gp;Ip=function(l,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)l.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Wr=function(){};zp=function(l,e,s,t){var r=l.memoizedProps;if(r!==t){l=e.stateNode,Sn(Ue.current);var o=null;switch(s){case"input":r=jr(l,r),t=jr(l,t),o=[];break;case"select":r=V({},r,{value:void 0}),t=V({},t,{value:void 0}),o=[];break;case"textarea":r=mr(l,r),t=mr(l,t),o=[];break;default:typeof r.onClick!="function"&&typeof t.onClick=="function"&&(l.onclick=Ys)}gr(s,t);var i;s=null;for(d in r)if(!t.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var a=r[d];for(i in a)a.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Gl.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in t){var c=t[d];if(a=r!=null?r[d]:void 0,t.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(o||(o=[]),o.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Gl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&I("scroll",l),o||a===c||(o=[])):(o=o||[]).push(d,c))}s&&(o=o||[]).push("style",s);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};Gp=function(l,e,s,t){s!==t&&(e.flags|=4)};function kl(l,e){if(!G)switch(l.tailMode){case"hidden":e=l.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?l.tail=null:s.sibling=null;break;case"collapsed":s=l.tail;for(var t=null;s!==null;)s.alternate!==null&&(t=s),s=s.sibling;t===null?e||l.tail===null?l.tail=null:l.tail.sibling=null:t.sibling=null}}function re(l){var e=l.alternate!==null&&l.alternate.child===l.child,s=0,t=0;if(e)for(var r=l.child;r!==null;)s|=r.lanes|r.childLanes,t|=r.subtreeFlags&14680064,t|=r.flags&14680064,r.return=l,r=r.sibling;else for(r=l.child;r!==null;)s|=r.lanes|r.childLanes,t|=r.subtreeFlags,t|=r.flags,r.return=l,r=r.sibling;return l.subtreeFlags|=t,l.childLanes=s,e}function m4(l,e,s){var t=e.pendingProps;switch(Fo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(e),null;case 1:return ye(e.type)&&Js(),re(e),null;case 3:return t=e.stateNode,cl(),z(je),z(ae),Lo(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(l===null||l.child===null)&&(_s(e)?e.flags|=4:l===null||l.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Be!==null&&(no(Be),Be=null))),Wr(l,e),re(e),null;case 5:Bo(e);var r=Sn(Zl.current);if(s=e.type,l!==null&&e.stateNode!=null)zp(l,e,s,t,r),l.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!t){if(e.stateNode===null)throw Error(m(166));return re(e),null}if(l=Sn(Ue.current),_s(e)){t=e.stateNode,s=e.type;var o=e.memoizedProps;switch(t[Ge]=e,t[Yl]=o,l=(e.mode&1)!==0,s){case"dialog":I("cancel",t),I("close",t);break;case"iframe":case"object":case"embed":I("load",t);break;case"video":case"audio":for(r=0;r<Pl.length;r++)I(Pl[r],t);break;case"source":I("error",t);break;case"img":case"image":case"link":I("error",t),I("load",t);break;case"details":I("toggle",t);break;case"input":Ca(t,o),I("invalid",t);break;case"select":t._wrapperState={wasMultiple:!!o.multiple},I("invalid",t);break;case"textarea":Aa(t,o),I("invalid",t)}gr(s,o),r=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?t.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ds(t.textContent,a,l),r=["children",a]):typeof a=="number"&&t.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ds(t.textContent,a,l),r=["children",""+a]):Gl.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&I("scroll",t)}switch(s){case"input":ys(t),va(t,o,!0);break;case"textarea":ys(t),Da(t);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(t.onclick=Ys)}t=r,e.updateQueue=t,t!==null&&(e.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=xh(s)),l==="http://www.w3.org/1999/xhtml"?s==="script"?(l=i.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof t.is=="string"?l=i.createElement(s,{is:t.is}):(l=i.createElement(s),s==="select"&&(i=l,t.multiple?i.multiple=!0:t.size&&(i.size=t.size))):l=i.createElementNS(l,s),l[Ge]=e,l[Yl]=t,Ip(l,e,!1,!1),e.stateNode=l;e:{switch(i=Cr(s,t),s){case"dialog":I("cancel",l),I("close",l),r=t;break;case"iframe":case"object":case"embed":I("load",l),r=t;break;case"video":case"audio":for(r=0;r<Pl.length;r++)I(Pl[r],l);r=t;break;case"source":I("error",l),r=t;break;case"img":case"image":case"link":I("error",l),I("load",l),r=t;break;case"details":I("toggle",l),r=t;break;case"input":Ca(l,t),r=jr(l,t),I("invalid",l);break;case"option":r=t;break;case"select":l._wrapperState={wasMultiple:!!t.multiple},r=V({},t,{value:void 0}),I("invalid",l);break;case"textarea":Aa(l,t),r=mr(l,t),I("invalid",l);break;default:r=t}gr(s,r),a=r;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?fh(l,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jh(l,c)):o==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&bl(l,c):typeof c=="number"&&bl(l,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gl.hasOwnProperty(o)?c!=null&&o==="onScroll"&&I("scroll",l):c!=null&&po(l,o,c,i))}switch(s){case"input":ys(l),va(l,t,!1);break;case"textarea":ys(l),Da(l);break;case"option":t.value!=null&&l.setAttribute("value",""+fn(t.value));break;case"select":l.multiple=!!t.multiple,o=t.value,o!=null?Zn(l,!!t.multiple,o,!1):t.defaultValue!=null&&Zn(l,!!t.multiple,t.defaultValue,!0);break;default:typeof r.onClick=="function"&&(l.onclick=Ys)}switch(s){case"button":case"input":case"select":case"textarea":t=!!t.autoFocus;break e;case"img":t=!0;break e;default:t=!1}}t&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return re(e),null;case 6:if(l&&e.stateNode!=null)Gp(l,e,l.memoizedProps,t);else{if(typeof t!="string"&&e.stateNode===null)throw Error(m(166));if(s=Sn(Zl.current),Sn(Ue.current),_s(e)){if(t=e.stateNode,s=e.memoizedProps,t[Ge]=e,(o=t.nodeValue!==s)&&(l=Ce,l!==null))switch(l.tag){case 3:Ds(t.nodeValue,s,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Ds(t.nodeValue,s,(l.mode&1)!==0)}o&&(e.flags|=4)}else t=(s.nodeType===9?s:s.ownerDocument).createTextNode(t),t[Ge]=e,e.stateNode=t}return re(e),null;case 13:if(z(b),t=e.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(G&&ge!==null&&e.mode&1&&!(e.flags&128))tp(),il(),e.flags|=98560,o=!1;else if(o=_s(e),t!==null&&t.dehydrated!==null){if(l===null){if(!o)throw Error(m(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(m(317));o[Ge]=e}else il(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;re(e),o=!1}else Be!==null&&(no(Be),Be=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(t=t!==null,t!==(l!==null&&l.memoizedState!==null)&&t&&(e.child.flags|=8192,e.mode&1&&(l===null||b.current&1?Y===0&&(Y=3):Qo())),e.updateQueue!==null&&(e.flags|=4),re(e),null);case 4:return cl(),Wr(l,e),l===null&&Kl(e.stateNode.containerInfo),re(e),null;case 10:return Po(e.type._context),re(e),null;case 17:return ye(e.type)&&Js(),re(e),null;case 19:if(z(b),o=e.memoizedState,o===null)return re(e),null;if(t=(e.flags&128)!==0,i=o.rendering,i===null)if(t)kl(o,!1);else{if(Y!==0||l!==null&&l.flags&128)for(l=e.child;l!==null;){if(i=rt(l),i!==null){for(e.flags|=128,kl(o,!1),t=i.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),e.subtreeFlags=0,t=s,s=e.child;s!==null;)o=s,l=t,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,l=i.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s=s.sibling;return O(b,b.current&1|2),e.child}l=l.sibling}o.tail!==null&&Q()>hl&&(e.flags|=128,t=!0,kl(o,!1),e.lanes=4194304)}else{if(!t)if(l=rt(i),l!==null){if(e.flags|=128,t=!0,s=l.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),kl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!G)return re(e),null}else 2*Q()-o.renderingStartTime>hl&&s!==1073741824&&(e.flags|=128,t=!0,kl(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(s=o.last,s!==null?s.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Q(),e.sibling=null,s=b.current,O(b,t?s&1|2:s&1),e):(re(e),null);case 22:case 23:return Wo(),t=e.memoizedState!==null,l!==null&&l.memoizedState!==null!==t&&(e.flags|=8192),t&&e.mode&1?Ee&1073741824&&(re(e),e.subtreeFlags&6&&(e.flags|=8192)):re(e),null;case 24:return null;case 25:return null}throw Error(m(156,e.tag))}function E4(l,e){switch(Fo(e),e.tag){case 1:return ye(e.type)&&Js(),l=e.flags,l&65536?(e.flags=l&-65537|128,e):null;case 3:return cl(),z(je),z(ae),Lo(),l=e.flags,l&65536&&!(l&128)?(e.flags=l&-65537|128,e):null;case 5:return Bo(e),null;case 13:if(z(b),l=e.memoizedState,l!==null&&l.dehydrated!==null){if(e.alternate===null)throw Error(m(340));il()}return l=e.flags,l&65536?(e.flags=l&-65537|128,e):null;case 19:return z(b),null;case 4:return cl(),null;case 10:return Po(e.type._context),null;case 22:case 23:return Wo(),null;case 24:return null;default:return null}}var ws=!1,oe=!1,g4=typeof WeakSet=="function"?WeakSet:Set,A=null;function Yn(l,e){var s=l.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(t){H(l,e,t)}else s.current=null}function Qr(l,e,s){try{s()}catch(t){H(l,e,t)}}var uc=!1;function C4(l,e){if(Pr=Qs,l=Hh(),_o(l)){if("selectionStart"in l)var s={start:l.selectionStart,end:l.selectionEnd};else e:{s=(s=l.ownerDocument)&&s.defaultView||window;var t=s.getSelection&&s.getSelection();if(t&&t.rangeCount!==0){s=t.anchorNode;var r=t.anchorOffset,o=t.focusNode;t=t.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var i=0,a=-1,c=-1,d=0,j=0,x=l,y=null;n:for(;;){for(var E;x!==s||r!==0&&x.nodeType!==3||(a=i+r),x!==o||t!==0&&x.nodeType!==3||(c=i+t),x.nodeType===3&&(i+=x.nodeValue.length),(E=x.firstChild)!==null;)y=x,x=E;for(;;){if(x===l)break n;if(y===s&&++d===r&&(a=i),y===o&&++j===t&&(c=i),(E=x.nextSibling)!==null)break;x=y,y=x.parentNode}x=E}s=a===-1||c===-1?null:{start:a,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Mr={focusedElem:l,selectionRange:s},Qs=!1,A=e;A!==null;)if(e=A,l=e.child,(e.subtreeFlags&1028)!==0&&l!==null)l.return=e,A=l;else for(;A!==null;){e=A;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var C=g.memoizedProps,D=g.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?C:Re(e.type,C),D);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var u=e.stateNode.containerInfo;u.nodeType===1?u.textContent="":u.nodeType===9&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(m(163))}}catch(f){H(e,e.return,f)}if(l=e.sibling,l!==null){l.return=e.return,A=l;break}A=e.return}return g=uc,uc=!1,g}function Ol(l,e,s){var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&l)===l){var o=r.destroy;r.destroy=void 0,o!==void 0&&Qr(e,s,o)}r=r.next}while(r!==t)}}function At(l,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&l)===l){var t=s.create;s.destroy=t()}s=s.next}while(s!==e)}}function Kr(l){var e=l.ref;if(e!==null){var s=l.stateNode;switch(l.tag){case 5:l=s;break;default:l=s}typeof e=="function"?e(l):e.current=l}}function bp(l){var e=l.alternate;e!==null&&(l.alternate=null,bp(e)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(e=l.stateNode,e!==null&&(delete e[Ge],delete e[Yl],delete e[Br],delete e[s4],delete e[t4])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Up(l){return l.tag===5||l.tag===3||l.tag===4}function xc(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Up(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function qr(l,e,s){var t=l.tag;if(t===5||t===6)l=l.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(l,e):s.insertBefore(l,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(l,s)):(e=s,e.appendChild(l)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Ys));else if(t!==4&&(l=l.child,l!==null))for(qr(l,e,s),l=l.sibling;l!==null;)qr(l,e,s),l=l.sibling}function Yr(l,e,s){var t=l.tag;if(t===5||t===6)l=l.stateNode,e?s.insertBefore(l,e):s.appendChild(l);else if(t!==4&&(l=l.child,l!==null))for(Yr(l,e,s),l=l.sibling;l!==null;)Yr(l,e,s),l=l.sibling}var ne=null,Ne=!1;function en(l,e,s){for(s=s.child;s!==null;)Vp(l,e,s),s=s.sibling}function Vp(l,e,s){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(jt,s)}catch{}switch(s.tag){case 5:oe||Yn(s,e);case 6:var t=ne,r=Ne;ne=null,en(l,e,s),ne=t,Ne=r,ne!==null&&(Ne?(l=ne,s=s.stateNode,l.nodeType===8?l.parentNode.removeChild(s):l.removeChild(s)):ne.removeChild(s.stateNode));break;case 18:ne!==null&&(Ne?(l=ne,s=s.stateNode,l.nodeType===8?Jt(l.parentNode,s):l.nodeType===1&&Jt(l,s),Xl(l)):Jt(ne,s.stateNode));break;case 4:t=ne,r=Ne,ne=s.stateNode.containerInfo,Ne=!0,en(l,e,s),ne=t,Ne=r;break;case 0:case 11:case 14:case 15:if(!oe&&(t=s.updateQueue,t!==null&&(t=t.lastEffect,t!==null))){r=t=t.next;do{var o=r,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Qr(s,e,i),r=r.next}while(r!==t)}en(l,e,s);break;case 1:if(!oe&&(Yn(s,e),t=s.stateNode,typeof t.componentWillUnmount=="function"))try{t.props=s.memoizedProps,t.state=s.memoizedState,t.componentWillUnmount()}catch(a){H(s,e,a)}en(l,e,s);break;case 21:en(l,e,s);break;case 22:s.mode&1?(oe=(t=oe)||s.memoizedState!==null,en(l,e,s),oe=t):en(l,e,s);break;default:en(l,e,s)}}function jc(l){var e=l.updateQueue;if(e!==null){l.updateQueue=null;var s=l.stateNode;s===null&&(s=l.stateNode=new g4),e.forEach(function(t){var r=T4.bind(null,l,t);s.has(t)||(s.add(t),t.then(r,r))})}}function Me(l,e){var s=e.deletions;if(s!==null)for(var t=0;t<s.length;t++){var r=s[t];try{var o=l,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:ne=a.stateNode,Ne=!1;break e;case 3:ne=a.stateNode.containerInfo,Ne=!0;break e;case 4:ne=a.stateNode.containerInfo,Ne=!0;break e}a=a.return}if(ne===null)throw Error(m(160));Vp(o,i,r),ne=null,Ne=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){H(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hp(e,l),e=e.sibling}function Hp(l,e){var s=l.alternate,t=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Me(e,l),Ie(l),t&4){try{Ol(3,l,l.return),At(3,l)}catch(C){H(l,l.return,C)}try{Ol(5,l,l.return)}catch(C){H(l,l.return,C)}}break;case 1:Me(e,l),Ie(l),t&512&&s!==null&&Yn(s,s.return);break;case 5:if(Me(e,l),Ie(l),t&512&&s!==null&&Yn(s,s.return),l.flags&32){var r=l.stateNode;try{bl(r,"")}catch(C){H(l,l.return,C)}}if(t&4&&(r=l.stateNode,r!=null)){var o=l.memoizedProps,i=s!==null?s.memoizedProps:o,a=l.type,c=l.updateQueue;if(l.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&ph(r,o),Cr(a,i);var d=Cr(a,o);for(i=0;i<c.length;i+=2){var j=c[i],x=c[i+1];j==="style"?fh(r,x):j==="dangerouslySetInnerHTML"?jh(r,x):j==="children"?bl(r,x):po(r,j,x,d)}switch(a){case"input":yr(r,o);break;case"textarea":uh(r,o);break;case"select":var y=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?Zn(r,!!o.multiple,E,!1):y!==!!o.multiple&&(o.defaultValue!=null?Zn(r,!!o.multiple,o.defaultValue,!0):Zn(r,!!o.multiple,o.multiple?[]:"",!1))}r[Yl]=o}catch(C){H(l,l.return,C)}}break;case 6:if(Me(e,l),Ie(l),t&4){if(l.stateNode===null)throw Error(m(162));r=l.stateNode,o=l.memoizedProps;try{r.nodeValue=o}catch(C){H(l,l.return,C)}}break;case 3:if(Me(e,l),Ie(l),t&4&&s!==null&&s.memoizedState.isDehydrated)try{Xl(e.containerInfo)}catch(C){H(l,l.return,C)}break;case 4:Me(e,l),Ie(l);break;case 13:Me(e,l),Ie(l),r=l.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Ho=Q())),t&4&&jc(l);break;case 22:if(j=s!==null&&s.memoizedState!==null,l.mode&1?(oe=(d=oe)||j,Me(e,l),oe=d):Me(e,l),Ie(l),t&8192){if(d=l.memoizedState!==null,(l.stateNode.isHidden=d)&&!j&&l.mode&1)for(A=l,j=l.child;j!==null;){for(x=A=j;A!==null;){switch(y=A,E=y.child,y.tag){case 0:case 11:case 14:case 15:Ol(4,y,y.return);break;case 1:Yn(y,y.return);var g=y.stateNode;if(typeof g.componentWillUnmount=="function"){t=y,s=y.return;try{e=t,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(C){H(t,s,C)}}break;case 5:Yn(y,y.return);break;case 22:if(y.memoizedState!==null){fc(x);continue}}E!==null?(E.return=y,A=E):fc(x)}j=j.sibling}e:for(j=null,x=l;;){if(x.tag===5){if(j===null){j=x;try{r=x.stateNode,d?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=x.stateNode,c=x.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=yh("display",i))}catch(C){H(l,l.return,C)}}}else if(x.tag===6){if(j===null)try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(C){H(l,l.return,C)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===l)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===l)break e;for(;x.sibling===null;){if(x.return===null||x.return===l)break e;j===x&&(j=null),x=x.return}j===x&&(j=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Me(e,l),Ie(l),t&4&&jc(l);break;case 21:break;default:Me(e,l),Ie(l)}}function Ie(l){var e=l.flags;if(e&2){try{e:{for(var s=l.return;s!==null;){if(Up(s)){var t=s;break e}s=s.return}throw Error(m(160))}switch(t.tag){case 5:var r=t.stateNode;t.flags&32&&(bl(r,""),t.flags&=-33);var o=xc(l);Yr(l,o,r);break;case 3:case 4:var i=t.stateNode.containerInfo,a=xc(l);qr(l,a,i);break;default:throw Error(m(161))}}catch(c){H(l,l.return,c)}l.flags&=-3}e&4096&&(l.flags&=-4097)}function v4(l,e,s){A=l,Xp(l)}function Xp(l,e,s){for(var t=(l.mode&1)!==0;A!==null;){var r=A,o=r.child;if(r.tag===22&&t){var i=r.memoizedState!==null||ws;if(!i){var a=r.alternate,c=a!==null&&a.memoizedState!==null||oe;a=ws;var d=oe;if(ws=i,(oe=c)&&!d)for(A=r;A!==null;)i=A,c=i.child,i.tag===22&&i.memoizedState!==null?mc(r):c!==null?(c.return=i,A=c):mc(r);for(;o!==null;)A=o,Xp(o),o=o.sibling;A=r,ws=a,oe=d}yc(l)}else r.subtreeFlags&8772&&o!==null?(o.return=r,A=o):yc(l)}}function yc(l){for(;A!==null;){var e=A;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:oe||At(5,e);break;case 1:var t=e.stateNode;if(e.flags&4&&!oe)if(s===null)t.componentDidMount();else{var r=e.elementType===e.type?s.memoizedProps:Re(e.type,s.memoizedProps);t.componentDidUpdate(r,s.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Za(e,o,t);break;case 3:var i=e.updateQueue;if(i!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}Za(e,i,s)}break;case 5:var a=e.stateNode;if(s===null&&e.flags&4){s=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var j=d.memoizedState;if(j!==null){var x=j.dehydrated;x!==null&&Xl(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(m(163))}oe||e.flags&512&&Kr(e)}catch(y){H(e,e.return,y)}}if(e===l){A=null;break}if(s=e.sibling,s!==null){s.return=e.return,A=s;break}A=e.return}}function fc(l){for(;A!==null;){var e=A;if(e===l){A=null;break}var s=e.sibling;if(s!==null){s.return=e.return,A=s;break}A=e.return}}function mc(l){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{At(4,e)}catch(c){H(e,s,c)}break;case 1:var t=e.stateNode;if(typeof t.componentDidMount=="function"){var r=e.return;try{t.componentDidMount()}catch(c){H(e,r,c)}}var o=e.return;try{Kr(e)}catch(c){H(e,o,c)}break;case 5:var i=e.return;try{Kr(e)}catch(c){H(e,i,c)}}}catch(c){H(e,e.return,c)}if(e===l){A=null;break}var a=e.sibling;if(a!==null){a.return=e.return,A=a;break}A=e.return}}var A4=Math.ceil,at=Ze.ReactCurrentDispatcher,Uo=Ze.ReactCurrentOwner,we=Ze.ReactCurrentBatchConfig,L=0,ee=null,K=null,le=0,Ee=0,Jn=gn(0),Y=0,ss=null,Ln=0,Dt=0,Vo=0,Il=null,ue=null,Ho=0,hl=1/0,Ve=null,ct=!1,Jr=null,xn=null,Ss=!1,on=null,dt=0,zl=0,Zr=null,zs=-1,Gs=0;function de(){return L&6?Q():zs!==-1?zs:zs=Q()}function jn(l){return l.mode&1?L&2&&le!==0?le&-le:o4.transition!==null?(Gs===0&&(Gs=Sh()),Gs):(l=$,l!==0||(l=window.event,l=l===void 0?16:Lh(l.type)),l):1}function $e(l,e,s,t){if(50<zl)throw zl=0,Zr=null,Error(m(185));is(l,s,t),(!(L&2)||l!==ee)&&(l===ee&&(!(L&2)&&(Dt|=s),Y===4&&tn(l,le)),fe(l,t),s===1&&L===0&&!(e.mode&1)&&(hl=Q()+500,gt&&Cn()))}function fe(l,e){var s=l.callbackNode;om(l,e);var t=Ws(l,l===ee?le:0);if(t===0)s!==null&&Fa(s),l.callbackNode=null,l.callbackPriority=0;else if(e=t&-t,l.callbackPriority!==e){if(s!=null&&Fa(s),e===1)l.tag===0?r4(Ec.bind(null,l)):np(Ec.bind(null,l)),n4(function(){!(L&6)&&Cn()}),s=null;else{switch(Th(t)){case 1:s=fo;break;case 4:s=Fh;break;case 16:s=Xs;break;case 536870912:s=wh;break;default:s=Xs}s=eu(s,Wp.bind(null,l))}l.callbackPriority=e,l.callbackNode=s}}function Wp(l,e){if(zs=-1,Gs=0,L&6)throw Error(m(327));var s=l.callbackNode;if(tl()&&l.callbackNode!==s)return null;var t=Ws(l,l===ee?le:0);if(t===0)return null;if(t&30||t&l.expiredLanes||e)e=ht(l,t);else{e=t;var r=L;L|=2;var o=Kp();(ee!==l||le!==e)&&(Ve=null,hl=Q()+500,Tn(l,e));do try{k4();break}catch(a){Qp(l,a)}while(!0);To(),at.current=o,L=r,K!==null?e=0:(ee=null,le=0,e=Y)}if(e!==0){if(e===2&&(r=kr(l),r!==0&&(t=r,e=eo(l,r))),e===1)throw s=ss,Tn(l,0),tn(l,t),fe(l,Q()),s;if(e===6)tn(l,t);else{if(r=l.current.alternate,!(t&30)&&!D4(r)&&(e=ht(l,t),e===2&&(o=kr(l),o!==0&&(t=o,e=eo(l,o))),e===1))throw s=ss,Tn(l,0),tn(l,t),fe(l,Q()),s;switch(l.finishedWork=r,l.finishedLanes=t,e){case 0:case 1:throw Error(m(345));case 2:_n(l,ue,Ve);break;case 3:if(tn(l,t),(t&130023424)===t&&(e=Ho+500-Q(),10<e)){if(Ws(l,0)!==0)break;if(r=l.suspendedLanes,(r&t)!==t){de(),l.pingedLanes|=l.suspendedLanes&r;break}l.timeoutHandle=Nr(_n.bind(null,l,ue,Ve),e);break}_n(l,ue,Ve);break;case 4:if(tn(l,t),(t&4194240)===t)break;for(e=l.eventTimes,r=-1;0<t;){var i=31-Le(t);o=1<<i,i=e[i],i>r&&(r=i),t&=~o}if(t=r,t=Q()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*A4(t/1960))-t,10<t){l.timeoutHandle=Nr(_n.bind(null,l,ue,Ve),t);break}_n(l,ue,Ve);break;case 5:_n(l,ue,Ve);break;default:throw Error(m(329))}}}return fe(l,Q()),l.callbackNode===s?Wp.bind(null,l):null}function eo(l,e){var s=Il;return l.current.memoizedState.isDehydrated&&(Tn(l,e).flags|=256),l=ht(l,e),l!==2&&(e=ue,ue=s,e!==null&&no(e)),l}function no(l){ue===null?ue=l:ue.push.apply(ue,l)}function D4(l){for(var e=l;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var t=0;t<s.length;t++){var r=s[t],o=r.getSnapshot;r=r.value;try{if(!Oe(o(),r))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===l)break;for(;e.sibling===null;){if(e.return===null||e.return===l)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tn(l,e){for(e&=~Vo,e&=~Dt,l.suspendedLanes|=e,l.pingedLanes&=~e,l=l.expirationTimes;0<e;){var s=31-Le(e),t=1<<s;l[s]=-1,e&=~t}}function Ec(l){if(L&6)throw Error(m(327));tl();var e=Ws(l,0);if(!(e&1))return fe(l,Q()),null;var s=ht(l,e);if(l.tag!==0&&s===2){var t=kr(l);t!==0&&(e=t,s=eo(l,t))}if(s===1)throw s=ss,Tn(l,0),tn(l,e),fe(l,Q()),s;if(s===6)throw Error(m(345));return l.finishedWork=l.current.alternate,l.finishedLanes=e,_n(l,ue,Ve),fe(l,Q()),null}function Xo(l,e){var s=L;L|=1;try{return l(e)}finally{L=s,L===0&&(hl=Q()+500,gt&&Cn())}}function $n(l){on!==null&&on.tag===0&&!(L&6)&&tl();var e=L;L|=1;var s=we.transition,t=$;try{if(we.transition=null,$=1,l)return l()}finally{$=t,we.transition=s,L=e,!(L&6)&&Cn()}}function Wo(){Ee=Jn.current,z(Jn)}function Tn(l,e){l.finishedWork=null,l.finishedLanes=0;var s=l.timeoutHandle;if(s!==-1&&(l.timeoutHandle=-1,e4(s)),K!==null)for(s=K.return;s!==null;){var t=s;switch(Fo(t),t.tag){case 1:t=t.type.childContextTypes,t!=null&&Js();break;case 3:cl(),z(je),z(ae),Lo();break;case 5:Bo(t);break;case 4:cl();break;case 13:z(b);break;case 19:z(b);break;case 10:Po(t.type._context);break;case 22:case 23:Wo()}s=s.return}if(ee=l,K=l=yn(l.current,null),le=Ee=e,Y=0,ss=null,Vo=Dt=Ln=0,ue=Il=null,wn!==null){for(e=0;e<wn.length;e++)if(s=wn[e],t=s.interleaved,t!==null){s.interleaved=null;var r=t.next,o=s.pending;if(o!==null){var i=o.next;o.next=r,t.next=i}s.pending=t}wn=null}return l}function Qp(l,e){do{var s=K;try{if(To(),$s.current=it,ot){for(var t=U.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ot=!1}if(Bn=0,Z=q=U=null,$l=!1,es=0,Uo.current=null,s===null||s.return===null){Y=1,ss=e,K=null;break}e:{var o=l,i=s.return,a=s,c=e;if(e=le,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,j=a,x=j.tag;if(!(j.mode&1)&&(x===0||x===11||x===15)){var y=j.alternate;y?(j.updateQueue=y.updateQueue,j.memoizedState=y.memoizedState,j.lanes=y.lanes):(j.updateQueue=null,j.memoizedState=null)}var E=oc(i);if(E!==null){E.flags&=-257,ic(E,i,a,o,e),E.mode&1&&rc(o,d,e),e=E,c=d;var g=e.updateQueue;if(g===null){var C=new Set;C.add(c),e.updateQueue=C}else g.add(c);break e}else{if(!(e&1)){rc(o,d,e),Qo();break e}c=Error(m(426))}}else if(G&&a.mode&1){var D=oc(i);if(D!==null){!(D.flags&65536)&&(D.flags|=256),ic(D,i,a,o,e),wo(dl(c,a));break e}}o=c=dl(c,a),Y!==4&&(Y=2),Il===null?Il=[o]:Il.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=Pp(o,c,e);Ja(o,p);break e;case 1:a=c;var h=o.type,u=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(xn===null||!xn.has(u)))){o.flags|=65536,e&=-e,o.lanes|=e;var f=Mp(o,a,e);Ja(o,f);break e}}o=o.return}while(o!==null)}Yp(s)}catch(v){e=v,K===s&&s!==null&&(K=s=s.return);continue}break}while(!0)}function Kp(){var l=at.current;return at.current=it,l===null?it:l}function Qo(){(Y===0||Y===3||Y===2)&&(Y=4),ee===null||!(Ln&268435455)&&!(Dt&268435455)||tn(ee,le)}function ht(l,e){var s=L;L|=2;var t=Kp();(ee!==l||le!==e)&&(Ve=null,Tn(l,e));do try{_4();break}catch(r){Qp(l,r)}while(!0);if(To(),L=s,at.current=t,K!==null)throw Error(m(261));return ee=null,le=0,Y}function _4(){for(;K!==null;)qp(K)}function k4(){for(;K!==null&&!Yf();)qp(K)}function qp(l){var e=Zp(l.alternate,l,Ee);l.memoizedProps=l.pendingProps,e===null?Yp(l):K=e,Uo.current=null}function Yp(l){var e=l;do{var s=e.alternate;if(l=e.return,e.flags&32768){if(s=E4(s,e),s!==null){s.flags&=32767,K=s;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Y=6,K=null;return}}else if(s=m4(s,e,Ee),s!==null){K=s;return}if(e=e.sibling,e!==null){K=e;return}K=e=l}while(e!==null);Y===0&&(Y=5)}function _n(l,e,s){var t=$,r=we.transition;try{we.transition=null,$=1,F4(l,e,s,t)}finally{we.transition=r,$=t}return null}function F4(l,e,s,t){do tl();while(on!==null);if(L&6)throw Error(m(327));s=l.finishedWork;var r=l.finishedLanes;if(s===null)return null;if(l.finishedWork=null,l.finishedLanes=0,s===l.current)throw Error(m(177));l.callbackNode=null,l.callbackPriority=0;var o=s.lanes|s.childLanes;if(im(l,o),l===ee&&(K=ee=null,le=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ss||(Ss=!0,eu(Xs,function(){return tl(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=we.transition,we.transition=null;var i=$;$=1;var a=L;L|=4,Uo.current=null,C4(l,s),Hp(s,l),Wm(Mr),Qs=!!Pr,Mr=Pr=null,l.current=s,v4(s),Jf(),L=a,$=i,we.transition=o}else l.current=s;if(Ss&&(Ss=!1,on=l,dt=r),o=l.pendingLanes,o===0&&(xn=null),nm(s.stateNode),fe(l,Q()),e!==null)for(t=l.onRecoverableError,s=0;s<e.length;s++)r=e[s],t(r.value,{componentStack:r.stack,digest:r.digest});if(ct)throw ct=!1,l=Jr,Jr=null,l;return dt&1&&l.tag!==0&&tl(),o=l.pendingLanes,o&1?l===Zr?zl++:(zl=0,Zr=l):zl=0,Cn(),null}function tl(){if(on!==null){var l=Th(dt),e=we.transition,s=$;try{if(we.transition=null,$=16>l?16:l,on===null)var t=!1;else{if(l=on,on=null,dt=0,L&6)throw Error(m(331));var r=L;for(L|=4,A=l.current;A!==null;){var o=A,i=o.child;if(A.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(A=d;A!==null;){var j=A;switch(j.tag){case 0:case 11:case 15:Ol(8,j,o)}var x=j.child;if(x!==null)x.return=j,A=x;else for(;A!==null;){j=A;var y=j.sibling,E=j.return;if(bp(j),j===d){A=null;break}if(y!==null){y.return=E,A=y;break}A=E}}}var g=o.alternate;if(g!==null){var C=g.child;if(C!==null){g.child=null;do{var D=C.sibling;C.sibling=null,C=D}while(C!==null)}}A=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,A=i;else e:for(;A!==null;){if(o=A,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ol(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,A=p;break e}A=o.return}}var h=l.current;for(A=h;A!==null;){i=A;var u=i.child;if(i.subtreeFlags&2064&&u!==null)u.return=i,A=u;else e:for(i=h;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:At(9,a)}}catch(v){H(a,a.return,v)}if(a===i){A=null;break e}var f=a.sibling;if(f!==null){f.return=a.return,A=f;break e}A=a.return}}if(L=r,Cn(),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(jt,l)}catch{}t=!0}return t}finally{$=s,we.transition=e}}return!1}function gc(l,e,s){e=dl(s,e),e=Pp(l,e,1),l=un(l,e,1),e=de(),l!==null&&(is(l,1,e),fe(l,e))}function H(l,e,s){if(l.tag===3)gc(l,l,s);else for(;e!==null;){if(e.tag===3){gc(e,l,s);break}else if(e.tag===1){var t=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof t.componentDidCatch=="function"&&(xn===null||!xn.has(t))){l=dl(s,l),l=Mp(e,l,1),e=un(e,l,1),l=de(),e!==null&&(is(e,1,l),fe(e,l));break}}e=e.return}}function w4(l,e,s){var t=l.pingCache;t!==null&&t.delete(e),e=de(),l.pingedLanes|=l.suspendedLanes&s,ee===l&&(le&s)===s&&(Y===4||Y===3&&(le&130023424)===le&&500>Q()-Ho?Tn(l,0):Vo|=s),fe(l,e)}function Jp(l,e){e===0&&(l.mode&1?(e=Es,Es<<=1,!(Es&130023424)&&(Es=4194304)):e=1);var s=de();l=Ye(l,e),l!==null&&(is(l,e,s),fe(l,s))}function S4(l){var e=l.memoizedState,s=0;e!==null&&(s=e.retryLane),Jp(l,s)}function T4(l,e){var s=0;switch(l.tag){case 13:var t=l.stateNode,r=l.memoizedState;r!==null&&(s=r.retryLane);break;case 19:t=l.stateNode;break;default:throw Error(m(314))}t!==null&&t.delete(e),Jp(l,s)}var Zp;Zp=function(l,e,s){if(l!==null)if(l.memoizedProps!==e.pendingProps||je.current)xe=!0;else{if(!(l.lanes&s)&&!(e.flags&128))return xe=!1,f4(l,e,s);xe=!!(l.flags&131072)}else xe=!1,G&&e.flags&1048576&&lp(e,nt,e.index);switch(e.lanes=0,e.tag){case 2:var t=e.type;Is(l,e),l=e.pendingProps;var r=ol(e,ae.current);sl(e,s),r=Oo(null,e,t,l,r,s);var o=Io();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ye(t)?(o=!0,Zs(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ro(e),r.updater=Ct,e.stateNode=r,r._reactInternals=e,Gr(e,t,l,s),e=Vr(null,e,t,!0,o,s)):(e.tag=0,G&&o&&ko(e),ce(null,e,r,s),e=e.child),e;case 16:t=e.elementType;e:{switch(Is(l,e),l=e.pendingProps,r=t._init,t=r(t._payload),e.type=t,r=e.tag=M4(t),l=Re(t,l),r){case 0:e=Ur(null,e,t,l,s);break e;case 1:e=dc(null,e,t,l,s);break e;case 11:e=ac(null,e,t,l,s);break e;case 14:e=cc(null,e,t,Re(t.type,l),s);break e}throw Error(m(306,t,""))}return e;case 0:return t=e.type,r=e.pendingProps,r=e.elementType===t?r:Re(t,r),Ur(l,e,t,r,s);case 1:return t=e.type,r=e.pendingProps,r=e.elementType===t?r:Re(t,r),dc(l,e,t,r,s);case 3:e:{if(Lp(e),l===null)throw Error(m(387));t=e.pendingProps,o=e.memoizedState,r=o.element,op(l,e),tt(e,t,null,s);var i=e.memoizedState;if(t=i.element,o.isDehydrated)if(o={element:t,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=dl(Error(m(423)),e),e=hc(l,e,t,s,r);break e}else if(t!==r){r=dl(Error(m(424)),e),e=hc(l,e,t,s,r);break e}else for(ge=pn(e.stateNode.containerInfo.firstChild),Ce=e,G=!0,Be=null,s=dp(e,null,t,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(il(),t===r){e=Je(l,e,s);break e}ce(l,e,t,s)}e=e.child}return e;case 5:return hp(e),l===null&&Or(e),t=e.type,r=e.pendingProps,o=l!==null?l.memoizedProps:null,i=r.children,Rr(t,r)?i=null:o!==null&&Rr(t,o)&&(e.flags|=32),Bp(l,e),ce(l,e,i,s),e.child;case 6:return l===null&&Or(e),null;case 13:return $p(l,e,s);case 4:return No(e,e.stateNode.containerInfo),t=e.pendingProps,l===null?e.child=al(e,null,t,s):ce(l,e,t,s),e.child;case 11:return t=e.type,r=e.pendingProps,r=e.elementType===t?r:Re(t,r),ac(l,e,t,r,s);case 7:return ce(l,e,e.pendingProps,s),e.child;case 8:return ce(l,e,e.pendingProps.children,s),e.child;case 12:return ce(l,e,e.pendingProps.children,s),e.child;case 10:e:{if(t=e.type._context,r=e.pendingProps,o=e.memoizedProps,i=r.value,O(lt,t._currentValue),t._currentValue=i,o!==null)if(Oe(o.value,i)){if(o.children===r.children&&!je.current){e=Je(l,e,s);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===t){if(o.tag===1){c=Qe(-1,s&-s),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var j=d.pending;j===null?c.next=c:(c.next=j.next,j.next=c),d.pending=c}}o.lanes|=s,c=o.alternate,c!==null&&(c.lanes|=s),Ir(o.return,s,e),a.lanes|=s;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(m(341));i.lanes|=s,a=i.alternate,a!==null&&(a.lanes|=s),Ir(i,s,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ce(l,e,r.children,s),e=e.child}return e;case 9:return r=e.type,t=e.pendingProps.children,sl(e,s),r=Se(r),t=t(r),e.flags|=1,ce(l,e,t,s),e.child;case 14:return t=e.type,r=Re(t,e.pendingProps),r=Re(t.type,r),cc(l,e,t,r,s);case 15:return Rp(l,e,e.type,e.pendingProps,s);case 17:return t=e.type,r=e.pendingProps,r=e.elementType===t?r:Re(t,r),Is(l,e),e.tag=1,ye(t)?(l=!0,Zs(e)):l=!1,sl(e,s),ap(e,t,r),Gr(e,t,r,s),Vr(null,e,t,!0,l,s);case 19:return Op(l,e,s);case 22:return Np(l,e,s)}throw Error(m(156,e.tag))};function eu(l,e){return kh(l,e)}function P4(l,e,s,t){this.tag=l,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(l,e,s,t){return new P4(l,e,s,t)}function Ko(l){return l=l.prototype,!(!l||!l.isReactComponent)}function M4(l){if(typeof l=="function")return Ko(l)?1:0;if(l!=null){if(l=l.$$typeof,l===xo)return 11;if(l===jo)return 14}return 2}function yn(l,e){var s=l.alternate;return s===null?(s=Fe(l.tag,e,l.key,l.mode),s.elementType=l.elementType,s.type=l.type,s.stateNode=l.stateNode,s.alternate=l,l.alternate=s):(s.pendingProps=e,s.type=l.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=l.flags&14680064,s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=l.sibling,s.index=l.index,s.ref=l.ref,s}function bs(l,e,s,t,r,o){var i=2;if(t=l,typeof l=="function")Ko(l)&&(i=1);else if(typeof l=="string")i=5;else e:switch(l){case bn:return Pn(s.children,r,o,e);case uo:i=8,r|=8;break;case hr:return l=Fe(12,s,e,r|2),l.elementType=hr,l.lanes=o,l;case pr:return l=Fe(13,s,e,r),l.elementType=pr,l.lanes=o,l;case ur:return l=Fe(19,s,e,r),l.elementType=ur,l.lanes=o,l;case ch:return _t(s,r,o,e);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case ih:i=10;break e;case ah:i=9;break e;case xo:i=11;break e;case jo:i=14;break e;case nn:i=16,t=null;break e}throw Error(m(130,l==null?l:typeof l,""))}return e=Fe(i,s,e,r),e.elementType=l,e.type=t,e.lanes=o,e}function Pn(l,e,s,t){return l=Fe(7,l,t,e),l.lanes=s,l}function _t(l,e,s,t){return l=Fe(22,l,t,e),l.elementType=ch,l.lanes=s,l.stateNode={isHidden:!1},l}function or(l,e,s){return l=Fe(6,l,null,e),l.lanes=s,l}function ir(l,e,s){return e=Fe(4,l.children!==null?l.children:[],l.key,e),e.lanes=s,e.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},e}function R4(l,e,s,t,r){this.tag=e,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gt(0),this.expirationTimes=Gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.identifierPrefix=t,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function qo(l,e,s,t,r,o,i,a,c){return l=new R4(l,e,s,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Fe(3,null,null,e),l.current=o,o.stateNode=l,o.memoizedState={element:t,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),l}function N4(l,e,s){var t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:t==null?null:""+t,children:l,containerInfo:e,implementation:s}}function nu(l){if(!l)return mn;l=l._reactInternals;e:{if(In(l)!==l||l.tag!==1)throw Error(m(170));var e=l;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ye(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(m(171))}if(l.tag===1){var s=l.type;if(ye(s))return ep(l,s,e)}return e}function lu(l,e,s,t,r,o,i,a,c){return l=qo(s,t,!0,l,r,o,i,a,c),l.context=nu(null),s=l.current,t=de(),r=jn(s),o=Qe(t,r),o.callback=e??null,un(s,o,r),l.current.lanes=r,is(l,r,t),fe(l,t),l}function kt(l,e,s,t){var r=e.current,o=de(),i=jn(r);return s=nu(s),e.context===null?e.context=s:e.pendingContext=s,e=Qe(o,i),e.payload={element:l},t=t===void 0?null:t,t!==null&&(e.callback=t),l=un(r,e,i),l!==null&&($e(l,r,i,o),Ls(l,r,i)),i}function pt(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Cc(l,e){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var s=l.retryLane;l.retryLane=s!==0&&s<e?s:e}}function Yo(l,e){Cc(l,e),(l=l.alternate)&&Cc(l,e)}function B4(){return null}var su=typeof reportError=="function"?reportError:function(l){console.error(l)};function Jo(l){this._internalRoot=l}Ft.prototype.render=Jo.prototype.render=function(l){var e=this._internalRoot;if(e===null)throw Error(m(409));kt(l,e,null,null)};Ft.prototype.unmount=Jo.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var e=l.containerInfo;$n(function(){kt(null,l,null,null)}),e[qe]=null}};function Ft(l){this._internalRoot=l}Ft.prototype.unstable_scheduleHydration=function(l){if(l){var e=Rh();l={blockedOn:null,target:l,priority:e};for(var s=0;s<sn.length&&e!==0&&e<sn[s].priority;s++);sn.splice(s,0,l),s===0&&Bh(l)}};function Zo(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function wt(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function vc(){}function L4(l,e,s,t,r){if(r){if(typeof t=="function"){var o=t;t=function(){var d=pt(i);o.call(d)}}var i=lu(e,t,l,0,null,!1,!1,"",vc);return l._reactRootContainer=i,l[qe]=i.current,Kl(l.nodeType===8?l.parentNode:l),$n(),i}for(;r=l.lastChild;)l.removeChild(r);if(typeof t=="function"){var a=t;t=function(){var d=pt(c);a.call(d)}}var c=qo(l,0,!1,null,null,!1,!1,"",vc);return l._reactRootContainer=c,l[qe]=c.current,Kl(l.nodeType===8?l.parentNode:l),$n(function(){kt(e,c,s,t)}),c}function St(l,e,s,t,r){var o=s._reactRootContainer;if(o){var i=o;if(typeof r=="function"){var a=r;r=function(){var c=pt(i);a.call(c)}}kt(e,i,l,r)}else i=L4(s,e,l,r,t);return pt(i)}Ph=function(l){switch(l.tag){case 3:var e=l.stateNode;if(e.current.memoizedState.isDehydrated){var s=Tl(e.pendingLanes);s!==0&&(mo(e,s|1),fe(e,Q()),!(L&6)&&(hl=Q()+500,Cn()))}break;case 13:$n(function(){var t=Ye(l,1);if(t!==null){var r=de();$e(t,l,1,r)}}),Yo(l,1)}};Eo=function(l){if(l.tag===13){var e=Ye(l,134217728);if(e!==null){var s=de();$e(e,l,134217728,s)}Yo(l,134217728)}};Mh=function(l){if(l.tag===13){var e=jn(l),s=Ye(l,e);if(s!==null){var t=de();$e(s,l,e,t)}Yo(l,e)}};Rh=function(){return $};Nh=function(l,e){var s=$;try{return $=l,e()}finally{$=s}};Ar=function(l,e,s){switch(e){case"input":if(yr(l,s),e=s.name,s.type==="radio"&&e!=null){for(s=l;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var t=s[e];if(t!==l&&t.form===l.form){var r=Et(t);if(!r)throw Error(m(90));hh(t),yr(t,r)}}}break;case"textarea":uh(l,s);break;case"select":e=s.value,e!=null&&Zn(l,!!s.multiple,e,!1)}};gh=Xo;Ch=$n;var $4={usingClientEntryPoint:!1,Events:[cs,Xn,Et,mh,Eh,Xo]},Fl={findFiberByHostInstance:Fn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},O4={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ze.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Dh(l),l===null?null:l.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance||B4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{jt=Ts.inject(O4),be=Ts}catch{}}Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$4;Ae.createPortal=function(l,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zo(e))throw Error(m(200));return N4(l,e,null,s)};Ae.createRoot=function(l,e){if(!Zo(l))throw Error(m(299));var s=!1,t="",r=su;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(t=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=qo(l,1,!1,null,null,s,!1,t,r),l[qe]=e.current,Kl(l.nodeType===8?l.parentNode:l),new Jo(e)};Ae.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var e=l._reactInternals;if(e===void 0)throw typeof l.render=="function"?Error(m(188)):(l=Object.keys(l).join(","),Error(m(268,l)));return l=Dh(e),l=l===null?null:l.stateNode,l};Ae.flushSync=function(l){return $n(l)};Ae.hydrate=function(l,e,s){if(!wt(e))throw Error(m(200));return St(null,l,e,!0,s)};Ae.hydrateRoot=function(l,e,s){if(!Zo(l))throw Error(m(405));var t=s!=null&&s.hydratedSources||null,r=!1,o="",i=su;if(s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),e=lu(e,null,l,1,s??null,r,!1,o,i),l[qe]=e.current,Kl(l),t)for(l=0;l<t.length;l++)s=t[l],r=s._getVersion,r=r(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,r]:e.mutableSourceEagerHydrationData.push(s,r);return new Ft(e)};Ae.render=function(l,e,s){if(!wt(e))throw Error(m(200));return St(null,l,e,!1,s)};Ae.unmountComponentAtNode=function(l){if(!wt(l))throw Error(m(40));return l._reactRootContainer?($n(function(){St(null,null,l,!1,function(){l._reactRootContainer=null,l[qe]=null})}),!0):!1};Ae.unstable_batchedUpdates=Xo;Ae.unstable_renderSubtreeIntoContainer=function(l,e,s,t){if(!wt(s))throw Error(m(200));if(l==null||l._reactInternals===void 0)throw Error(m(38));return St(l,e,s,!1,t)};Ae.version="18.2.0-next-9e3b772b8-20220608";function tu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tu)}catch(l){console.error(l)}}tu(),lh.exports=Ae;var I4=lh.exports;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ts(){return ts=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(l[t]=s[t])}return l},ts.apply(this,arguments)}var an;(function(l){l.Pop="POP",l.Push="PUSH",l.Replace="REPLACE"})(an||(an={}));const Ac="popstate";function z4(l){l===void 0&&(l={});function e(t,r){let{pathname:o,search:i,hash:a}=t.location;return lo("",{pathname:o,search:i,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function s(t,r){return typeof r=="string"?r:ru(r)}return b4(e,s,null,l)}function ie(l,e){if(l===!1||l===null||typeof l>"u")throw new Error(e)}function ei(l,e){if(!l){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G4(){return Math.random().toString(36).substr(2,8)}function Dc(l,e){return{usr:l.state,key:l.key,idx:e}}function lo(l,e,s,t){return s===void 0&&(s=null),ts({pathname:typeof l=="string"?l:l.pathname,search:"",hash:""},typeof e=="string"?jl(e):e,{state:s,key:e&&e.key||t||G4()})}function ru(l){let{pathname:e="/",search:s="",hash:t=""}=l;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function jl(l){let e={};if(l){let s=l.indexOf("#");s>=0&&(e.hash=l.substr(s),l=l.substr(0,s));let t=l.indexOf("?");t>=0&&(e.search=l.substr(t),l=l.substr(0,t)),l&&(e.pathname=l)}return e}function b4(l,e,s,t){t===void 0&&(t={});let{window:r=document.defaultView,v5Compat:o=!1}=t,i=r.history,a=an.Pop,c=null,d=j();d==null&&(d=0,i.replaceState(ts({},i.state,{idx:d}),""));function j(){return(i.state||{idx:null}).idx}function x(){a=an.Pop;let D=j(),p=D==null?null:D-d;d=D,c&&c({action:a,location:C.location,delta:p})}function y(D,p){a=an.Push;let h=lo(C.location,D,p);s&&s(h,D),d=j()+1;let u=Dc(h,d),f=C.createHref(h);try{i.pushState(u,"",f)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;r.location.assign(f)}o&&c&&c({action:a,location:C.location,delta:1})}function E(D,p){a=an.Replace;let h=lo(C.location,D,p);s&&s(h,D),d=j();let u=Dc(h,d),f=C.createHref(h);i.replaceState(u,"",f),o&&c&&c({action:a,location:C.location,delta:0})}function g(D){let p=r.location.origin!=="null"?r.location.origin:r.location.href,h=typeof D=="string"?D:ru(D);return ie(p,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,p)}let C={get action(){return a},get location(){return l(r,i)},listen(D){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Ac,x),c=D,()=>{r.removeEventListener(Ac,x),c=null}},createHref(D){return e(r,D)},createURL:g,encodeLocation(D){let p=g(D);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:y,replace:E,go(D){return i.go(D)}};return C}var _c;(function(l){l.data="data",l.deferred="deferred",l.redirect="redirect",l.error="error"})(_c||(_c={}));function U4(l,e,s){s===void 0&&(s="/");let t=typeof e=="string"?jl(e):e,r=au(t.pathname||"/",s);if(r==null)return null;let o=ou(l);V4(o);let i=null;for(let a=0;i==null&&a<o.length;++a)i=Z4(o[a],lE(r));return i}function ou(l,e,s,t){e===void 0&&(e=[]),s===void 0&&(s=[]),t===void 0&&(t="");let r=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(ie(c.relativePath.startsWith(t),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+t+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(t.length));let d=Mn([t,c.relativePath]),j=s.concat(c);o.children&&o.children.length>0&&(ie(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ou(o.children,e,j,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:Y4(d,o.index),routesMeta:j})};return l.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))r(o,i);else for(let c of iu(o.path))r(o,i,c)}),e}function iu(l){let e=l.split("/");if(e.length===0)return[];let[s,...t]=e,r=s.endsWith("?"),o=s.replace(/\?$/,"");if(t.length===0)return r?[o,""]:[o];let i=iu(t.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),r&&a.push(...i),a.map(c=>l.startsWith("/")&&c===""?"/":c)}function V4(l){l.sort((e,s)=>e.score!==s.score?s.score-e.score:J4(e.routesMeta.map(t=>t.childrenIndex),s.routesMeta.map(t=>t.childrenIndex)))}const H4=/^:[\w-]+$/,X4=3,W4=2,Q4=1,K4=10,q4=-2,kc=l=>l==="*";function Y4(l,e){let s=l.split("/"),t=s.length;return s.some(kc)&&(t+=q4),e&&(t+=W4),s.filter(r=>!kc(r)).reduce((r,o)=>r+(H4.test(o)?X4:o===""?Q4:K4),t)}function J4(l,e){return l.length===e.length&&l.slice(0,-1).every((t,r)=>t===e[r])?l[l.length-1]-e[e.length-1]:0}function Z4(l,e){let{routesMeta:s}=l,t={},r="/",o=[];for(let i=0;i<s.length;++i){let a=s[i],c=i===s.length-1,d=r==="/"?e:e.slice(r.length)||"/",j=eE({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d);if(!j)return null;Object.assign(t,j.params);let x=a.route;o.push({params:t,pathname:Mn([r,j.pathname]),pathnameBase:cE(Mn([r,j.pathnameBase])),route:x}),j.pathnameBase!=="/"&&(r=Mn([r,j.pathnameBase]))}return o}function eE(l,e){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[s,t]=nE(l.path,l.caseSensitive,l.end),r=e.match(s);if(!r)return null;let o=r[0],i=o.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:t.reduce((d,j,x)=>{let{paramName:y,isOptional:E}=j;if(y==="*"){let C=a[x]||"";i=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const g=a[x];return E&&!g?d[y]=void 0:d[y]=sE(g||"",y),d},{}),pathname:o,pathnameBase:i,pattern:l}}function nE(l,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),ei(l==="*"||!l.endsWith("*")||l.endsWith("/*"),'Route path "'+l+'" will be treated as if it were '+('"'+l.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+l.replace(/\*$/,"/*")+'".'));let t=[],r="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(t.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(t.push({paramName:"*"}),r+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":l!==""&&l!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),t]}function lE(l){try{return decodeURI(l)}catch(e){return ei(!1,'The URL path "'+l+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),l}}function sE(l,e){try{return decodeURIComponent(l)}catch(s){return ei(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+l+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+s+").")),l}}function au(l,e){if(e==="/")return l;if(!l.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,t=l.charAt(s);return t&&t!=="/"?null:l.slice(s)||"/"}function tE(l,e){e===void 0&&(e="/");let{pathname:s,search:t="",hash:r=""}=typeof l=="string"?jl(l):l;return{pathname:s?s.startsWith("/")?s:rE(s,e):e,search:dE(t),hash:hE(r)}}function rE(l,e){let s=e.replace(/\/+$/,"").split("/");return l.split("/").forEach(r=>{r===".."?s.length>1&&s.pop():r!=="."&&s.push(r)}),s.length>1?s.join("/"):"/"}function ar(l,e,s,t){return"Cannot include a '"+l+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(t)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oE(l){return l.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function iE(l,e){let s=oE(l);return e?s.map((t,r)=>r===l.length-1?t.pathname:t.pathnameBase):s.map(t=>t.pathnameBase)}function aE(l,e,s,t){t===void 0&&(t=!1);let r;typeof l=="string"?r=jl(l):(r=ts({},l),ie(!r.pathname||!r.pathname.includes("?"),ar("?","pathname","search",r)),ie(!r.pathname||!r.pathname.includes("#"),ar("#","pathname","hash",r)),ie(!r.search||!r.search.includes("#"),ar("#","search","hash",r)));let o=l===""||r.pathname==="",i=o?"/":r.pathname,a;if(i==null)a=s;else{let x=e.length-1;if(!t&&i.startsWith("..")){let y=i.split("/");for(;y[0]==="..";)y.shift(),x-=1;r.pathname=y.join("/")}a=x>=0?e[x]:"/"}let c=tE(r,a),d=i&&i!=="/"&&i.endsWith("/"),j=(o||i===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||j)&&(c.pathname+="/"),c}const Mn=l=>l.join("/").replace(/\/\/+/g,"/"),cE=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),dE=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,hE=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function pE(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}const cu=["post","put","patch","delete"];new Set(cu);const uE=["get",...cu];new Set(uE);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(l[t]=s[t])}return l},rs.apply(this,arguments)}const ni=F.createContext(null),xE=F.createContext(null),Tt=F.createContext(null),Pt=F.createContext(null),yl=F.createContext({outlet:null,matches:[],isDataRoute:!1}),du=F.createContext(null);function Mt(){return F.useContext(Pt)!=null}function fl(){return Mt()||ie(!1),F.useContext(Pt).location}function hu(l){F.useContext(Tt).static||F.useLayoutEffect(l)}function jE(){let{isDataRoute:l}=F.useContext(yl);return l?wE():yE()}function yE(){Mt()||ie(!1);let l=F.useContext(ni),{basename:e,future:s,navigator:t}=F.useContext(Tt),{matches:r}=F.useContext(yl),{pathname:o}=fl(),i=JSON.stringify(iE(r,s.v7_relativeSplatPath)),a=F.useRef(!1);return hu(()=>{a.current=!0}),F.useCallback(function(d,j){if(j===void 0&&(j={}),!a.current)return;if(typeof d=="number"){t.go(d);return}let x=aE(d,JSON.parse(i),o,j.relative==="path");l==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Mn([e,x.pathname])),(j.replace?t.replace:t.push)(x,j.state,j)},[e,t,i,o,l])}function fE(l,e){return mE(l,e)}function mE(l,e,s,t){Mt()||ie(!1);let{navigator:r}=F.useContext(Tt),{matches:o}=F.useContext(yl),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=fl(),j;if(e){var x;let D=typeof e=="string"?jl(e):e;c==="/"||(x=D.pathname)!=null&&x.startsWith(c)||ie(!1),j=D}else j=d;let y=j.pathname||"/",E=c==="/"?y:y.slice(c.length)||"/",g=U4(l,{pathname:E}),C=AE(g&&g.map(D=>Object.assign({},D,{params:Object.assign({},a,D.params),pathname:Mn([c,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?c:Mn([c,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),o,s,t);return e&&C?F.createElement(Pt.Provider,{value:{location:rs({pathname:"/",search:"",hash:"",state:null,key:"default"},j),navigationType:an.Pop}},C):C}function EE(){let l=FE(),e=pE(l)?l.status+" "+l.statusText:l instanceof Error?l.message:JSON.stringify(l),s=l instanceof Error?l.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),s?F.createElement("pre",{style:r},s):null,null)}const gE=F.createElement(EE,null);class CE extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?F.createElement(yl.Provider,{value:this.props.routeContext},F.createElement(du.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vE(l){let{routeContext:e,match:s,children:t}=l,r=F.useContext(ni);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),F.createElement(yl.Provider,{value:e},t)}function AE(l,e,s,t){var r;if(e===void 0&&(e=[]),s===void 0&&(s=null),t===void 0&&(t=null),l==null){var o;if((o=s)!=null&&o.errors)l=s.matches;else return null}let i=l,a=(r=s)==null?void 0:r.errors;if(a!=null){let j=i.findIndex(x=>x.route.id&&(a==null?void 0:a[x.route.id]));j>=0||ie(!1),i=i.slice(0,Math.min(i.length,j+1))}let c=!1,d=-1;if(s&&t&&t.v7_partialHydration)for(let j=0;j<i.length;j++){let x=i[j];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(d=j),x.route.id){let{loaderData:y,errors:E}=s,g=x.route.loader&&y[x.route.id]===void 0&&(!E||E[x.route.id]===void 0);if(x.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((j,x,y)=>{let E,g=!1,C=null,D=null;s&&(E=a&&x.route.id?a[x.route.id]:void 0,C=x.route.errorElement||gE,c&&(d<0&&y===0?(SE("route-fallback",!1),g=!0,D=null):d===y&&(g=!0,D=x.route.hydrateFallbackElement||null)));let p=e.concat(i.slice(0,y+1)),h=()=>{let u;return E?u=C:g?u=D:x.route.Component?u=F.createElement(x.route.Component,null):x.route.element?u=x.route.element:u=j,F.createElement(vE,{match:x,routeContext:{outlet:j,matches:p,isDataRoute:s!=null},children:u})};return s&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?F.createElement(CE,{location:s.location,revalidation:s.revalidation,component:C,error:E,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):h()},null)}var pu=function(l){return l.UseBlocker="useBlocker",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l}(pu||{}),ut=function(l){return l.UseBlocker="useBlocker",l.UseLoaderData="useLoaderData",l.UseActionData="useActionData",l.UseRouteError="useRouteError",l.UseNavigation="useNavigation",l.UseRouteLoaderData="useRouteLoaderData",l.UseMatches="useMatches",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l.UseRouteId="useRouteId",l}(ut||{});function DE(l){let e=F.useContext(ni);return e||ie(!1),e}function _E(l){let e=F.useContext(xE);return e||ie(!1),e}function kE(l){let e=F.useContext(yl);return e||ie(!1),e}function uu(l){let e=kE(),s=e.matches[e.matches.length-1];return s.route.id||ie(!1),s.route.id}function FE(){var l;let e=F.useContext(du),s=_E(ut.UseRouteError),t=uu(ut.UseRouteError);return e!==void 0?e:(l=s.errors)==null?void 0:l[t]}function wE(){let{router:l}=DE(pu.UseNavigateStable),e=uu(ut.UseNavigateStable),s=F.useRef(!1);return hu(()=>{s.current=!0}),F.useCallback(function(r,o){o===void 0&&(o={}),s.current&&(typeof r=="number"?l.navigate(r):l.navigate(r,rs({fromRouteId:e},o)))},[l,e])}const Fc={};function SE(l,e,s){!e&&!Fc[l]&&(Fc[l]=!0)}function TE(l){let{basename:e="/",children:s=null,location:t,navigationType:r=an.Pop,navigator:o,static:i=!1,future:a}=l;Mt()&&ie(!1);let c=e.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:o,static:i,future:rs({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof t=="string"&&(t=jl(t));let{pathname:j="/",search:x="",hash:y="",state:E=null,key:g="default"}=t,C=F.useMemo(()=>{let D=au(j,c);return D==null?null:{location:{pathname:D,search:x,hash:y,state:E,key:g},navigationType:r}},[c,j,x,y,E,g,r]);return C==null?null:F.createElement(Tt.Provider,{value:d},F.createElement(Pt.Provider,{children:s,value:C}))}new Promise(()=>{});/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const PE="6";try{window.__reactRouterVersion=PE}catch{}const ME="startTransition",wc=Bu[ME];function RE(l){let{basename:e,children:s,future:t,window:r}=l,o=F.useRef();o.current==null&&(o.current=z4({window:r,v5Compat:!0}));let i=o.current,[a,c]=F.useState({action:i.action,location:i.location}),{v7_startTransition:d}=t||{},j=F.useCallback(x=>{d&&wc?wc(()=>c(x)):c(x)},[c,d]);return F.useLayoutEffect(()=>i.listen(j),[i,j]),F.createElement(TE,{basename:e,children:s,location:a.location,navigationType:a.action,navigator:i,future:t})}var Sc;(function(l){l.UseScrollRestoration="useScrollRestoration",l.UseSubmit="useSubmit",l.UseSubmitFetcher="useSubmitFetcher",l.UseFetcher="useFetcher",l.useViewTransitionState="useViewTransitionState"})(Sc||(Sc={}));var Tc;(function(l){l.UseFetcher="useFetcher",l.UseFetchers="useFetchers",l.UseScrollRestoration="useScrollRestoration"})(Tc||(Tc={}));function NE({location:l="/"}){const e=fE(cr,Sf(l));return console.log("文件路由",cr.map(s=>s.path)),e}var xu={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(l){(function(){var e={}.hasOwnProperty;function s(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=r(o,t(a)))}return o}function t(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return s.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)e.call(o,a)&&o[a]&&(i=r(i,a));return i}function r(o,i){return i?o?o+" "+i:o+i:o}l.exports?(s.default=s,l.exports=s):window.classNames=s})()})(xu);var BE=xu.exports;const me=Nc(BE);function hs({href:l="/",className:e,children:s,onClick:t}){const r=jE(),{setPageData:o}=io(),i=!(l!=null&&l.startsWith("http")),a=async()=>{const c=await eh(l);o==null||o(c),t==null||t(),r(l)};return n.jsx("a",{...i?{onClick:a}:{href:l,onClick:t},className:me("cursor-pointer",e),children:s})}function li(){var o;const{pageData:l}=io(),e=((o=l==null?void 0:l.userConfig.themeConfig)==null?void 0:o.sidebar)??{},{pathname:s}=fl(),t=Object.entries(e).find(([i])=>s.startsWith(i));return{sidebar:t==null?void 0:t[1]}}function LE(){const{sidebar:l}=li(),{pathname:e}=fl(),s=(l==null?void 0:l.map(i=>i.items??[]).flat())??[],t=s.findIndex(i=>(i==null?void 0:i.link)===e),r=s[t-1],o=s[t+1];return{prevPage:r,nextPage:o}}function $E(){const[l,e]=F.useState();return F.useEffect(()=>(window.addEventListener("scroll",()=>{const s=Pc();e(s)}),()=>{window.removeEventListener("scroll",()=>{const s=Pc();e(s)})}),[]),[l,e]}function Pc(){var s,t;const l=Array.from(document.querySelectorAll(".autolink-headings")).filter(r=>{var o;return((o=r.parentElement)==null?void 0:o.tagName)!=="H1"});if(window.scrollY+window.innerHeight>=window.document.documentElement.scrollHeight)return l.length-1;for(let r=0;r<l.length;r++){const o=l[r],i=l[r+1],a=Math.ceil(window.scrollY),c=(((s=o.parentElement)==null?void 0:s.offsetTop)??kn)-kn;if(r===0&&a<c)return;if(!i)return r;const d=(((t=i.parentElement)==null?void 0:t.offsetTop)??kn)-kn;if(a>=c&&a<d)return r}}function OE(){const{prevPage:l,nextPage:e}=LE();return n.jsx("footer",{className:"mt-[32px]",children:n.jsxs("div",{className:"border-divider flex justify-between border-t pt-[24px]",children:[n.jsx("div",{className:"w-[calc(50%-4px)]",children:l&&n.jsx(Mc,{text:l.text,link:l.link,children:"上一页"})}),n.jsx("div",{className:"w-[calc(50%-4px)]",children:e&&n.jsx(Mc,{text:e.text,link:e.link,children:"下一页"})})]})})}function Mc({children:l,text:e,link:s}){return n.jsxs(hs,{href:s,className:"border-divider hover:border-brand group block h-full w-full rounded-[8px] border px-[16px] py-[8px] transition-colors duration-300",children:[n.jsx("div",{className:"text-text-2 text-[12px] font-[500] leading-[20px]",children:l}),n.jsx("div",{className:" text-text-2 group-hover:text-brand overflow-hidden text-ellipsis whitespace-nowrap text-[14px] font-[500] leading-[20px] transition-colors duration-300",children:e})]})}function IE({visible:l,onClick:e}){const{sidebar:s}=li();return!Array.isArray(s)||s.length<1?n.jsx(n.Fragment,{}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:me("fixed inset-0 bg-[#00000060] transition-all duration-300",l?"opacity-100":"opacity-0",l?"visible":"invisible"),onClick:e}),n.jsx("aside",{className:me("w-sidebar border-divider bg-bg-sidebar fixed inset-y-0 left-0 z-40 overflow-y-auto border-r px-[28px] py-[16px] transition-transform duration-300",l?"-translate-x-0":"-translate-x-full"),children:s.map(t=>n.jsx(ju,{onClick:e,dir:t},t.text))})]})}function zE(){const{sidebar:l}=li();return!Array.isArray(l)||Object.keys(l).length<1?n.jsx(n.Fragment,{}):n.jsx("aside",{className:"mt-nav w-sidebar border-divider bg-bg-sidebar pc:-translate-x-0 fixed inset-y-0 left-0 z-40 -translate-x-full overflow-y-auto border-r px-[28px] py-[16px] transition-transform duration-300",children:l.map(e=>n.jsx(ju,{dir:e},e.text))})}function ju({dir:l,onClick:e}){var r,o;const[s,t]=F.useState(!l.collapsed);return n.jsxs("div",{className:"border-divider mt-[4px] border-t first:mt-0 first:border-t-0",children:[n.jsxs("h2",{onClick:()=>t(i=>!i),className:"text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]",children:[n.jsx("span",{children:l.text}),n.jsx("span",{className:me(s?"rotate-90":"rotate-0","icon-[carbon--chevron-right]","transition-transform duration-300")})]}),n.jsx("div",{style:{height:s?`${(((r=l.items)==null?void 0:r.length)??0)*27}px`:"0"},className:me("mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"),children:(o=l.items)==null?void 0:o.map(i=>n.jsx(GE,{onClick:e,item:i},i.link))})]})}function GE({item:l,onClick:e}){const{text:s,link:t}=l,{pathname:r}=fl(),o=r===t;return n.jsx(hs,{href:t,onClick:e,className:me(o?"text-brand":"text-text-2","text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]"),children:s})}function bE({visible:l,onClick:e,toc:s}){return!Array.isArray(s)||s.length<1?n.jsx(n.Fragment,{}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:me("fixed inset-0  bg-[#00000060] transition-all duration-300",l?"opacity-100":"opacity-0",l?"visible":"invisible"),onClick:e}),n.jsx("aside",{className:me("w-toc border-divider bg-bg-sidebar fixed inset-y-0 right-0 z-40  h-full border-l px-[28px] py-[16px] transition-transform duration-300",l?"translate-x-0":"translate-x-full"),children:n.jsx(yu,{onClick:e,toc:s})})]})}function UE({toc:l}){return!Array.isArray(l)||l.length<1?n.jsx(n.Fragment,{}):n.jsx("aside",{className:"w-toc full:flex sticky top-[calc(theme(spacing.nav)+48px)] hidden h-full flex-col",children:n.jsx(yu,{toc:l})})}function yu({toc:l,onClick:e}){const[s]=$E();return n.jsxs("div",{className:"border-divider pc:border-l px-[16px] font-[500]",children:[n.jsx("div",{className:"pc:block bg-brand absolute left-0 hidden h-[18px] w-px transition-[opacity,top] duration-300",style:s!==void 0?{top:s*28+33,opacity:100}:{top:33,opacity:0}}),n.jsx("div",{className:"text-[14px] font-[600] leading-[28px]",children:"本页目录"}),n.jsx("div",{children:l.map((t,r)=>n.jsx(VE,{onClick:e,active:s===r,item:t},t.id))})]})}function VE({item:l,active:e=!1,onClick:s}){return n.jsx("div",{children:n.jsx("a",{href:`#${l.id}`,className:me(e?"text-brand":"text-text-2","text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]"),onClick:t=>{s==null||s(),t.preventDefault();const r=document.getElementById(l.id),o=((r==null?void 0:r.offsetTop)??kn)-kn;scrollTo({top:o})},style:{paddingLeft:`${l.depth-2}rem`},children:l.text})})}function HE({toc:l}){const[e,s]=F.useState({siderber:!1,toc:!1});return n.jsxs("div",{className:"h-nav pc:hidden bg-bg-default sticky top-0 z-50 w-full border-b",children:[n.jsxs("div",{className:"flex h-full items-center justify-between px-[24px]",children:[n.jsx("a",{className:"icon-[carbon--list] h-[24px] w-[24px] cursor-pointer",onClick:()=>{s({siderber:!0,toc:!1})}}),l&&l.length>0&&n.jsx("a",{className:"icon-[carbon--border-top] h-[24px] w-[24px] cursor-pointer",onClick:()=>{s({siderber:!1,toc:!0})}})]}),n.jsx(IE,{visible:e.siderber,onClick:()=>s({siderber:!1,toc:!1})}),n.jsx(bE,{toc:l,visible:e.toc,onClick:()=>s({siderber:!1,toc:!1})})]})}function XE(){F.useEffect(()=>{Array.from(document.querySelectorAll(".autolink-headings")).forEach(l=>{const e=l.parentElement;e&&(e.onclick=s=>{s.preventDefault(),scrollTo({top:e.offsetTop-kn})})})},[])}function WE({content:l,toc:e}){return XE(),n.jsxs("div",{className:"pt-nav",children:[n.jsx(zE,{}),n.jsxs("div",{className:"pc:ml-sidebar ml-0 flex justify-between",children:[n.jsxs("div",{className:"mx-auto w-full max-w-[768px] transition-[margin] duration-300",children:[n.jsx(HE,{toc:e}),n.jsxs("div",{className:"doc p-[48px]",children:[l,n.jsx(OE,{})]})]}),n.jsx(UE,{toc:e})]})]})}function QE({title:l,description:e}){return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"pt-nav flex h-screen flex-col items-center justify-center",children:[n.jsx("div",{className:"text-[10vw]",children:l}),n.jsxs("div",{className:"text-[6vw]",children:[" ",e]})]})})}function KE({className:l,onClick:e}){return n.jsx("button",{onClick:e,className:me(l,"bg-bg-switch border-divider hover:border-gray-1 relative h-[22px] w-[40px] rounded-[11px] border transition-colors duration-300"),children:n.jsx("div",{className:"bg-bg-inverse shadow-1 absolute left-px top-px h-[18px] w-[18px] overflow-hidden rounded-[50%] transition-all duration-300 dark:translate-x-[18px]",children:n.jsxs("span",{className:me("*:text-text-2 *:absolute *:left-[3px] *:top-[3px] *:h-[12px] *:w-[12px] *:transition-opacity *:duration-300"),children:[n.jsx("div",{className:"icon-[carbon--sun] opacity-100 dark:opacity-0"}),n.jsx("div",{className:"icon-[carbon--moon] opacity-0 dark:opacity-100"})]})})})}const qE={github:"icon-[carbon--logo-github]",twitter:"icon-[carbon--logo-twitter]"};function YE({nav:l}){const{y:e}=Bf(),{pathname:s}=fl(),t=!!e,r=s!=="/",o=l==null?void 0:l.filter(c=>c.position==="left"),i=l==null?void 0:l.filter(c=>c.position==="right"||c.position===void 0),a=c=>{const{text:d,img:j,logo:x,dark:y}=c;return d?n.jsx(JE,{item:c,pathname:s}):x?n.jsx(ZE,{item:c}):j?n.jsx(e9,{item:c}):y?n.jsx(n9,{}):n.jsx(n.Fragment,{})};return!l||l.length<1?n.jsx(n.Fragment,{}):n.jsx("header",{className:"pc:fixed absolute left-0 top-0 z-50 w-full",children:n.jsx("div",{className:me(t||r?"border-divider bg-bg-default":"border-transparent bg-transparent","h-nav border-b px-[12px] pt-px transition-colors duration-300"),children:n.jsxs("div",{className:"flex h-full items-center justify-between",children:[n.jsx("div",{className:"flex h-full justify-start",children:o==null?void 0:o.map((c,d)=>n.jsx("div",{className:"h-full",children:a(c)},`${c.link}${d}`))}),n.jsx("div",{className:"flex h-full justify-end",children:i==null?void 0:i.map((c,d)=>n.jsx("div",{className:"h-full",children:a(c)},`${c.link}${d}`))})]})})})}function JE({item:l,pathname:e}){const{text:s,link:t}=l,r=(i="/")=>i.split("/").at(-2),o=r(e)===r(t);return s?n.jsx("nav",{className:"mx-[12px] h-full justify-end",children:n.jsx(hs,{href:t,className:me(o?"text-brand":"text-text-2","text-hover flex h-full items-center whitespace-nowrap text-[14px] font-[500]"),children:s})}):n.jsx(n.Fragment,{})}function ZE({item:l}){const{logo:e,link:s}=l;return e?n.jsx("nav",{className:"mx-[12px] h-full",children:n.jsx(hs,{href:s,className:"text-text-2 text-hover flex  h-full items-center",children:n.jsx("span",{className:me(qE[e],"h-[24px] w-[24px]")})})}):n.jsx(n.Fragment,{})}function e9({item:l}){const{img:e,link:s}=l;return e?n.jsx("nav",{className:"mx-[12px] flex h-full items-center",children:n.jsx(hs,{href:s,children:n.jsx("img",{src:e,className:"h-[24px] w-[24px]"})})}):n.jsx(n.Fragment,{})}function n9(){const{toggle:l}=Tf();return n.jsx("nav",{className:"mx-[4px] flex h-full items-center",children:n.jsx(KE,{onClick:l})})}function l9(){return n.jsx("div",{className:"flex h-screen items-center justify-center",children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("p",{className:"text-[60px] font-[600]",children:"404"}),n.jsx("h1",{className:"text-[20px] font-[700]",children:"页面失踪"}),n.jsx("div",{className:"pt-[16px]",children:n.jsx("a",{href:"/",className:"hover:border-brand hover:text-brand text-brand block rounded-[16px] border px-[16px] py-[4px] text-[14px] font-[500] transition-colors duration-300","un-hover":"",children:"返回主页"})})]})})}function s9({location:l=window.location.pathname}){var t;const{pageData:e}=io(),s=()=>{const r=e==null?void 0:e.pageType;return r==="home"?n.jsx(QE,{title:e==null?void 0:e.userConfig.title,description:e==null?void 0:e.userConfig.description}):r==="doc"?n.jsx(WE,{content:n.jsx(NE,{location:l}),toc:e==null?void 0:e.toc}):r==="404"?n.jsx(l9,{}):n.jsx(n.Fragment,{})};return n.jsxs(n.Fragment,{children:[n.jsx(YE,{nav:(t=e==null?void 0:e.userConfig.themeConfig)==null?void 0:t.nav}),s()]})}var fu,Rc=I4;Rc.createRoot,fu=Rc.hydrateRoot;async function t9(){const l=await eh(location.pathname);fu(document.getElementById("root"),n.jsx(Ff,{value:{pageData:l},children:n.jsx(RE,{children:n.jsx(s9,{})})}))}t9();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
